"use strict";



define("freshdesk/components/module-tickets/compose-email/component",["exports","freshdesk/mixins/tickets/form","ember-keyboard","freshdesk/mixins/tickets/insert-canned-response","freshdesk/mixins/email-config","freshdesk/utils/blank-array","freshdesk/constants/ticket","ember-concurrency","freshdesk/utils/plain-text","freshdesk/mixins/tickets/ticket-templates","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/tickets/ticket-fields-extra"],function(e,t,i,r,s,n,a,l,m,o,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=["attachments","requesterId","responder","groupId","type","internalGroup","internalGroupId","internalAgent","internalAgentId","tags","cloudFiles"];e.default=Ember.Component.extend(t.default,i.EKMixin,r.default,s.default,o.default,c.default,d.default,{store:Ember.inject.service(),i18n:Ember.inject.service(),ticketFields:Ember.inject.service(),eventSources:Ember.inject.service(),marketplace:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),mkpInterfacePage:"newTicket",classNames:["__module-tickets__compose-email"],scrollOffset:-150,templateFields:u,displayInlineCannedResponse:!1,dynamicAttachmentsIds:null,selectedContact:null,startContactValidations:!1,ticketCompany:null,isLoaded:!1,data:null,renderMkpApp:!0,defaultSubmitBtn:"tickets.compose_email.send",refreshTemplate:!1,descriptionValue:null,shouldApplySignature:!0,addedAttachments:(0,n.default)(),inlineAttachments:(0,n.default)(),selectedCc:(0,n.default)(),cloudAttachments:Ember.computed.alias("model.cloudFiles"),userTicketGlobalScope:Ember.computed.equal("currentUser.ticketScope",a.default.agentScope.global),restrictedComposeEnabled:Ember.computed.reads("currentAccount.restrictedComposeEmailEnabled"),submitDisabled:Ember.computed.not("currentAccount.accountData.verified"),emailOptions:Ember.computed("globalEmailConfig","currentUser","restrictedComposeEnabled","updatedEmailConfig",function(){var e=Ember.get(this,"customGlobalEmailConfig");if(Ember.get(this,"restrictedComposeEnabled")&&!Ember.get(this,"userTicketGlobalScope")){var t=Ember.get(this,"currentUser.groupIds");e=e.filter(function(e){var i=Ember.get(e,"groupId");return!(i&&!t.includes(i))})}return e}),responderEmail:Ember.computed("globalPrimaryEmail","emailOptions","restrictedComposeEnabled",function(){var e=Ember.get(this,"globalPrimaryEmail");if(Ember.get(this,"restrictedComposeEnabled")&&!Ember.get(this,"userTicketGlobalScope")){var t=Ember.get(this,"emailOptions");e=t.length>0?t[0]:Ember.get(this,"globalPrimaryEmail")}return e}),isTemplatesEnabled:Ember.computed(function(){var e=Ember.get(this,"currentAccount");return e.hasFeature("ticket_templates")||e.hasFeature("parent_child_tickets")}),fields:Ember.computed("ticketFields.fields",function(){var e=Ember.get(this,"ticketFields.fields"),t=e.find(function(e){return"default_requester"===Ember.get(e,"type")}),i=e.find(function(e){return"default_subject"===Ember.get(e,"type")});return Ember.set(i,"requiredForAgents",!0),Ember.set(t,"fieldName","email"),e.filterBy("hiddenInComposeEmail",!1).sortBy("sortPriorityInComposeEmail")}),submitNewTicket:Ember.on((0,i.keyDown)("cmd+Enter"),function(){this.send("submit")}),init:function(){this._super.apply(this,arguments);var e=Ember.get(this,"data");if(this._setDefaultValues(),this.createAdditonalFields(Ember.get(this,"formFields"),{fieldName:"email",fieldType:"email",isRequired:!0,isEmail:!0},"default_requester"),e?this._setModelData(e):this._initializeData(),Ember.get(this,"isTemplatesEnabled")){Ember.get(this,"fetchTemplatesTask").perform(!1)}Ember.get(this,"marketplace").on("fromUpdated",this.fromUpdated.bind(this)),Ember.get(this,"marketplace").on("activeEmailConfigUpdated",this.activeEmailConfigUpdated.bind(this)),this.activeEmailConfigUpdated()},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").deregisterControls("ticketActions")},actions:{multipleCompany:function(e){Ember.set(this,"ticketCompany",e)},onInsertAttachment:function(e){Ember.set(this,"dynamicAttachmentsIds",e)},onChangeTo:function(e){Ember.set(this,"selectedContact",e),Ember.set(this,"model.email",Ember.get(this,"selectedContact.email"))},onChangeEmailConfig:function(e){Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"responderEmail.replyEmail"),Ember.get(e,"replyEmail"),"ticket","from"),Ember.set(this,"responderEmail",e)},submit:function(){var e=Ember.get(this,"model"),t=[],i=this;return Ember.set(e,"requesterId",null),Ember.set(this,"startContactValidations",!0),Ember.set(e,"companyId",Ember.get(this,"ticketCompany")),this.addAttachments(),t.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.sendEmail",data:e.serialize()}).then(function(){return Ember.get(i,"sendEmailAndSaveTicket").perform()}).catch(function(e){return i._mkpPublishEventError(e)})),Ember.RSVP.Promise.all(t.compact())},cancel:function(){Ember.get(this,"router").transitionTo("helpdesk.tickets")}},fromUpdated:function(){var e=Ember.get(this,"mkpInterface.controlData.from.value");if(e){var t=Ember.get(this,"globalEmailConfig").filterBy("replyEmail",e);1===t.length&&Ember.set(this,"globalPrimaryEmail",t[0])}},willDestroy:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").off("fromUpdated")},onTicketSave:function(e){this.clearFormField(),Ember.set(this,"isLoaded",!1),Ember.get(this,"model.inlineAttachmentIds")&&Ember.set(this,"model.inlineAttachmentIds",[]),Ember.get(this,"toSendAgain")?(this._initializeData(),this.toggleProperty("renderMkpApp"),this.send("clearTemplate")):this._transitionToTicket(e)},_transitionToTicket:function(e){Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.ticket.id)},_failure:function(e){Ember.set(this,"isLoaded",!0),e.errors?Ember.get(this,"flashMessages").danger(e.errors[0].message):Ember.get(this,"flashMessages").danger(e.message)},_setDefaultValues:function(){Ember.set(this,"dynamicAttachmentsIds",[])},_checkSignatureEmpty:function(e){var t=document.createElement("div");t.innerHTML=e;var i=(0,m.default)(e),r=t.getElementsByTagName("img").length;return!(/\S/.test(i)||r>0)},_getSignature:function(){var e=Ember.get(this,"currentUser.signature");return e=e?e.replace(/\{{[^{]*}/g,""):e,this._checkSignatureEmpty(e)?null:e},_initializeData:function(){var e=Ember.get(this,"store"),t=this._getSignature();Ember.RSVP.hash({newTicket:e.createRecord("ticket",{status:a.default.status.closed,priority:a.default.priority.low,description:t,customFields:{}})}).then(this._setModelData.bind(this))},_setModelData:function(e){var t=this;Ember.set(this,"model",e.newTicket),Ember.run.next(function(){Ember.set(t,"isLoaded",!0)})},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.composeEmailSend",e)},serializedModel:function(e){var t=e.serialize();return t.email_config_id=parseInt(Ember.get(this,"responderEmail").id),t},addAttachments:function(){var e=Ember.get(this,"model"),t=Ember.get(this,"dynamicAttachmentsIds");Ember.isPresent(t)&&Ember.setProperties(e,{attachmentIds:t})},clearFormField:function(){Ember.setProperties(this,{selectedCc:[],selectedContact:null,startContactValidations:!1,dynamicAttachmentsIds:[],ticketCompany:null})},sendEmailAndSaveTicket:(0,l.task)(regeneratorRuntime.mark(function e(){var t,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ember.get(this,"model"),i=void 0,e.prev=2,e.next=5,t.sendEmail(this.serializedModel(t));case 5:return r=e.sent,this.onTicketSave(r),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(2),this._failure(i);case 13:case"end":return e.stop()}},e,this,[[2,10]])})),defaultStatus:a.default.status.closed,defaultPriority:a.default.defaultPriority})});
define("freshdesk/components/module-tickets/compose-email/compose-email-form-builder/component",["exports","freshdesk/mixins/tickets/form","ember-keyboard","freshdesk/mixins/tickets/insert-canned-response","freshdesk/mixins/email-config","freshdesk/utils/blank-array","freshdesk/mixins/marketplace/interface/ticket-properties"],function(e,t,r,i,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,r.EKMixin,i.default,n.default,o.default,{store:Ember.inject.service(),i18n:Ember.inject.service(),eventSources:Ember.inject.service(),ticketFields:Ember.inject.service(),scroller:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),startContactValidations:!1,displayInlineCannedResponse:!1,ticketCompany:null,oldDescription:null,validationAttribute:"email",requesterLabel:"fd.to",mkpInterfacePage:"newTicket",addedAttachments:(0,s.default)(),inlineAttachments:(0,s.default)(),ticket:Ember.computed.alias("model"),description:Ember.computed("model.description",function(){var e=Ember.get(this,"model.description"),t=Ember.get(this,"oldDescription");return t!=e?(Ember.set(this,"oldDescription",e),e):t}),selectedGroup:Ember.computed("model.group",function(){var e=Ember.get(this,"model.group");return Ember.get(e,"name")?this._labelGroup(e):null}),allGroupsList:Ember.computed.map("allGroups",function(e){return this._labelGroup(e)}),isGroupRequired:Ember.computed("fields.@each","model.status",function(){var e=Ember.get(this,"fields"),t=e.findBy("type","default_group"),r=Ember.get(t,"requiredForAgents");return r||Ember.get(t,"requiredForClosure")&&Ember.get(this,"model.isMarkedClosed")}),descriptionIsRequired:Ember.computed("fields.length","model.status",function(){var e=Ember.get(this,"fields"),t=e.findBy("type","default_description"),r=Ember.get(t,"requiredForAgents");return r||Ember.get(t,"requiredForClosure")&&Ember.get(this,"model.isMarkedClosed")}),ticketAttachments:Ember.computed("model.attachments","inlineAttachments",function(){var e=[],t=[];return Ember.get(this,"model.attachments")&&(e=Ember.get(this,"model.attachments").toArray()),Ember.get(this,"inlineAttachments")&&(t=Ember.get(this,"inlineAttachments").toArray()),e.concat(t)}),didInsertElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").registerControls(Ember.get(this,"mkpInterfacePage")),Ember.get(this,"mkpInterface").registerControls("ticketActions")},actions:{showCreateWhen:function(e,t){return t.canCreate},onChangeGroup:function(e){var t=Ember.get(this,"allGroupsList");Ember.set(this,"selectedGroup",t.find(function(t){return t.value===e})),this._assignTicketGroup()},insertCannedResponse:function(e){this.setCannedResponse(e),Ember.set(this,"displayInlineCannedResponse",!1)},onChangeTo:function(){this.sendAction.apply(this,["onChangeTo"].concat(Array.prototype.slice.call(arguments)))}},_labelGroup:function(e){return{value:parseInt(Ember.get(e,"id")),label:Ember.get(e,"name")}},_assignTicketGroup:function(){var e=parseInt(Ember.get(this,"selectedGroup.value"));Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"model.groupId"),e,"ticket","groupId"),Ember.set(this,"model.groupId",e)},isMandatory:function(e){return Ember.get(e,"requiredForAgents")||Ember.get(e,"requiredForClosure")}})});
define("freshdesk/components/module-tickets/compose-email/compose-email-form-builder/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"v9bQHCMm",block:'{"symbols":["field","currentSection","sectionField","value","customValidation","onchange"],"statements":[[4,"each",[[20,["formFields"]]],null,{"statements":[[4,"unless",[[19,1,["belongsToSection"]]],null,{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["hide_",[19,1,["name"]]],null]],null],"hide"],null],null],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,1,["type"]],"default_description"],null]],null,{"statements":[[4,"component",[[20,["form","custom-component"]]],[["isRequired","form","model","valuePath"],[[20,["descriptionIsRequired"]],[20,["form","form"]],[20,["model"]],"description"]],{"statements":[[0,"          "],[1,[25,"ui-form/editor/ticket-editor",null,[["value","onInsertAttachment","externalAttachments","showCannedResponse","label","placeholder","contentChanged","cannedResponseModal","validation","customClass","enableInlineCannedResponse","editorInput","skipFirstSendAction","isUpdateDescription","descriptionValue","cloudAttachments","model","wrapDefaultFont"],[[20,["description"]],[20,["onInsertAttachment"]],[20,["ticketAttachments"]],true,[25,"t",["ticket.fields.description"],null],"",[25,"action",[[19,0,[]],[25,"mut",[[20,["model","description"]]],null]],null],[20,["displayInlineCannedResponse"]],[19,5,[]],"editor-create-ticket ticket-action",[25,"toggle-action",["displayInlineCannedResponse",[19,0,[]]],null],[20,["editorInput"]],false,[20,["refreshTemplate"]],[20,["descriptionValue"]],[20,["cloudAttachments"]],[20,["model"]],true]]],false],[0,"\\n"]],"parameters":[4,5,6]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_requester"],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/new-ticket/default-requester",null,[["model","form","startContactValidations","allowContactCreate","emailOnlyContact","onChangeRequester","onchangeCompany","hasValidation","validationAttribute","showCreateWhen","requesterLabel","page","noMatchesMessage","refreshTemplate","disabled"],[[20,["model"]],[20,["form"]],[20,["startContactValidations"]],false,true,[25,"action",[[19,0,[]],"onChangeTo"],null],[20,["onchangeCompany"]],true,[20,["validationAttribute"]],[25,"action",[[19,0,[]],"showCreateWhen"],null],[20,["requesterLabel"]],"new-ticket",false,[20,["refreshTemplate"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_group"],null]],null,{"statements":[[0,"        "],[1,[25,"component",[[20,["form","select-field"]],[19,1,["fieldName"]]],[["options","placeholder","searchEnabled","optionLabelPath","optionValuePath","hideDefaultOption","isRequired","selected","data-test-id","onchange","disabled"],[[20,["allGroupsList"]],[25,"t",["ticket.fields.group_name"],null],true,"label","value",true,[20,["isGroupRequired"]],[20,["selectedGroup"]],"group-id",[25,"action",[[19,0,[]],"onChangeGroup"],null],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"not-eq",[[19,1,["name"]],"company"],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,1,[]]],[["form","model","refresh","disabled"],[[20,["form"]],[20,["model"]],[20,["refreshTemplate"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n      "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[4,"if",[[19,1,["hasSections"]]],null,{"statements":[[4,"module-tickets/ticket-form/section-form",null,[["sectionField","ticket"],[[19,1,[]],[20,["model"]]]],{"statements":[[4,"each",[[19,2,["fields"]]],null,{"statements":[[0,"            "],[6,"div"],[10,"class",[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["hide_",[19,3,["name"]]],null]],null],"hide"],null],null],[7],[0,"\\n              "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,3,[]]],[["form","model","refresh","disabled"],[[20,["form"]],[20,["model"]],[20,["refreshTemplate"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,3,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[3]},null]],"parameters":[2]},null]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[6,"div"],[9,"class","hide"],[7],[0,"\\n  "],[1,[25,"component",[[20,["form","text-field"]],"inline_attachment_ids"],[["disabled","value"],[true,[20,["model","inlineAttachmentIds"]]]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/compose-email/compose-email-form-builder/template.hbs"}})});
define("freshdesk/components/module-tickets/compose-email/form-fields/component",["exports","freshdesk/mixins/tickets/form","ember-keyboard","freshdesk/mixins/tickets/insert-canned-response","freshdesk/mixins/email-config"],function(e,t,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,r.EKMixin,i.default,o.default,{store:Ember.inject.service(),i18n:Ember.inject.service(),ticketFields:Ember.inject.service(),eventSources:Ember.inject.service(),classNames:["__module-tickets__compose-email__form-fields input"],startContactValidations:!1,showMandatoryFields:!0,ticketCompany:null,composeEmailFormFields:Ember.computed("formFields",function(){var e=this;return Ember.get(this,"formFields").filter(function(t){return e.isMandatory(t)})}),extraFormFields:Ember.computed("formFields",function(){var e=this;return Ember.get(this,"formFields").filter(function(t){return!e.isMandatory(t)})}),showAndHideFieldsLabel:Ember.computed("showMandatoryFields",function(){return Ember.get(this,"showMandatoryFields")?"tickets.compose_email.more":"tickets.compose_email.non-mandatory"}),extraFieldsLength:Ember.computed("extraFormFields.[]",function(){var e=Ember.get(this,"extraFormFields").filterBy("belongsToSection",!0);return Ember.get(this,"extraFormFields").length-e.length}),actions:{onInsertAttachment:function(){this.sendAction.apply(this,["onInsertAttachment"].concat(Array.prototype.slice.call(arguments)))},onChangeTo:function(){this.sendAction.apply(this,["onChangeTo"].concat(Array.prototype.slice.call(arguments)))},changeForm:function(){this.toggleProperty("showMandatoryFields")},saveTags:function(e){Ember.set(this,"model.tags",e)}},isMandatory:function(e){return Ember.get(e,"requiredForAgents")||Ember.get(e,"requiredForClosure")}})});
define("freshdesk/components/module-tickets/compose-email/form-fields/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"+Nt+uj8P",block:'{"symbols":[],"statements":[[0,"\\n"],[1,[25,"module-tickets/compose-email/compose-email-form-builder",null,[["formFields","form","model","fields","startContactValidations","onchangeCompany","onChangeTo","onInsertAttachment","refreshTemplate","descriptionValue","cloudAttachments"],[[20,["composeEmailFormFields"]],[20,["form"]],[20,["model"]],[20,["fields"]],[20,["startContactValidations"]],[20,["onchangeCompany"]],[20,["onChangeTo"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[20,["refreshTemplate"]],[20,["descriptionValue"]],[20,["cloudAttachments"]]]]],false],[0,"\\n"],[6,"label"],[9,"class","label-field"],[7],[0,"\\n  "],[1,[25,"t",["tickets.compose-email.tags"],null],false],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","tag-list"],[9,"data-test-id","tags"],[7],[0,"\\n  "],[1,[25,"app-components/app-tags/create-tag",null,[["tags","saveTags","onAddFocus"],[[20,["model","tags"]],[25,"action",[[19,0,[]],"saveTags"],null],false]]],false],[0,"\\n"],[8],[0,"\\n"],[4,"if",[[25,"gte",[[20,["extraFieldsLength"]],1],null]],null,{"statements":[[0,"  "],[6,"p"],[9,"class","text__link text__link--more"],[7],[0,"\\n    "],[6,"a"],[9,"role","button"],[9,"data-test-id","showMoreFields"],[10,"onclick",[25,"action",[[19,0,[]],"changeForm"],null],null],[7],[0,"\\n      "],[1,[25,"t",[[20,["showAndHideFieldsLabel"]]],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["showMandatoryFields"]]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/compose-email/compose-email-form-builder",null,[["formFields","form","model","fields","onchangeCompany","startContactValidations","onChangeTo","onInsertAttachment","cloudAttachments","refreshTemplate"],[[20,["extraFormFields"]],[20,["form"]],[20,["model"]],[20,["fields"]],[20,["onchangeCompany"]],[20,["startContactValidations"]],[20,["onChangeTo"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[20,["cloudAttachments"]],[20,["refreshTemplate"]]]]],false],[0,"\\n"]],"parameters":[]},null],[6,"div"],[9,"id","scroll-to-bottom"],[7],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/compose-email/form-fields/template.hbs"}})});
define("freshdesk/components/module-tickets/compose-email/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"/dSidRBo",block:'{"symbols":["wrapper","sideBar","form"],"statements":[[1,[25,"app-components/app-maintitle",null,[["title"],[[25,"t",["fd.send.email"],null]]]],false],[0,"\\n"],[4,"page-layout/page-wrapper",null,[["class"],["content-widget-wrap new-ticket-wrap"]],{"statements":[[0,"  "],[6,"div"],[9,"class","compose-email-form"],[7],[0,"\\n"],[4,"component",[[19,1,["content-widget"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","compose-email-form__form-for"],[7],[0,"\\n"],[4,"if",[[20,["isLoaded"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","compose-email-form__info-text"],[7],[0,"\\n            "],[1,[25,"t",["tickets.compose_email.info"],null],false],[0,"\\n            "],[6,"a"],[9,"href","https://support.freshdesk.com/support/solutions/articles/211974"],[9,"target","_blank"],[9,"rel","noopener"],[7],[0,"\\n              "],[1,[25,"t",["tickets.compose_email.learn_more"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n          "],[6,"div"],[10,"class",[26,["input ",[25,"if",[[20,["mkpInterface","controlData","from","hide"]],"hide"],null]]]],[7],[0,"\\n            "],[6,"label"],[9,"class","compose-email-form__responder label-field text--small"],[7],[1,[25,"t",["fd.from"],null],false],[8],[0,"\\n            "],[1,[25,"app-components/from-email",null,[["disabled","userTicketGlobalScope","restrictedComposeEnabled","fromOptions","selectedEmailConfig","onchange"],[[20,["mkpInterface","controlData","from","disable"]],[20,["userTicketGlobalScope"]],[20,["restrictedComposeEnabled"]],[20,["emailOptions"]],[20,["responderEmail"]],[25,"action",[[19,0,[]],"onChangeEmailConfig"],null]]]],false],[0,"\\n          "],[8],[0,"\\n"],[4,"ui-form/form-for",[[20,["model"]],[20,["rules"]]],[["submit","focusOnError","defaultSubmitBtn","scrollOffset"],[[25,"action",[[19,0,[]],"submit"],null],[20,["focusOnError"]],[20,["defaultSubmitBtn"]],[20,["scrollOffset"]]]],{"statements":[[0,"            "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","pageType"],["new_email_background","new_email"]]],false],[0,"\\n\\n            "],[1,[25,"module-tickets/compose-email/form-fields",null,[["model","fields","form","startContactValidations","discriptionIsRequired","cloudAttachments","onchangeCompany","onChangeTo","onInsertAttachment","refreshTemplate","descriptionValue"],[[20,["model"]],[20,["fields"]],[19,3,[]],[20,["startContactValidations"]],[20,["descriptionIsRequired"]],[20,["cloudAttachments"]],[25,"action",[[19,0,[]],"multipleCompany"],null],[25,"action",[[19,0,[]],"onChangeTo"],null],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[20,["refreshTemplate"]],[20,["descriptionValue"]]]]],false],[0,"\\n\\n            "],[6,"div"],[9,"class","modal__footer form-submission create-ticket-footer"],[7],[0,"\\n"],[4,"if",[[20,["submitDisabled"]]],null,{"statements":[[0,"                "],[6,"span"],[9,"class","text--red footer-warning"],[7],[1,[25,"t",["tickets.compose-email.activation-warning"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[6,"label"],[9,"class","modal__footer__label"],[7],[0,"\\n                "],[6,"span"],[9,"data-test-id","createAnother"],[9,"class","modal__footer__checkbox"],[7],[0,"\\n                  "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","value"],["createAnotherTicket",[20,["toSendAgain"]]]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[7],[0,"\\n                  "],[1,[25,"t",["tickets.compose_email.create"],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n              "],[6,"button"],[9,"data-test-id","cancelButton"],[9,"type","button"],[9,"name","button"],[9,"class","modal__footer__btn btn btn--secondary"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n                "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n              "],[8],[0,"\\n              "],[1,[25,"component",[[19,3,["submit"]]],[["disableWhen"],[[20,["submitDisabled"]]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"          "],[1,[25,"interactivity-beacon",null,[["routeInteractive"],[true]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[18,"ui-components/module-loading"],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["sidebar"]]],[["class"],["multiple-widget-slider ticket-requester-info template_sidebar ticket-template-block content-widget-wrap"]],{"statements":[[4,"app-components/widget-sidebar",null,[["class","showHideSidebar","ticket","renderInPlace"],["pull-left",[19,1,["showHideSidebar"]],[20,["ticket"]],true]],{"statements":[[4,"if",[[20,["isTemplatesEnabled"]]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon","minimized"],["tickettemplates",[25,"t",["fd.admin.template"],null],"ticket-template",false]],{"statements":[[4,"if",[[20,["fetchTemplatesTask","isRunning"]]],null,{"statements":[[0,"              "],[1,[25,"ui-components/gravity-loader",null,[["isLoading","class"],[true,"tickets-list-loading"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[25,"module-tickets/compose-email/ticket-template",null,[["templates","selectedName","templateApplied","applyTemplate","clearTemplate"],[[20,["templates"]],[20,["selectedName"]],[20,["templateApplied"]],[25,"action",[[19,0,[]],"applyTemplate"],null],[25,"action",[[19,0,[]],"clearTemplate"],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"hasabilities",["view_contacts"],null]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","class","label","icon","minimized"],["contactwidget","contactwidget_wrapper",[25,"t",["fd.contact_details"],null],"info",false]],{"statements":[[0,"            "],[1,[25,"module-tickets/new-ticket/requester-widget",null,[["contact"],[[20,["selectedContact"]]]]],false],[0,"\\n            "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","pageType","renderMkpApp"],["new_email_requester_info","new_email",[20,["renderMkpApp"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/compose-email/template.hbs"}})});
define("freshdesk/components/module-tickets/compose-email/ticket-template/component",["exports","ember-local-storage"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({store:Ember.inject.service(),selectedTemplate:"",classNames:["ticket_template_wrapper","clearfix"],ticketTemplates:(0,t.storageFor)("ticket-templates"),showRecentlyUsed:Ember.computed.not("templateApplied"),isTemplatesEmpty:Ember.computed.empty("templates"),recentlyUsedTemplates:Ember.computed("ticketTemplates.content","templateApplied",function(){return Ember.get(this,"ticketTemplates.content").filter(function(e){return 1===e.assoc_type}).slice(-4)}),hasCreateAccess:Ember.computed(function(){return Ember.get(this,"currentUser").hasAbility("view_admin")}),init:function(){this._super.apply(this,arguments),this.templateList={},this.appliedTemplatedata=[]},actions:{handleKeydown:function(e,t){if(13!=t.keyCode){var s=t.target.value;if(s.length>3&&-1!==Ember.get(this,"options").mapBy("name").indexOf(s)){var i=Ember.get(this,"selectedName");Ember.set(this,"selectedName",i.concat([s]))}}},chooseTemplate:function(e){Ember.set(this,"templateApplied",!0),Ember.set(this,"hasChild",!1),Ember.set(this,"selectedName",e),this.templateInfo(e.id).then(this.handleFindTemplateResponse.bind(this,e))},clear:function(){Ember.get(this,"clearTemplate")()}},templateInfo:function(e){return Ember.RSVP.hash({appliedTemplate:Ember.get(this,"store").findRecord("ticket-template",e,{reload:!0,include:"attachments"})})},handleFindTemplateResponse:function(e,t){var s=t.appliedTemplate,i=!1;Ember.set(this,"appliedTemplatedata",s),this.applyTemplate(Ember.get(this,"appliedTemplatedata"));var a=Ember.assign(e,{content:s});Ember.get(this,"ticketTemplates.content").forEach(function(t){t.id==e.id&&(i=!0)}),1!=i&&Ember.get(this,"ticketTemplates").pushObject(a)}})});
define("freshdesk/components/module-tickets/compose-email/ticket-template/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"7iWifb/q",block:'{"symbols":["template","options"],"statements":[[6,"div"],[9,"class","template_widget"],[9,"data-test-id","template-widget"],[7],[0,"\\n"],[4,"if",[[20,["templateApplied"]]],null,{"statements":[[0,"    "],[6,"a"],[9,"class","make_inline vmid clearlink"],[9,"data-test-id","clear-template"],[10,"onclick",[25,"action",[[19,0,[]],"clear"],null],null],[7],[1,[25,"t",["ticket.template.clear"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isTemplatesEmpty"]]],null,{"statements":[[0,"    "],[6,"p"],[9,"data-test-id","template-description"],[7],[0,"\\n"],[4,"if",[[20,["hasCreateAccess"]]],null,{"statements":[[0,"        "],[1,[25,"t",["ticket.template.description_admin"],null],false],[0,"\\n        "],[6,"a"],[9,"href","/a/ticket_templates/new"],[9,"data-test-id","create-template-link"],[7],[1,[25,"t",["ticket.template.create_one"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"t",["ticket.template.description_agent"],null],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"\\n    "],[6,"div"],[9,"id","powerselect_holder"],[9,"class","powerselect_holder"],[9,"data-test-id","templates-list"],[7],[0,"\\n\\n"],[4,"ui-form/select-field",null,[["class","options","selected","searchField","placeholder","searchPlaceholder","onchange","noMatchesMessage","onkeydown","data-test-id"],["power-select ticket_template_powerselect",[20,["templates"]],[20,["selectedName"]],"name",[25,"t",["ticket.template.select.placeholder"],null],[25,"t",["ticket.template.search.placeholder"],null],[25,"action",[[19,0,[]],"chooseTemplate"],null],[25,"t",["ticket.template.noresult"],null],[25,"action",[[19,0,[]],"handleKeydown"],null],"ticket-templates"]],{"statements":[[0,"        "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["template"],[["class"],["app-icon app-icon--small"]]],false],[8],[0," "],[1,[19,2,["name"]],false],[0,"\\n\\n\\n"]],"parameters":[2]},null],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[20,["showRecentlyUsed"]]],null,{"statements":[[4,"if",[[25,"gt",[[20,["recentlyUsedTemplates","length"]],0],null]],null,{"statements":[[0,"      "],[6,"h5"],[7],[0,"\\n        "],[1,[25,"t",["ticket.template.recentlyused.template"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[6,"ul"],[9,"class","reverse_list recent_templates"],[9,"data-test-id","recently-used-templates"],[7],[0,"\\n"],[4,"each",[[25,"reverse",[[20,["recentlyUsedTemplates"]]],null]],null,{"statements":[[0,"        "],[6,"li"],[9,"class","recent-item"],[7],[0,"\\n          "],[6,"a"],[9,"class","recent-item-link"],[9,"role","button"],[10,"onclick",[25,"action",[[19,0,[]],"chooseTemplate",[19,1,[]]],null],null],[10,"data-test-template-name",[19,1,["name"]],null],[7],[0,"\\n            "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["template"],[["class"],["app-icon app-icon--small"]]],false],[8],[0,"\\n            "],[1,[19,1,["name"]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/compose-email/ticket-template/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/add-requester/component",["exports","freshdesk/constants/validations/contact-validation"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({currentUser:Ember.inject.service(),classNames:["__module-tickets__new-ticket__add-requester"],model:null,startValidate:!1,selectedCompany:Ember.computed("model",{get:function(){return[]},set:function(e,t){return t}}),init:function(){this._super.apply(this,arguments);var e=Ember.get(this,"model");this._setDefaultValues(),t.default.apply(e)},willClearRender:function(){this._super.apply(this,arguments);var e=Ember.get(this,"model");this.clearDirtyValue(e)},didInsertElement:function(){var e=this;Ember.run.later(function(){var t=e.element;t&&t.querySelector("input")&&t.querySelector("input").focus()},100)},actions:{onchange:function(e){Ember.set(this,"selectedCompany",e);var t=Ember.get(this,"model");Ember.set(t,"companyName",e.value)},cancel:function(){this.attrs.cancel()},hasPrivilege:function(e){var t=Ember.get(this,"currentUser").hasAbility("manage_companies");return e.length>1&&t}},clearDirtyValue:function(e){var t=Ember.get(this,"requester");for(var n in t)Ember.set(e,t[n],null)},_setDefaultValues:function(){Ember.set(this,"requester",{name:"name",email:"email",phone:"phone",companyName:"companyName"}),Ember.set(this,"company",{fieldType:"companies",searchField:"value",url:"/search/autocomplete/companies"})}})});
define("freshdesk/components/module-tickets/new-ticket/add-requester/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"lqrVd+4Z",block:'{"symbols":["option"],"statements":[[6,"div"],[9,"class","add-requester"],[7],[0,"\\n  "],[6,"span"],[9,"class","add-requester__add-text"],[7],[0,"\\n    "],[1,[25,"t",["ticket.requester.new"],null],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"span"],[9,"data-test-id","cancelAddContact"],[9,"class","add-requester__cancel-text"],[10,"onclick",[25,"action",[[19,0,[]],"cancel"],null],null],[7],[0,"\\n    "],[1,[25,"t",["ticket.requester.cancel"],null],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","add-requester__mandatory-text"],[7],[1,[25,"t",["ticket.requester.mandatory.hint"],null],false],[8],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","add-requester-field"],[7],[0,"\\n  "],[1,[25,"ui-form/text-field",null,[["data-test-id","valuePath","label","model","startValidate"],["requesterName",[20,["requester","name"]],[25,"t",["ticket.requester.name"],null],[20,["model"]],[20,["startValidate"]]]]],false],[0,"\\n  "],[1,[25,"ui-form/text-field",null,[["data-test-id","valuePath","label","model","startValidate"],["requesterEmail",[20,["requester","email"]],[25,"t",["ticket.requester.email"],null],[20,["model"]],[20,["startValidate"]]]]],false],[0,"\\n  "],[6,"div"],[9,"class","text--xsmall"],[7],[1,[25,"t",["fd.company"],null],false],[8],[0,"\\n  "],[6,"div"],[9,"class","add-requester-field__company-field"],[7],[0,"\\n"],[4,"ui-form/remote-select-field",null,[["data-test-id","selected","allowCreate","onchange","fieldType","searchField","url","showCreateWhen"],["requesterCompany",[20,["selectedCompany"]],true,[25,"action",[[19,0,[]],"onchange"],null],[20,["company","fieldType"]],[20,["company","searchField"]],[20,["company","url"]],[25,"action",[[19,0,[]],"hasPrivilege"],null]]],{"statements":[[0,"      "],[1,[19,1,["value"]],false],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[8],[0,"\\n  "],[1,[25,"ui-form/text-field",null,[["valuePath","data-test-id","label","model","startValidate"],[[20,["requester","phone"]],"requesterPhone",[25,"t",["ticket.requester.phone"],null],[20,["model"]],[20,["startValidate"]]]]],false],[0,"\\n"],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/add-requester/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/component",["exports","ember-concurrency","freshdesk/mixins/tickets/form","freshdesk/mixins/tickets/insert-canned-response","freshdesk/constants/ticket","freshdesk/mixins/email-config","freshdesk/mixins/integrations/installed-apps","freshdesk/mixins/tickets/ticket-templates","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/tickets/ticket-fields-extra","freshdesk/mixins/fetch-user"],function(e,t,r,s,i,n,a,c,o,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function e(e,t){var r=[],s=!0,i=!1,n=void 0;try{for(var a,c=e[Symbol.iterator]();!(s=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{!s&&c.return&&c.return()}finally{if(i)throw n}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=["attachments","requesterId","responder","responderId","groupId","type","productId","internalGroup","internalGroupId","internalAgent","internalAgentId","parentTemplateId","childTemplateIds","tags","cloudFiles"];e.default=Ember.Component.extend(r.default,s.default,n.default,a.default,c.default,o.default,m.default,u.default,{currentUser:Ember.inject.service(),store:Ember.inject.service(),i18n:Ember.inject.service(),ajax:Ember.inject.service(),ticketFields:Ember.inject.service(),eventSources:Ember.inject.service(),marketplace:Ember.inject.service("marketplace"),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__new-ticket"],scrollOffset:-150,status:null,templateFields:l,data:null,contactAttribute:null,contactCreateUrl:"api/_/contacts/quick_create",selectedContact:null,createAnother:!1,createWithServiceTask:!1,focusOnError:0,dynamicAttachmentsIds:null,startContactValidations:!1,ticketCompany:null,addNewRequester:!0,isDisabled:!1,refreshTemplate:!1,descriptionValue:null,renderMkpApp:!0,contactId:null,emailId:null,cloudAttachments:Ember.computed.alias("model.cloudFiles"),isFSMEnabled:Ember.computed.reads("currentAccount.fsmEnabled"),isLoaded:Ember.computed(function(){return!1}),isTemplatesEnabled:Ember.computed(function(){var e=Ember.get(this,"currentAccount");return e.hasFeature("ticket_templates")||e.hasFeature("parent_child_tickets")}),fields:Ember.computed("ticketFields.fields",function(){var e=Ember.get(this,"ticketFields.fields"),t=e.find(function(e){return"default_requester"===Ember.get(e,"type")});return Ember.set(t,"fieldName","requesterId"),e.filterBy("hiddenInCreate",!1)}),contactEmailDetails:Ember.computed(function(){if(Ember.get(this,"emailId"))return Ember.get(this,"emailId");if(Ember.get(this,"contactId")){var e=this.peekUser(parseInt(Ember.get(this,"contactId")));if(null!==e)return Ember.get(e,"email")}}),init:function(){this._super.apply(this,arguments),this._setDefaultValues(),this.createAdditonalFields(Ember.get(this,"formFields"),{fieldName:"email",fieldType:"email",isRequired:!0,isEmail:!0},"default_requester");var e=Ember.get(this,"data");Ember.set(this,"contactId",parseInt(Ember.get(this,"model.contactId"))),Ember.set(this,"emailId",Ember.get(this,"model.email")),e?this._setModelData(e):this._initializeModelData(),Ember.get(this,"isTemplatesEnabled")&&Ember.get(this,"fetchTemplatesTask").perform()},actions:{onChangeSubmitOptions:function(e,t){if(t)switch(e){case"createAnother":Ember.set(this,"createWithServiceTask",!1);break;case"createWithServiceTask":Ember.set(this,"createAnother",!1)}},multipleCompany:function(e){Ember.set(this,"ticketCompany",e)},onInsertAttachment:function(e){Ember.set(this,"dynamicAttachmentsIds",e)},toggleAddRequester:function(){Ember.set(this,"ticketCompany",null),Ember.set(this,"selectedContact",null),Ember.set(this,"startContactValidations",!1)},onChangeRequester:function(e){Ember.set(this,"selectedContact",e)},submit:function(){this.addAttachments();var e=Ember.get(this,"model"),t=[],r=this;Ember.get(this,"addNewRequester")&&Ember.set(e,"companyId",Ember.get(this,"ticketCompany"));var s={ticket:Ember.get(this,"model").serialize(),requester:this._getUserDataForApps()};return t.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.saveTicket",data:s}).then(function(){return Ember.get(r,"addNewRequester")?Ember.get(r,"saveTicket").perform():Ember.get(r,"contactAndTicketCreation").perform()}).catch(function(e){return r._mkpPublishEventError(e)})),Ember.RSVP.Promise.all(t.compact())},cancel:function(){Ember.get(this,"model.topicId")?Ember.get(this,"router").transitionTo("helpdesk.forums.topics",Ember.get(this,"model.topicId")):Ember.get(this,"router").transitionTo("helpdesk.tickets")}},_setDefaultValues:function(){Ember.set(this,"contactAttribute",["name","phone","email","companyName"]),Ember.set(this,"dynamicAttachmentsIds",[]);var e=[Object.create({value:i.default.status.closed,translatedLabel:Ember.get(this,"i18n").t("fd.close")})];Ember.set(this,"status",e)},_getUserDataForApps:function(){return Ember.get(this,"newContact.email")?Ember.get(this,"newContact").serialize():{name:Ember.get(this,"selectedContact.value"),email:Ember.get(this,"selectedContact.email"),id:Ember.get(this,"selectedContact.id")}},_initializeModelData:function(){var e=Ember.get(this,"store");Ember.get(this,"model.topicId")&&this._prefillTopicData(),Ember.RSVP.hash({newTicket:e.createRecord("ticket",{status:this.defaultStatus,priority:this.defaultPriority,customFields:{}}),newContact:e.createRecord("contact")}).then(this._setModelData.bind(this))},_setModelData:function(e){var t=this;Ember.set(this,"model",e.newTicket),Ember.set(this,"newContact",e.newContact),Ember.run.next(function(){Ember.set(t,"isLoaded",!0)})},_prefillTopicData:function(){var e=Ember.get(this,"store").findRecord("topic",Ember.get(this,"model.topicId")).then(this._fetchTopicPost);Ember.RSVP.all([e]).then(this._updateModelData.bind(this))},_fetchTopicPost:function(e){var t={},r=function(r){var s=Ember.getProperties(e,"title","userId","id"),i=s.title,n=s.userId,a=s.id,c=Ember.get(r,"data.description");return Ember.setProperties(t,{subject:i,description:c,requesterId:n,topicId:a}),t};return e.getFirstPost().then(r)},_updateModelData:function(e){var t=this,r=d(e,1),s=r[0];Ember.set(this,"isLoaded",!1),Ember.setProperties(Ember.get(this,"model"),s),Ember.set(this,"descriptionValue",s.description),Ember.run.later(function(){Ember.set(t,"isLoaded",!0)},500)},_checkGroupPermission:function(e){return Ember.get(this,"currentUser.ticketScope")===i.default.agentScope.group&&Ember.get(this,"currentUser.groupIds").includes(Ember.get(e,"groupId"))},_checkTicketPermission:function(e){return Ember.get(Ember.get(this,"currentUser"),"id")===Ember.get(e,"responderId")},_checkGlobalPermission:function(){return Ember.get(this,"currentUser.ticketScope")===i.default.agentScope.global},flashMessage:function(e,t){var r=Ember.get(this,"flashMessages");t&&(e?r.success(t):r.danger(t))},_transitionToTicket:function(e){var t=this;this.clearFormFields(),this.clearCloudAttachments(),Ember.set(this,"isLoaded",!1),Ember.get(this,"createAnother")?(this._initializeModelData(),this.toggleProperty("isTemplatesEnabled"),this.toggleProperty("renderMkpApp"),Ember.run.next(function(){return t.toggleProperty("isTemplatesEnabled")})):this._checkGlobalPermission()||this._checkGroupPermission(e)||this._checkTicketPermission(e)?Ember.get(this,"createWithServiceTask")?Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id,{queryParams:{createServiceTask:!0}}):Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id):Ember.get(this,"router").transitionTo("helpdesk.tickets"),this.flashMessage(!0,this.i18n.t("ticket.create.success"))},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.saveTicket",e)},_failure:function(e){Ember.set(this,"isLoaded",!0),e.errors?this.flashMessage(!1,e.errors[0].message):this.flashMessage(!1,e.message)},clearFormFields:function(){Ember.set(this,"ticketCompany",null),Ember.set(this,"selectedContact",null),Ember.set(this,"dynamicAttachmentsIds",[])},addAttachments:function(){var e=Ember.get(this,"model"),t=Ember.get(this,"dynamicAttachmentsIds");Ember.isPresent(t)&&Ember.setProperties(e,{attachmentIds:t})},createContact:(0,t.task)(regeneratorRuntime.mark(function e(t){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},Ember.get(this,"contactAttribute").forEach(function(e){r[e.decamelize()]=Ember.get(t,e)}),s=void 0,e.prev=3,e.next=6,Ember.get(this,"ajax").request(Ember.get(this,"contactCreateUrl"),{method:"POST",data:JSON.stringify(r)});case 6:return s=e.sent,this.flashMessage(!0,this.i18n.t("ticket.requester.create.success")),Ember.set(this,"newContact",Ember.get(this,"store").createRecord("contact")),e.abrupt("return",s.data);case 12:e.prev=12,e.t0=e.catch(3),this._failure(e.t0);case 15:case"end":return e.stop()}},e,this,[[3,12]])})),validateAndCreateContact:(0,t.task)(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ember.get(this,"newContact"),e.next=3,t.validate();case 3:if(r=e.sent,s=r.validations,!Ember.get(s,"isInvalid")){e.next=8;break}return this.incrementProperty("focusOnError"),e.abrupt("return");case 8:return e.next=10,Ember.get(this,"createContact").perform(t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),contactAndTicketCreation:(0,t.task)(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ember.set(this,"startContactValidations",!0),e.next=3,Ember.get(this,"validateAndCreateContact").perform();case 3:if(t=e.sent,r=t?t.id:null,s=Ember.get(this,"model"),!r){e.next=12;break}return Ember.set(s,"requesterId",r),this.toggleProperty("addNewRequester"),e.next=11,Ember.get(this,"saveTicket").perform();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),saveTicket:(0,t.task)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ember.get(this,"model"),r=void 0,e.prev=2,e.next=5,t.save();case 5:return r=e.sent,Ember.get(t,"inlineAttachmentIds")&&Ember.set(t,"inlineAttachmentIds",[]),this._transitionToTicket(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),this._failure(e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])})),defaultStatus:i.default.defaultStatus,defaultPriority:i.default.defaultPriority})});
define("freshdesk/components/module-tickets/new-ticket/custom-create/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["__module-tickets__new-ticket__custom-create"]})});
define("freshdesk/components/module-tickets/new-ticket/custom-create/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"/bo5W1WF",block:'{"symbols":[],"statements":[[6,"div"],[7],[0,"\\n  "],[6,"span"],[9,"class","custom-create__span"],[7],[0,"\\n    "],[1,[25,"svg-jar",["add"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n  "],[8],[0,"\\n  "],[1,[25,"t",["ticket.requester.customAdd"],null],false],[0,"\\n  \\""],[1,[20,["term","searchText"]],false],[0,"\\"\\n  "],[1,[25,"t",["ticket.requester.customAdd.requester"],null],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/custom-create/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/default-requester/component",["exports","freshdesk/utils/duplicate-check","ember-concurrency","freshdesk/utils/blank-array","freshdesk/mixins/fetch-user"],function(e,t,s,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=/<(.*?)>/;e.default=Ember.Component.extend(r.default,{store:Ember.inject.service("store"),currentAccount:Ember.inject.service(),currentUser:Ember.inject.service(),eventSources:Ember.inject.service(),marketplace:Ember.inject.service("marketplace"),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__new-ticket__default-requester"],contactFindUrl:"/search/autocomplete/requesters",allowContactCreate:!1,emailOnlyContact:!1,addNewRequester:!0,contactEmail:null,createdContactId:null,fetchAgentDetails:!1,hasValidation:!1,model:null,newContact:null,refreshTemplate:!1,requesterLabel:"ticket.requester.label",showCcField:!0,showCompanyField:!0,startContactValidations:!1,ticketCompany:null,validationAttribute:"requesterId",requesterId:null,isEmailInvalid:!1,isNewTicketPage:!1,classNameBindings:["isEmailInvalid:error"],selectedCc:(0,i.default)(),showCc:Ember.computed.empty("model.ccEmails"),selectedCcEmails:Ember.computed.mapBy("selectedCc","email"),showAddCc:Ember.computed.and("showCc","showCcField"),applyCompanyFieldStyle:Ember.computed.and("showCc","allowContactCreate"),requester:Ember.computed("model","createdContactId","refreshTemplate",function(){var e=Ember.get(this,"model.requesterId");return e?Ember.get(this,"findContact").perform(e):null}),hasAbilityToAddContact:Ember.computed("addNewRequester",function(){return Ember.get(this,"addNewRequester")&&Ember.get(this,"currentUser").hasAbility("ManageContacts")}),selectedContact:Ember.computed("requesterValue","requester.isSuccessful",{get:function(){return Ember.get(this,"requesterValue")?Ember.get(this,"requesterValue"):Ember.get(this,"requester.isSuccessful")?Ember.get(this,"requester.value"):Ember.get(this,"model.requesterId")?Ember.get(this,"model.requesterId"):null},set:function(e,t){return t}}),shouldShowCompanyField:Ember.computed("companyList","hasMultipleCompanyFeature","showCompanyField",function(){var e=Ember.get(this,"showCompanyField"),t=Ember.get(this,"companyList").length>1;return Ember.get(this,"hasMultipleCompanyFeature")&&e&&t}),isContactEditable:Ember.computed("model",function(){return"outbound_email"!=Ember.get(this,"model.sourceType")}),contactInfo:Ember.computed("selectedContact","fetchAgentDetails",function(){var e=Ember.get(this,"fetchAgentDetails"),t=Ember.get(this,"selectedContact.id"),s=void 0;return t&&!e&&(s=this.fetchUser(t,{reload:!0,include:"company"})),s}),hasMultipleCompanyFeature:Ember.computed("currentAccount.features",function(){return Ember.get(this,"currentAccount").hasFeature("MultipleUserCompanies")}),companyList:Ember.computed("contactInfo.isFulfilled",function(){var e=[];Ember.set(this,"ticketCompany",null);var t=Ember.get(this,"contactInfo");if(t&&Ember.get(t,"isFulfilled")&&Ember.get(this,"hasMultipleCompanyFeature")){var s=Ember.get(t,"content");null!==Ember.get(s,"companyId")&&(Ember.set(this,"ticketCompany",Ember.get(s,"companyId")),e.push({id:parseInt(Ember.get(s,"company.id")),name:Ember.get(s,"company.name")})),Ember.get(s,"otherCompanies").forEach(function(t){e.push({id:t.id,name:t.name})}),parseInt(s.id)===Ember.get(this,"requesterId")&&Ember.get(this,"model.companyId")&&Ember.set(this,"ticketCompany",Ember.get(this,"model.companyId"))}return e.length<=1&&Ember.set(this,"ticketCompany",null),this.send("onchangeCompany",Ember.get(this,"ticketCompany")),e}),init:function(){var e=this;this._super.apply(this,arguments);var t=Ember.get(this,"validationAttribute");Ember.set(this,"requesterId",Ember.get(this,"model.requesterId")),Ember.get(this,"hasValidation")&&t&&Ember.defineProperty(this,"contactValidation",Ember.computed.reads("model.validations.attrs."+t));var s=Ember.get(this,"model.ccEmails")||[],i=s.map(function(e){return{email:e,details:e,valid:!0}});if(Ember.get(this,"contactEmailDetails"))this.contactEmailLoad(Ember.get(this,"contactEmailDetails"));else{var r=Ember.get(this,"contactId");r?this.fetchUser(r).then(function(t){e.contactEmailLoad(t.data.email,t.data)}):this.sendAction("onChangeRequester",null)}Ember.set(this,"selectedCc",i),Ember.get(this,"marketplace").on("ccUpdated",this.ccUpdated.bind(this)),"new-ticket"===Ember.get(this,"page")&&Ember.setProperties(this,{isNewTicketPage:!0})},actions:{onchangeCompany:function(e){this.sendAction("onchangeCompany",e)},handleFocus:function(e){Ember.get(this,"selectedContact")&&Ember.get(this,"selectedContact.id")||this.tabPressed||(e.actions.open(),Ember.set(this,"tabPressed",!0))},handleBlur:function(e){if(Ember.get(this,"isNewTicketPage")&&!Ember.get(this,"isValueSelected")){var t=e.searchText,s={email:t,details:t};Ember.set(this,"isValueSelected",!0),e.actions.select(s)}},handleInput:function(){Ember.get(this,"isNewTicketPage")&&Ember.setProperties(this,{isEmailInvalid:!1,isValueSelected:!1})},handleKeydown:function(e,s,i){var r=this;if(Ember.get(this,"isNewTicketPage")){var n=s.target.value;if((9===s.keyCode||13===s.keyCode)&&n){var c=void 0;if(e.highlighted)c=e.highlighted;else{var l=n;n.indexOf(" ")>0&&n.indexOf("<")>0&&(l=n.match(a)[1]),c={email:l,details:n},(0,t.isValidEmail)(l)||(c.valid=!1)}e.actions.select(i(c,e),s)}9===s.keyCode&&(Ember.set(this,"tabPressed",!0),Ember.run.later(function(){Ember.set(r,"tabPressed",!1)}))}},showCreateWhen:function(e,t){return!Ember.get(this,"isNewTicketPage")&&(!this.attrs.showCreateWhen||this.attrs.showCreateWhen(e,t))},onChangeRequester:function(e){e=this.selectFromSuggestions(e),Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"selectedRequester"),e.email,"ticket","requester"),Ember.set(this,"selectedRequester",e.email),Ember.setProperties(this,{fetchAgentDetails:!1,selectedContact:e,"model.requesterId":e.id?e.id:null}),this.sendAction("onChangeRequester",e)},toggleCc:function(){Ember.get(this,"mkpInterface.controlData.cc.disable")||Ember.get(this,"mkpInterface.controlData.to.disable")||(this.toggleProperty("showCc"),Ember.set(this,"selectedCc",[]),Ember.set(this,"model.ccEmails",null))},onChangeCc:function(e){Ember.set(this,"selectedCc",e);var s=Ember.get(this,"selectedCcEmails"),i=[];s.forEach(function(e){(0,t.isValidEmail)(e)&&i.pushObject(e)}),Ember.set(this,"model.ccEmails",i)},toggleAddRequester:function(){Ember.get(this,"mkpInterface.controlData.to.disable")||(Ember.get(this,"isNewTicketPage")&&this.setRequesterField(Ember.get(this,"selectedContact.details")),this._cleanRequester(),this.toggleProperty("addNewRequester"),Ember.get(this,"addNewRequester")?Ember.set(this,"showCc",!Ember.get(this,"model.ccEmails")):Ember.set(this,"showCc",!1),this.sendAction("toggleAddRequester"))}},contactEmailLoad:function(e,t){Ember.set(this,"model.email",e);var s=t?this.getOtherDetailsForContact(t):e,i={details:s};Ember.set(this,"selectedContact",i),Ember.set(this,"model.requesterId",Ember.get(this,"contactId")),Ember.setProperties(this,{fetchAgentDetails:!1,selectedContact:{id:Ember.get(this,"contactId"),email:s,details:s},"model.requesterId":Ember.get(this,"contactId")}),!Ember.get(this,"selectedContact.id")&&Ember.get(this,"allowContactCreate")&&this.setRequesterField(s),this.sendAction("onChangeRequester",{id:Ember.get(this,"contactId"),email:s,details:s})},getOtherDetailsForContact:function(e){return e.email?e.email:e.phone?e.name+" ("+e.phone+")":e.twitterId?"@"+e.twitterId:e.uniqueExternalId?e.name+" ("+e.uniqueExternalId+")":e.name+" ("+e.mobile+")"},selectFromSuggestions:function(e){if(Ember.get(this,"isNewTicketPage")){Ember.setProperties(this,{"model.shouldValidate.requesterId":!!e.id||!e.email,"model.email":e.email});var s=!0;e.email&&!e.id&&(s=(0,t.isValidEmail)(e.email)),Ember.set(this,"isEmailInvalid",!s)}else this.toggleNewContact(e,!0);return Ember.set(this,"isValueSelected",!0),e},toggleNewContact:function(e){Ember.get(this,"allowContactCreate")&&!e.id&&(this.setRequesterField(e.details),this.send("toggleAddRequester"))},ccUpdated:function(){var e=Ember.get(this,"mkpInterface.controlData.cc.value");if(e){var s=[];e.map(function(e){return Ember.get(e,"email")}).forEach(function(e){(0,t.isValidEmail)(e)&&s.pushObject(e)}),Ember.set(this,"selectedCc",e),Ember.set(this,"model.ccEmails",s),Ember.set(this,"showCc",!1)}},willDestroy:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").off("ccUpdated")},_cleanRequester:function(){Ember.setProperties(this,{selectedContact:null,"model.requesterId":null,"model.email":null,isEmailInvalid:!1,ticketCompany:null})},_failure:function(e){this.flashMessage(!1,e.message)},flashMessage:function(e,t){var s=Ember.get(this,"flashMessages");return e?s.success(t):s.danger(t)},isNumber:function(e){return!isNaN(e)&&isFinite(e)},_getContactDetails:function(e){var t=Ember.get(this,"contactEmail"),s=void 0;if(t)s="<"+t+">";else{var i=Ember.get(e,"email"),r=Ember.get(e,"phone"),a=Ember.get(e,"mobile"),n=Ember.get(e,"twitterId");s=i?"<"+i+">":r?"("+r+")":a?"("+a+")":n?"("+n+")":""}return Ember.get(e,"name")+" "+s},setRequesterField:function(e){var s=Ember.get(this,"newContact");(0,t.isValidEmail)(e)?Ember.set(s,"email",e):this.isNumber(e)?Ember.set(s,"phone",e):Ember.set(s,"name",e)},findContact:(0,s.task)(regeneratorRuntime.mark(function e(t){var s,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0,i=void 0,e.prev=1,e.next=4,this.fetchUser(t,{backgroundReload:!1});case 4:return s=e.sent,i=this._getContactDetails(s),r={details:i,email:Ember.get(s,"email"),id:Ember.get(s,"id"),value:Ember.get(s,"name")},e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),this._failure(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}))})});
define("freshdesk/components/module-tickets/new-ticket/default-requester/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"sum9zFKF",block:'{"symbols":["option","email","option"],"statements":[[4,"if",[[20,["isContactEditable"]]],null,{"statements":[[4,"if",[[25,"and",[[20,["allowContactCreate"]],[25,"not",[[20,["addNewRequester"]]],null]],null]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/new-ticket/add-requester",null,[["model","startValidate","cancel"],[[20,["newContact"]],[20,["startContactValidations"]],[25,"action",[[19,0,[]],"toggleAddRequester"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","to","hide"]],"hide"],null],null],[7],[0,"\\n      "],[6,"div"],[9,"class","text--xsmall label-field"],[7],[0,"\\n        "],[1,[25,"t",[[20,["requesterLabel"]]],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","to","disable"]]],null,{"statements":[[0,"        "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n          "],[6,"span"],[9,"class","display__email"],[7],[1,[20,["selectedContact","details"]],false],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-form/remote-select-field",null,[["selected","onchange","data-test-id","searchField","form","url","emailOnlyContact","validationAttribute","hasValidation","allowInvalid","validation","onBlur","onFocus","onInput","handleKeydown","noMatchesMessage","showCreateWhen","skipCloseOnRightClick","allowHtmlSafe"],[[20,["selectedContact"]],[25,"action",[[19,0,[]],"onChangeRequester"],null],"requester","details",[20,["form","form"]],[20,["contactFindUrl"]],[20,["emailOnlyContact"]],[20,["validationAttribute"]],[20,["hasValidation"]],false,[20,["contactValidation"]],[25,"action",[[19,0,[]],"handleBlur"],null],[25,"action",[[19,0,[]],"handleFocus"],null],[25,"action",[[19,0,[]],"handleInput"],null],[25,"action",[[19,0,[]],"handleKeydown"],null],[20,["noMatchesMessage"]],[25,"action",[[19,0,[]],"showCreateWhen"],null],true,true]],{"statements":[[0,"          "],[1,[19,3,["details"]],false],[0,"\\n"]],"parameters":[3]},null],[4,"if",[[20,["isEmailInvalid"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"data-test-error","contact"],[9,"class","help-block"],[7],[1,[25,"t",["contact.validation.email.invalid.message"],null],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"      "],[6,"div"],[9,"class","requester-and-cc-link"],[7],[0,"\\n"],[4,"if",[[20,["allowContactCreate"]]],null,{"statements":[[4,"if",[[20,["hasAbilityToAddContact"]]],null,{"statements":[[0,"            "],[6,"span"],[9,"data-test-id","addContactLink"],[9,"class","requester-and-cc"],[10,"onclick",[25,"action",[[19,0,[]],"toggleAddRequester"],null],null],[7],[1,[25,"t",["ticket.requester.new"],null],false],[8],[0,"\\n"],[4,"if",[[20,["showAddCc"]]],null,{"statements":[[0,"              "],[6,"span"],[10,"class",[26,["requester-and-cc-link__separator-link ",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null]]]],[7],[0,"|"],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["showAddCc"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"data-test-id","showCcLink"],[10,"class",[26,["requester-and-cc ",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"toggleCc"],null],null],[7],[0,"\\n            "],[1,[25,"t",["tickets.new.add_cc"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"],[4,"if",[[20,["shouldShowCompanyField"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[25,"if",[[25,"not",[[20,["applyCompanyFieldStyle"]]],null],"company-field"],null],null],[7],[0,"\\n          "],[1,[25,"ui-form/select-box",null,[["placeholder","data-test-id","options","optionLabelPath","optionValuePath","value","isRequired","hideDefaultOption","searchEnabled","onchange"],[[25,"t",["fd.company"],null],"ticketCompany",[20,["companyList"]],"name","id",[20,["ticketCompany"]],true,true,false,[25,"action",[[19,0,[]],"onchangeCompany"],null]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]}],[4,"if",[[25,"and",[[20,["showCcField"]],[25,"not",[[20,["showCc"]]],null]],null]],null,{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null],null],[7],[0,"\\n      "],[6,"div"],[10,"class",[25,"if",[[20,["shouldShowCompanyField"]],"text--xsmall cc-label","text--xsmall cc-label cc-label__company"],null],null],[7],[0,"\\n        "],[1,[25,"t",["fd.cc"],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","cc","disable"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"id","display__emails"],[9,"class","display_emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedCc"]]],null,{"statements":[[0,"            "],[6,"span"],[9,"class","display__email"],[7],[1,[19,2,["details"]],false],[8],[0,"\\n"]],"parameters":[2]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-form/remote-select-field",null,[["data-test-id","selected","onchange","searchField","multiple","maxcount","url"],["Cc",[20,["selectedCc"]],[25,"action",[[19,0,[]],"onChangeCc"],null],"details",true,50,[20,["contactFindUrl"]]]],{"statements":[[0,"          "],[1,[19,1,["details"]],false],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]}],[4,"if",[[25,"and",[[20,["showCcField"]],[20,["addNewRequester"]]],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"data-test-id","hideCcLink"],[9,"class","requester-and-cc-link requester-and-cc"],[10,"onclick",[25,"action",[[19,0,[]],"toggleCc"],null],null],[7],[1,[25,"t",["tickets.new.hide_cc"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"div"],[9,"class","add-requester__cc-gap"],[7],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/default-requester/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/requester-widget/component",["exports","ember-concurrency","freshdesk/mixins/fetch-user"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(r.default,{store:Ember.inject.service("store"),classNames:["__module-tickets__new-ticket__requester-widget"],allowContactCreate:!0,addNewRequester:!0,contact:null,isNewContact:Ember.computed("contact","addNewRequester",function(){var e=Ember.get(this,"contact"),t=Ember.get(this,"addNewRequester"),r=Ember.get(this,"allowContactCreate");return e||r&&!t}),isRequesterPresent:Ember.computed("contact",function(){var e=Ember.get(this,"contact");return e&&e.id}),contactInfo:Ember.computed("contact",function(){var e=Ember.get(this,"contact");return e&&e.id?Ember.get(this,"_getContact").perform(e):null}),companyInfo:Ember.computed("contactInfo.isSuccessful",function(){var e=Ember.get(this,"contactInfo.value");if(e&&Ember.get(e,"companyId")){var t=Ember.get(e,"companyId");return Ember.get(this,"_getCompany").perform(t)}return null}),_failure:function(e){this.flashMessage(!1,e.message)},flashMessage:function(e,t){var r=Ember.get(this,"flashMessages");return e?r.success(t):r.danger(t)},_getContact:(0,t.task)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchUser(t.id);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),this._failure(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),_getCompany:(0,t.task)(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,n=Ember.get(this,"store"),e.prev=2,e.next=5,n.findRecord("company",t);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(2),this._failure(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))})});
define("freshdesk/components/module-tickets/new-ticket/requester-widget/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"pI6/9MIg",block:'{"symbols":[],"statements":[[4,"if",[[20,["isRequesterPresent"]]],null,{"statements":[[4,"if",[[25,"or",[[20,["contactInfo","isRunning"]],[20,["companyInfo","isRunning"]]],null]],null,{"statements":[[4,"ui-components/module-loading",null,[["class"],["requester-info-sidebar__loading"]],{"statements":[[0,"      "],[6,"div"],[9,"data-test-id","contactInfoLoading"],[9,"class","requester-info-sidebar__loading__text"],[7],[0,"\\n        "],[1,[25,"t",["tickets.compose_email.requester_info.loading"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/widgets/requester-info",null,[["requester","company","data-test-id"],[[20,["contactInfo","value"]],[20,["companyInfo","value"]],"contactInfoLoaded"]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isNewContact"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"data-test-id","newContact"],[9,"class","requester-info-sidebar__present"],[7],[0,"\\n      "],[6,"p"],[7],[0,"\\n        "],[6,"img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/empty-states/requestor-empty-4a2366f0bbb1605faacc6877502883c4.svg"],[10,"alt",[25,"t",["tickets.compose_email.requester_info.empty_message"],null],null],[7],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"p"],[9,"class","requester-info-sidebar__present__new-info"],[7],[0,"\\n        "],[1,[25,"t",["ticket.requester.new.message"],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"data-test-id","emptyContactDetail"],[9,"class","requester-info-sidebar__present"],[7],[0,"\\n      "],[6,"p"],[7],[0,"\\n        "],[6,"img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/empty-states/requestor-empty-4a2366f0bbb1605faacc6877502883c4.svg"],[10,"alt",[25,"t",["tickets.compose_email.requester_info.empty_message"],null],null],[7],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"p"],[9,"class","requester-info-sidebar__present__empty"],[7],[0,"\\n        "],[1,[25,"t",["tickets.compose_email.requester_info.empty_message"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"p"],[9,"class","requester-info-sidebar__present__item-info"],[7],[0,"\\n        "],[1,[25,"t",["tickets.compose_email.requester_info.info_message"],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/requester-widget/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/send-and-close/component",["exports","freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/component","freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/template","ember-concurrency"],function(e,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({model:null,form:null,customStatus:null,layout:n.default,_status:Ember.computed.reads("customStatus"),hasFeatureSharedOwnership:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("shared_ownership")}),actions:{send:function(e){Ember.get(this,"onClick").perform(e)}},onClick:(0,r.task)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ember.set(this,"pendingState",!0),e.next=3,Ember.get(this,"onSend").perform(t);case 3:Ember.set(this,"pendingState",!1);case 4:case"end":return e.stop()}},e,this)})),onSend:(0,r.task)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ember.get(this,"model"),t&&(Ember.set(n,"status",t),Ember.get(this,"hasFeatureSharedOwnership")&&Ember.setProperties(n,{internalGroupId:null,internalAgentId:null})),r=Ember.get(this,"form"),e.next=5,Ember.get(r,"save").perform(n);case 5:case"end":return e.stop()}},e,this)}))})});
define("freshdesk/components/module-tickets/new-ticket/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"2QUXzMaJ",block:'{"symbols":["wrapper","sideBar","form"],"statements":[[4,"page-layout/page-wrapper",null,[["class"],["content-widget-wrap new-ticket-wrap"]],{"statements":[[0,"  "],[6,"div"],[9,"data-test-id","newTicketPage"],[9,"class","new-ticket-form mt-10"],[7],[0,"\\n"],[4,"component",[[19,1,["content-widget"]]],null,{"statements":[[0,"      "],[6,"div"],[10,"class",[26,["new-ticket-form__form-for template_form ",[25,"if",[[20,["isDisabled"]],"template_disabled","template_enabled"],null]]]],[7],[0,"\\n"],[4,"if",[[20,["isLoaded"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","new-ticket-form__info-text "],[7],[0,"\\n            "],[6,"div"],[9,"class","new-ticket-form__info-text__inline"],[7],[0,"\\n              "],[1,[25,"t",["tickets.home.ticketinfo"],null],false],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"class","new-ticket-form__info-text__inline new-ticket-form__info-text__link"],[7],[0,"\\n              "],[1,[25,"t",["tickets.home.ticketinfo.head.link"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"],[4,"ui-form/form-for",[[20,["model"]],[20,["rules"]]],[["submit","focusOnError","scrollOffset"],[[25,"action",[[19,0,[]],"submit"],null],[20,["focusOnError"]],[20,["scrollOffset"]]]],{"statements":[[0,"            "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","pageType"],["new_ticket_background","new_ticket"]]],false],[0,"\\n            "],[1,[25,"module-tickets/new-ticket/ticket-form-field",null,[["fields","model","newContact","form","onchangeCompany","addNewRequester","startContactValidations","onInsertAttachment","onChangeRequester","toggleAddRequester","refreshTemplate","descriptionValue","cloudAttachments","contactEmailDetails","contactId","emailId"],[[20,["fields"]],[20,["model"]],[20,["newContact"]],[19,3,[]],[25,"action",[[19,0,[]],"multipleCompany"],null],[20,["addNewRequester"]],[20,["startContactValidations"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onChangeRequester"],null],[25,"action",[[19,0,[]],"toggleAddRequester"],null],[20,["refreshTemplate"]],[20,["descriptionValue"]],[20,["cloudAttachments"]],[20,["contactEmailDetails"]],[20,["contactId"]],[20,["emailId"]]]]],false],[0,"\\n            "],[6,"div"],[9,"class","modal__footer form-submission create-ticket-footer"],[7],[0,"\\n              "],[6,"div"],[9,"class","form-submission__options"],[7],[0,"\\n                "],[6,"label"],[9,"class","modal__footer__label"],[7],[0,"\\n                  "],[6,"span"],[9,"data-test-id","createAnother"],[9,"class","modal__footer__checkbox"],[7],[0,"\\n                    "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","value","onchange"],["createAnotherTicket",[20,["createAnother"]],[25,"action",[[19,0,[]],"onChangeSubmitOptions","createAnother"],null]]]],false],[0,"\\n                  "],[8],[0,"\\n                  "],[6,"span"],[9,"class","create-another-ticket"],[7],[0,"\\n                    "],[1,[25,"t",["ticket.submit.createAnother"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"],[4,"if",[[20,["isFSMEnabled"]]],null,{"statements":[[0,"                  "],[6,"label"],[9,"class","modal__footer__label"],[7],[0,"\\n                    "],[6,"span"],[9,"data-test-id","createWithServiceTask"],[9,"class","modal__footer__checkbox"],[7],[0,"\\n                      "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","value","onchange"],["createWithServiceTask",[20,["createWithServiceTask"]],[25,"action",[[19,0,[]],"onChangeSubmitOptions","createWithServiceTask"],null]]]],false],[0,"\\n                    "],[8],[0,"\\n                    "],[6,"span"],[7],[0,"\\n                      "],[1,[25,"t",["ticket.submit.createWithServiceTask"],null],false],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n              "],[6,"div"],[9,"class","form-submission__actions"],[7],[0,"\\n                "],[6,"button"],[9,"data-test-id","cancelButton"],[9,"type","button"],[9,"name","button"],[9,"class","modal__footer__btn btn btn--secondary"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n                  "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"div"],[9,"data-test-id","submitButton"],[9,"class","submit-btn-and-close"],[7],[0,"\\n                  "],[1,[25,"module-tickets/new-ticket/send-and-close",null,[["canSetStatus","label","model","customStatus","form","send","pendingLabel"],[[25,"hasabilities",["edit_ticket_properties"],null],[25,"t",["ticket.submit.new"],null],[20,["model"]],[20,["status"]],[19,3,["form"]],[25,"perform",[[20,["send"]]],null],[25,"t",["async.button.wait_text"],null]]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"          "],[1,[25,"interactivity-beacon",null,[["routeInteractive"],[true]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[18,"ui-components/module-loading"],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["sidebar"]]],[["class"],["multiple-widget-slider ticket-requester-info template_sidebar ticket-template-block content-widget-wrap"]],{"statements":[[4,"app-components/widget-sidebar",null,[["class","showHideSidebar","ticket","renderInPlace"],["pull-left",[19,1,["showHideSidebar"]],[20,["ticket"]],true]],{"statements":[[4,"if",[[20,["isTemplatesEnabled"]]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon","minimized"],["tickettemplates",[25,"t",["fd.admin.template"],null],"ticket-template",false]],{"statements":[[4,"if",[[20,["fetchTemplatesTask","isRunning"]]],null,{"statements":[[0,"              "],[1,[25,"ui-components/gravity-loader",null,[["isLoading","class"],[true,"tickets-list-loading"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[25,"module-tickets/ticket-template",null,[["templates","applyTemplate","clearTemplate","updateChildTemplates"],[[20,["templates"]],[25,"action",[[19,0,[]],"applyTemplate"],null],[25,"action",[[19,0,[]],"clearTemplate"],null],[25,"action",[[19,0,[]],"updateChildTemplates"],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"hasabilities",["view_contacts"],null]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","class","label","icon","minimized"],["contactwidget","contactwidget_wrapper",[25,"t",["fd.contact_details"],null],"info",false]],{"statements":[[0,"            "],[1,[25,"module-tickets/new-ticket/requester-widget",null,[["allowContactCreate","addNewRequester","contact"],[true,[20,["addNewRequester"]],[20,["selectedContact"]]]]],false],[0,"\\n            "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","pageType","renderMkpApp"],["new_ticket_requester_info","new_ticket",[20,["renderMkpApp"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/ticket-assign-to/component",["exports","freshdesk/mixins/tickets/form"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{store:Ember.inject.service(),ticketFields:Ember.inject.service(),eventSources:Ember.inject.service(),internalGroupAgentFNames:null,fieldType:null,currentStatus:Ember.computed.reads("model.status"),hasFeatureSharedOwnership:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("shared_ownership")}),init:function(){this._super.apply(this,arguments),this._setDefaultValues()},actions:{onSaveAgentAndGroup:function(e,t){this._saveAgentAndGroup(e,t,"responderId","groupId")},onSaveInternalAgentAndGroup:function(e,t){Ember.setProperties(this,{selectedinternalGroup:t,selectedinternalAgent:e}),this._saveAgentAndGroup(e,t,"internalAgentId","internalGroupId")}},_setDefaultValues:function(){Ember.set(this,"internalGroupAgentFNames",["internal_group_id","internal_agent_id"])},_saveAgentAndGroup:function(e,t,n,r){var s={},i=Ember.get(this,"model"),o=t&&Ember.get(t,"id"),u=e&&Ember.get(e,"id");s[r]=o?parseInt(o):null,s[n]=u?parseInt(u):null,"responderId"===n&&"groupId"===r&&(Ember.get(this,"eventSources").publishFieldChange(Ember.get(i,"responderId"),s[n],"ticket",n),Ember.get(this,"eventSources").publishFieldChange(Ember.get(i,"groupId"),s[r],"ticket",r)),Ember.setProperties(i,s)}})});
define("freshdesk/components/module-tickets/new-ticket/ticket-assign-to/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"4uaoKaEi",block:'{"symbols":[],"statements":[[4,"if",[[25,"eq",[[20,["fieldType"]],"default_group"],null]],null,{"statements":[[0,"  "],[1,[25,"app-components/assign-to",null,[["label","type","agentList","groupList","size","form","groupValue","agentValue","disabled","onSave"],[[25,"t",["ticket.assignto"],null],"text",[20,["allAgents"]],[20,["allGroups"]],"large",[20,["form","form"]],[20,["groupValue"]],[20,["agentValue"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onSaveAgentAndGroup"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[25,"eq",[[20,["fieldType"]],"default_internal_group"],null],[20,["hasFeatureSharedOwnership"]]],null]],null,{"statements":[[4,"if",[[20,["internalGroups","length"]]],null,{"statements":[[0,"    "],[1,[25,"app-components/assign-to",null,[["label","type","data-test-id","agentList","groupList","allowNilGroup","size","form","fieldNames","groupValue","agentValue","disabled","onSave"],[[25,"t",["ticket.assigntointernal"],null],"text","assigntoInternal",[20,["internalAgents"]],[20,["internalGroups"]],false,"large",[20,["form","form"]],[20,["internalGroupAgentFNames"]],[20,["selectedinternalGroup"]],[20,["selectedinternalAgent"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onSaveInternalAgentAndGroup"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"ui-form/text-field",null,[["label","disabled","value"],[[25,"t",["ticket.assigntointernal"],null],true,[25,"t",["tickets.nointernalgroup"],null]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/ticket-assign-to/template.hbs"}})});
define("freshdesk/components/module-tickets/new-ticket/ticket-form-field/component",["exports","freshdesk/mixins/tickets/form","freshdesk/mixins/tickets/insert-canned-response","freshdesk/mixins/email-config","freshdesk/mixins/integrations/installed-apps","freshdesk/mixins/marketplace/interface/ticket-properties","ember-keyboard"],function(e,t,n,s,i,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,a.EKMixin,n.default,s.default,i.default,r.default,{mkpInterface:Ember.inject.service("marketplace-interface"),currentUser:Ember.inject.service(),classNames:["__module-tickets__new-ticket__ticket-form-field"],manageContact:null,model:null,newContact:null,cannedResponseModal:!1,inlineAttachments:null,addNewRequester:!0,allowContactCreate:!0,ticketCompany:null,oldDescription:null,mkpInterfacePage:"newTicket",groupValue:Ember.computed.alias("model.group"),agentValue:Ember.computed.alias("model.responder"),description:Ember.computed("model.description",function(){var e=Ember.get(this,"model.description"),t=Ember.get(this,"oldDescription");return t!=e?(Ember.set(this,"oldDescription",e),e):t}),ticketAttachments:Ember.computed("model.attachments","inlineAttachments",function(){var e=[],t=[];return Ember.get(this,"model.attachments")&&(e=Ember.get(this,"model.attachments").map(function(e){return e})),Ember.get(this,"inlineAttachments")&&(t=Ember.get(this,"inlineAttachments").map(function(e){return e})),e.concat(t)}),descriptionIsRequired:Ember.computed("fields.length","model.status",function(){var e=Ember.get(this,"fields"),t=e.findBy("type","default_description"),n=Ember.get(t,"requiredForAgents");return n||Ember.get(t,"requiredForClosure")&&Ember.get(this,"model.isMarkedClosed")}),init:function(){this._super.apply(this,arguments),this._setDefaultValues()},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").deregisterControls(Ember.get(this,"mkpInterfacePage")),Ember.get(this,"mkpInterface").deregisterControls("ticketActions")},didInsertElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").registerControls(Ember.get(this,"mkpInterfacePage")),Ember.get(this,"mkpInterface").registerControls("ticketActions")},actions:{saveTags:function(e){Ember.set(this,"model.tags",e)},insertCannedResponse:function(e){this.setCannedResponse(e),Ember.set(this,"cannedResponseModal",!1)},hideCreateOnInvalidInputForRequester:function(e,t){return!!Ember.get(this,"currentUser").hasAbilities(Ember.get(this,"manageContact"))&&(!e.includes("@")||t.canCreate)}},_setDefaultValues:function(){Ember.set(this,"inlineAttachments",[]),Ember.set(this,"manageContact",["manage_contacts"])}})});
define("freshdesk/components/module-tickets/new-ticket/ticket-form-field/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"JPH6xurM",block:'{"symbols":["field","currentSection","sectionField","value","customValidation","onchange"],"statements":[[4,"each",[[20,["formFields"]]],null,{"statements":[[4,"unless",[[19,1,["belongsToSection"]]],null,{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["hide_",[19,1,["name"]]],null]],null],"hide"],null],null],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,1,["type"]],"default_description"],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","new-ticket-form__ticket-editor"],[7],[0,"\\n"],[4,"ui-form/custom-component",null,[["isRequired","data-test-id","model","form","valuePath"],[[20,["descriptionIsRequired"]],"description",[20,["model"]],[20,["form","form"]],"description"]],{"statements":[[0,"            "],[1,[25,"ui-form/editor/ticket-editor",null,[["value","onInsertAttachment","externalAttachments","showCannedResponse","label","placeholder","contentChanged","cannedResponseModal","validation","customClass","enableInlineCannedResponse","editorInput","clearFileCache","skipFirstSendAction","isUpdateDescription","descriptionValue","cloudAttachments","model","wrapDefaultFont"],[[20,["description"]],[20,["onInsertAttachment"]],[20,["ticketAttachments"]],true,[25,"t",["ticket.fields.description"],null],"",[25,"action",[[19,0,[]],[25,"mut",[[20,["model","description"]]],null]],null],[20,["cannedResponseModal"]],[19,5,[]],"editor-create-ticket ticket-action",[25,"toggle-action",["cannedResponseModal",[19,0,[]]],null],[20,["editorInput"]],true,false,[20,["refreshTemplate"]],[20,["descriptionValue"]],[20,["cloudAttachments"]],[20,["model"]],true]]],false],[0,"\\n"]],"parameters":[4,5,6]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_requester"],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/new-ticket/default-requester",null,[["model","newContact","form","requesterValue","refreshTemplate","addNewRequester","startContactValidations","allowContactCreate","onChangeRequester","toggleAddRequester","onchangeCompany","hasValidation","page","noMatchesMessage","showCreateWhen","contactEmailDetails","contactId"],[[20,["model"]],[20,["newContact"]],[20,["form"]],[20,["requesterValue"]],[20,["refreshTemplate"]],[20,["addNewRequester"]],[20,["startContactValidations"]],[20,["allowContactCreate"]],[20,["onChangeRequester"]],[20,["toggleAddRequester"]],[20,["onchangeCompany"]],true,"new-ticket",false,[25,"action",[[19,0,[]],"hideCreateOnInvalidInputForRequester"],null],[20,["contactEmailDetails"]],[20,["contactId"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_group"],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/new-ticket/ticket-assign-to",null,[["fieldType","model","groupValue","agentValue","disabled","form"],["default_group",[20,["model"]],[20,["groupValue"]],[20,["agentValue"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null],[20,["form"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_internal_group"],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/new-ticket/ticket-assign-to",null,[["fieldType","model","form","disabled"],["default_internal_group",[20,["model"]],[20,["form"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[25,"not-eq",[[19,1,["type"]],"default_agent"],null],[25,"not-eq",[[19,1,["type"]],"default_internal_agent"],null]],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,1,[]]],[["form","model","refresh","disabled"],[[20,["form"]],[20,["model"]],[20,["refreshTemplate"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,1,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n      "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"\\n"],[4,"if",[[19,1,["hasSections"]]],null,{"statements":[[4,"module-tickets/ticket-form/section-form",null,[["sectionField","ticket"],[[19,1,[]],[20,["model"]]]],{"statements":[[4,"each",[[19,2,["fields"]]],null,{"statements":[[0,"            "],[6,"div"],[10,"class",[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["hide_",[19,3,["name"]]],null]],null],"hide"],null],null],[7],[0,"\\n              "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,3,[]]],[["form","model","refresh","disabled"],[[20,["form"]],[20,["model"]],[20,["refreshTemplate"]],[25,"if",[[25,"get",[[19,0,[]],[25,"concat",["disable_",[19,3,["name"]]],null]],null],true,false],null]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[3]},null]],"parameters":[2]},null]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[6,"div"],[9,"class","tag-list"],[7],[0,"\\n  "],[6,"div"],[9,"class","text--xsmall text--specific pb-9"],[7],[0,"\\n    "],[1,[25,"t",["tickets.new.tags"],null],false],[0,"\\n  "],[8],[0,"\\n  "],[1,[25,"app-components/app-tags/create-tag",null,[["tags","saveTags","onAddFocus"],[[20,["model","tags"]],[25,"action",[[19,0,[]],"saveTags"],null],false]]],false],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","hide"],[7],[0,"\\n  "],[1,[25,"component",[[20,["form","text-field"]],"inline_attachment_ids"],[["disabled","value"],[true,[20,["model","inlineAttachmentIds"]]]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/new-ticket/ticket-form-field/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/component",["exports","freshdesk/constants/associations","freshdesk/constants/ticket"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({displayType:null,displaySchema:null,associatedTicketsCount:null,ticket:Ember.computed.reads("data.currentTicket"),fromTicketList:Ember.computed.reads("data.ticketsListPage"),init:function(){this._super.apply(this,arguments),this._setDisplaySchema(),this.sendAction("modalLoaded")},actions:{cancel:function(){this.sendAction("close")},updateTicketsCount:function(e){Ember.set(this,"associatedTicketsCount",e)}},_getDisplayType:function(){switch(Ember.get(this,"ticket.associationType")){case s.default.associationType.parent:return"associatedServiceTasks"===Ember.get(this,"data.type")?"displayServiceTask":"displayParent";case s.default.associationType.tracker:return"displayTracker"}},_setDisplaySchema:function(){var e=this._getDisplayType();Ember.set(this,"displayType",e),Ember.set(this,"displaySchema",t.default[e])}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"aeqtBlLJ",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n"],[4,"if",[[20,["associatedTicketsCount"]]],null,{"statements":[[0,"      "],[1,[25,"svg-jar",[[20,["displaySchema","headerIcon"]]],[["class"],["modal-icons"]]],false],[0,"\\n      "],[6,"span"],[9,"data-test-id","assoc-modal-title"],[7],[0,"\\n        "],[1,[25,"titleize",[[25,"t",[[20,["displaySchema","headerTitle"]]],[["count"],[[20,["associatedTicketsCount"]]]]]],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"],[1,[25,"module-tickets/shared/associated-tickets/ticket-list",null,[["unlinkAction","ticket","fromTicketList","associatedTicketsCount","closeModal","type","displaySchema","isRelatedTickets"],[true,[20,["ticket"]],[20,["fromTicketList"]],"updateTicketsCount",[25,"action",[[19,0,[]],"cancel"],null],[25,"t",["tickets.ticket_associations.related.label"],null],[20,["displaySchema"]],true]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/associated-tickets/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/component",["exports","ember-concurrency","freshdesk/mixins/tickets/ticket-association-feature","freshdesk/utils/blank-array"],function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c={};e.default=Ember.Component.extend(s.default,{store:Ember.inject.service(),i18n:Ember.inject.service(),ticketBulkAction:Ember.inject.service(),classNames:["__module-tickets__shared__associated-tickets__ticket-list"],selectedTicket:c,showBulkUpdates:!0,assocAction:null,perPageCount:30,page:1,tickets:(0,i.default)(),hideFooter:Ember.computed.or("isTrackerList","unlinkAction"),isTracker:Ember.computed.equal("ticket.associationType",3),isParent:Ember.computed.equal("ticket.associationType",1),selectedAssocTicketsCount:Ember.computed.reads("selectedAssocTickets.length"),permissibleTickets:Ember.computed.filterBy("selectedTickets","permission",!0),permissibleTicketsCount:Ember.computed.reads("permissibleTickets.length"),selectedTicketsCount:Ember.computed.reads("selectedTickets.length"),disableBulkActions:Ember.computed.lt("selectedTicketsCount",1),isPaginationRequired:Ember.computed.gt("totalPages",1),noAssociations:Ember.computed.lt("associatedTickets.length",1),showGroupTitle:Ember.computed.not("currentAccount.fsmWithNoParentChild"),totalPages:Ember.computed("ticket.associatedTicketsCount",function(){return Math.ceil(Ember.get(this,"ticket.associatedTicketsCount")/30)}),canUpdateAll:Ember.computed("permissibleTicketsCount","selectedTicketsCount",function(){return Ember.get(this,"permissibleTicketsCount")==Ember.get(this,"selectedTicketsCount")}),permissibleAssocTickets:Ember.computed("assocAction",function(){return"update"===Ember.get(this,"assocAction")?Ember.get(this,"permissibleTickets"):Ember.get(this,"selectedTickets")}),selectedAssocTickets:Ember.computed.map("permissibleAssocTickets",function(e){return parseInt(e.id)}),selectedTickets:Ember.computed.filter("associatedTickets.@each.checkbox",function(e){return e.checkbox}),associatedTickets:Ember.computed.map("tickets.[]",function(e){return Ember.set(e,"checkbox",!1),e}),selectAll:Ember.computed("associatedTickets.@each.checkbox",{get:function(){return Ember.get(this,"associatedTickets").isEvery("checkbox",!0)},set:function(e,t){return t}}),init:function(){this._super.apply(this,arguments),Ember.get(this,"isRelatedTickets")&&Ember.get(this,"getAssociatedTickets").perform()},willDestroyElement:function(){Ember.set(this,"assocAction",null)},actions:{showBulkReply:function(){var e=this;Ember.set(this,"assocAction","update"),Ember.get(this,"selectedAssocTicketsCount")?(Ember.setProperties(this,{"ticketBulkAction.associatedTicketsAction":!0,"ticketBulkAction.selectedAssocTicketIds":Ember.get(this,"selectedAssocTickets"),"ticketBulkAction.selectedTicketsCount":Ember.get(this,"selectedTicketsCount"),"ticketBulkAction.updateAll":Ember.get(this,"canUpdateAll"),"ticketBulkAction.permissibleTickets":Ember.get(this,"permissibleTicketsCount"),"ticketBulkAction.assocPermissibeTickets":Ember.get(this,"permissibleTickets")}),this.sendAction("closeModal"),Ember.run.next(function(){Ember.get(e,"ticketBulkAction").toggleBulkAction(),Ember.get(e,"ticketBulkAction").getBroadcastMessage()})):Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.bulkupdate.update_error")),Ember.set(this,"assocAction",null)},cancelUnlink:function(){Ember.set(this,"showBulkUnlink",!1)},bulkUnlink:function(){this.unlinkTickets()},showBulkUnlink:function(){Ember.set(this,"assocAction","unlink"),Ember.get(this,"selectedAssocTicketsCount")&&Ember.set(this,"showBulkUnlink",!0),Ember.set(this,"assocAction",null)},selectAllTickets:function(e){Ember.get(this,"associatedTickets").forEach(function(t){Ember.set(t,"checkbox",e)})},unlink:function(e){Ember.get(this,"tickets").filterBy("unlink",!0).forEach(function(e){Ember.set(e,"unlink",!1)}),Ember.set(e,"unlink",!0)},fetchMore:function(){Ember.get(this,"getAssociatedTickets").perform()},cancel:function(e){e.toggleProperty("unlink")}},unlinkTickets:function(){var e=Ember.get(this,"selectedAssocTickets");Ember.get(this,"ticket").bulkUnlink({ids:e}).then(this.getCurrentTicketsList.bind(this))},getCurrentTicketsList:function(){var e=this,t=Ember.get(this,"tickets"),s=Ember.get(this,"selectedTickets");s.forEach(function(s){e.updateTicketProperties(s),t=t.rejectBy("id",s.id.toString())}),Ember.setProperties(this,{tickets:t,showBulkUnlink:!1}),this.updateTrackerAssocTicketsCount(s.length)},updateTicketProperties:function(e){var t={ticket:{id:Ember.get(e,"id"),association_type:null}};Ember.get(this,"store").pushPayload(t)},updateTrackerAssocTicketsCount:function(e){var t={ticket:{id:Ember.get(this,"ticket.id"),associated_tickets_count:Ember.get(this,"ticket.associatedTicketsCount")-e}};Ember.get(this,"store").pushPayload(t),Ember.get(this,"closeModal")();var s=Ember.get(this,"i18n").t("tickets.ticket_associations.link_tickets.unlink_success");Ember.get(this,"flashMessages").success(s)},_confirmUnlinkCB:function(e){var t=Ember.get(this,"tickets");Ember.setProperties(e,{trackerId:Ember.get(this,"TRACKER_ID_AFTER_UNLINK"),unlink:!1}),t.removeObject(e),this.updateTrackerAssocTicketsCount(1)},_convertResponseItemToTicket:function(e){var t=Ember.get(this,"store"),s=t.peekRecord("ticket",e.id);return s?t.pushPayload(e):(t.pushPayload({ticket:e}),s=t.peekRecord("ticket",e.id)),s},getAssociatedTickets:(0,t.task)(regeneratorRuntime.mark(function e(){var t,s,i,c,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ember.get(this,"displaySchema.filters"),s={page:Ember.get(this,"page"),include:"count"},i=t?Object.assign(s,t):s,e.next=5,Ember.get(this,"ticket").getAllAssociatedTickets(i);case 5:c=e.sent,n=this._handleResponse(c),Ember.set(this,"tickets",n),this.sendAction("associatedTicketsCount",c.meta.count||0);case 9:case"end":return e.stop()}},e,this)})).restartable(),_handleResponse:function(e){var t=this;if(e.data)return e.data.map(function(e){return t._convertResponseItemToTicket(e)})},_handleFailure:function(){var e=Ember.get(this,"i18n").t("tickets.ticket_associations.associated_tickets.failed");this.flashMessages.danger(e)}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"uc5f5LOJ",block:'{"symbols":["type","data","item"],"statements":[[4,"if",[[20,["getAssociatedTickets","isRunning"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","search-results__loading associated-loading"],[9,"data-test-id","tracker-loading"],[7],[0,"\\n    "],[1,[18,"ui-components/part-loading"],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showBulkUnlink"]]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/shared/associated-tickets/ticket-list/unlink-confirmation",null,[["selectedAssocTicketsCount","cancel","bulkUnlink"],[[20,["selectedAssocTicketsCount"]],[25,"action",[[19,0,[]],"cancelUnlink"],null],[25,"action",[[19,0,[]],"bulkUnlink"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"div"],[9,"id","assoc-list-container"],[10,"class",[26,["associate-ticket-list-container ",[25,"if",[[20,["fromTicketList"]],"ticket-list"],null],[25,"if",[[20,["hideFooter"]]," no-footer"],null],[25,"if",[[20,["isTrackerList"]]," mt-75"],null]," ",[25,"if",[[20,["showBulkUnlink"]],"unlink"],null]]]],[9,"data-test-id","assoc-list-container"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["fromTicketList"]],[20,["showBulkUpdates"]]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","bulk-updates"],[7],[0,"\\n        "],[1,[25,"ui-form/custom-checkbox",null,[["value","data-test-id","onchange","class"],[[20,["selectAll"]],"associated-tickets-bulk-select",[25,"action",[[19,0,[]],"selectAllTickets"],null],"select-all"]]],false],[0,"\\n        "],[6,"button"],[10,"aria-label",[25,"t",["tickets.bulkactions"],null],null],[9,"class","app-icon-btn app-icon-btn--text"],[10,"disabled",[18,"disableBulkActions"],null],[10,"onclick",[25,"action",[[19,0,[]],"showBulkReply"],null],null],[9,"data-test-id","bulk-update"],[7],[0,"\\n          "],[1,[25,"svg-jar",["convert"],[["class"],["app-icon"]]],false],[0,"\\n          "],[1,[25,"t",["tickets.bulkactions"],null],false],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[20,["isTracker"]]],null,{"statements":[[0,"          "],[6,"button"],[10,"aria-label",[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],null],[9,"class","app-icon-btn app-icon-btn--text"],[10,"disabled",[18,"disableBulkActions"],null],[10,"onclick",[25,"action",[[19,0,[]],"showBulkUnlink"],null],null],[9,"data-test-id","bulk-unlink"],[7],[0,"\\n            "],[1,[25,"svg-jar",["unlink"],[["aria-label","class"],["Unlink","app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"each",[[25,"-each-in",[[20,["associationGroups"]]],null]],null,{"statements":[[4,"if",[[19,2,["tickets","length"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","assoc-group-wrapper"],[10,"data-test-id",[19,1,[]],null],[7],[0,"\\n"],[4,"if",[[25,"and",[[25,"not-eq",[[19,1,[]],"default"],null],[20,["showGroupTitle"]]],null]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","title-rl-wrapper"],[7],[0,"\\n              "],[6,"h4"],[9,"class","title-rl-wrapper__title"],[9,"data-test-id","assoc-group-title"],[7],[0,"\\n                "],[1,[25,"titleize",[[25,"t",[[19,2,["label"]]],[["count"],[[19,2,["tickets","length"]]]]]],null],false],[0,"\\n              "],[8],[0,"\\n              "],[6,"div"],[9,"class","title-rl-wrapper__line"],[7],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"each",[[19,2,["tickets"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","associate-ticket-list-item-conatiner"],[7],[0,"\\n              "],[6,"div"],[10,"class",[26,["associate-ticket-list row ",[25,"if",[[20,["isParent"]],"","highlight"],null]," ",[25,"if",[[19,3,["unlink"]],"fade",""],null]]]],[9,"data-test-id","associate-ticket-list-item"],[7],[0,"\\n                "],[6,"div"],[9,"class","container-fluid clearfix"],[7],[0,"\\n"],[4,"if",[[20,["fromTicketList"]]],null,{"statements":[[0,"                    "],[1,[25,"ui-form/custom-checkbox",null,[["class","data-test-feedback-action","data-test-id","value","disabled"],["associated-tickets-select pull-left","select",[25,"concat",["assoc-ticket-checkbox-",[19,3,["id"]]],null],[19,3,["checkbox"]],[20,["disableSelectBox"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","associatedTickets","showStatus","class"],[[19,3,[]],true,true,"list-content-wrap pull-left"]]],false],[0,"\\n                  "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n"],[4,"if",[[20,["linkActions"]]],null,{"statements":[[0,"                      "],[6,"div"],[9,"class","action-buttons"],[7],[0,"\\n                        "],[6,"a"],[10,"aria-label",[25,"t",["tickets.link"],null],null],[10,"onClick",[25,"action",[[19,0,[]],[20,["linkToTracker"]],[19,3,["id"]]],null],null],[9,"class","app-icon-btn app-icon-btn--secondary hint--rounded hint--top"],[7],[0,"\\n                          "],[1,[25,"svg-jar",["insert-link"],[["aria-label","class"],["Link","app-icon hint--rounded hint--top"]]],false],[0,"\\n                        "],[8],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["isTracker"]]],null,{"statements":[[0,"                      "],[6,"div"],[9,"class","action-buttons"],[7],[0,"\\n                        "],[6,"a"],[10,"aria-label",[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],null],[10,"onClick",[25,"action",[[19,0,[]],"unlink",[19,3,[]]],null],null],[10,"class",[26,["app-icon-btn app-icon-btn--secondary hint--rounded hint--top ",[25,"if",[[20,["showBulkUnlink"]],"disabled"],null]]]],[9,"data-test-id","unlink-ticket"],[7],[0,"\\n\\n                          "],[1,[25,"svg-jar",["unlink"],[["aria-label","class"],["Unlink","app-icon hint--rounded hint--top"]]],false],[0,"\\n                        "],[8],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[8],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"],[4,"if",[[20,["isTracker"]]],null,{"statements":[[0,"                "],[6,"div"],[10,"class",[26,["unlink-confirm row ",[25,"if",[[19,3,["unlink"]],"active",""],null]]]],[9,"data-test-id","associate-ticket-unlink"],[7],[0,"\\n                  "],[6,"div"],[9,"class","col-md-3"],[7],[0,"\\n                  "],[8],[0,"\\n                  "],[6,"div"],[9,"class","col-md-9"],[7],[0,"\\n                    "],[6,"div"],[9,"class","confirm-text"],[7],[0,"\\n                      "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.confirm"],null],false],[0,"\\n                    "],[8],[0,"\\n                    "],[6,"div"],[9,"class","actions-links"],[7],[0,"\\n                      "],[6,"button"],[9,"class","btn btn--transparent text--uppercase cancel"],[10,"onclick",[25,"action",[[19,0,[]],"cancel",[19,3,[]]],null],null],[7],[0,"\\n                        "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n                      "],[8],[0,"\\n                      "],[6,"button"],[9,"class","btn btn--transparent text--uppercase submit"],[10,"onclick",[25,"action",[[19,0,[]],"confirmUnlink",[19,3,[]]],null],null],[9,"data-test-id","unlink-confirm-link"],[7],[0,"\\n                        "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],false],[0,"\\n                      "],[8],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[4,"if",[[25,"and",[[20,["noAssociations"]],[20,["linkActions"]]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","noresult-container"],[9,"data-test-id","noresult-container"],[7],[0,"\\n        "],[6,"img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/empty-states/tracker-empty-states-4a2366f0bbb1605faacc6877502883c4.svg"],[10,"alt",[25,"t",["tickets.ticket_associations.link_tickets.tracker.empty"],null],null],[7],[8],[0,"\\n        "],[6,"h3"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.empty"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"a"],[10,"onClick",[18,"createTracker"],null],[9,"data-test-id","create-tracker"],[9,"class","ml5 text--small"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.new"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[4,"if",[[20,["isTracker"]]],null,{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[20,["isPaginationRequired"]],"tickets-pagination"],null],null],[7],[0,"\\n      "],[1,[25,"ui-components/fresh-pagination",null,[["pageBasedType","count","perPage","page","onPageChange"],[true,[20,["ticket","associatedTicketsCount"]],[20,["perPageCount"]],[20,["page"]],[25,"action",[[19,0,[]],"fetchMore"],null]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/unlink-confirmation/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({actions:{cancel:function(){this.sendAction("cancel")},bulkUnlink:function(){this.sendAction("bulkUnlink")}}})});
define("freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/unlink-confirmation/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"hlCRhE9P",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","unlink-confirmation"],[7],[0,"\\n  "],[6,"div"],[9,"class","confirmation-text"],[7],[1,[25,"t",["tickets.ticket_associations.bulkUnlink.confirmation"],[["selectedAssocTicketsCount","count"],[[20,["selectedAssocTicketsCount"]],[20,["selectedAssocTicketsCount"]]]]],false],[8],[0,"\\n  "],[6,"button"],[9,"class","btn btn--secondary"],[10,"onclick",[25,"action",[[19,0,[]],"cancel"],null],null],[9,"data-test-id","cancel-unlink"],[7],[0,"\\n    "],[1,[25,"t",["common.cancel"],null],false],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"button"],[9,"class","btn btn--secondary submit-unlink"],[10,"onclick",[25,"action",[[19,0,[]],"bulkUnlink",[20,["item"]]],null],null],[7],[0,"\\n    "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],false],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/associated-tickets/ticket-list/unlink-confirmation/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/association-type/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={1:"PARENT",2:"CHILD",3:"TRACKER",4:"RELATED"};e.default=Ember.Component.extend({tagName:"",associationType:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType");return t[e]})})});
define("freshdesk/components/module-tickets/shared/association-type/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"ICAVZ7kW",block:'{"symbols":[],"statements":[[4,"if",[[20,["associationType"]]],null,{"statements":[[0,"  "],[6,"span"],[9,"class","tag tag--uppercase ellipsis tag--associated"],[7],[1,[18,"associationType"],false],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/association-type/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/bot-suggested-article/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({actions:{insertData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Ember.get(this,"toggleSuggestedArticle")(),Ember.get(this,"insertData")(parseInt(e),t,n)}}})});
define("freshdesk/components/module-tickets/shared/bot-suggested-article/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"vbW+n9LG",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","bot-suggested-solution-article"],[7],[0,"\\n  "],[6,"div"],[9,"class","article-modal__header"],[7],[0,"\\n    "],[6,"div"],[9,"class","modal-article__header text--extra-bold mb-8"],[7],[0,"\\n      "],[1,[20,["article","title"]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","modal-article__description mb-10"],[7],[0,"\\n      "],[6,"div"],[9,"class","article-folder__desc article-data"],[7],[0,"\\n        "],[1,[25,"svg-jar",["folder"],[["class"],["app-icon app-icon--small folder-icon"]]],false],[0,"\\n        "],[6,"span"],[9,"class","article-folder__title"],[7],[1,[18,"folderTitle"],false],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","article-folder__timing article-data"],[7],[0,"\\n        "],[1,[25,"svg-jar",["activities"],[["class"],["app-icon app-icon--small folder-icon"]]],false],[0,"\\n        "],[6,"span"],[9,"class","article-folder__time"],[7],[6,"span"],[9,"class","date-modified"],[7],[1,[25,"t",["fd.freddy.date.modified.on"],null],false],[8],[1,[25,"moment-format",[[20,["article","updatedAt"]],[20,["currentAccount","timeFormat","fullTimeAt"]]],null],false],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","modal-article__action-bar"],[7],[0,"\\n"],[4,"if",[[20,["isArticleVisible"]]],null,{"statements":[[0,"        "],[6,"button"],[9,"data-test-id","link-btn"],[10,"aria-label",[25,"t",["insert-solutions.link-label"],null],null],[9,"class","hint--rounded hint--bottom app-icon-btn app-icon-btn--text"],[10,"onclick",[25,"action",[[19,0,[]],"insertData",[20,["article","id"]],"link",""],null],null],[7],[0,"\\n          "],[1,[25,"svg-jar",["insert-link"],[["class"],["app-icon app-icon--small btn-label preview-icon"]]],false],[0,"\\n          "],[6,"span"],[9,"class","insert-link-txt"],[7],[1,[25,"t",["insert-solutions.insert-link"],null],false],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[6,"button"],[9,"data-test-id","content-btn"],[10,"aria-label",[25,"t",["insert-solutions.content-label"],null],null],[9,"class","hint--rounded hint--bottom app-icon-btn app-icon-btn--text"],[10,"onclick",[25,"action",[[19,0,[]],"insertData",[20,["article","id"]],"content",[20,["article","description"]]],null],null],[7],[0,"\\n        "],[1,[25,"svg-jar",["new"],[["class"],["app-icon app-icon--small btn-label preview-icon"]]],false],[0,"\\n        "],[6,"span"],[9,"class","insert-content-txt"],[7],[1,[25,"t",["insert-solutions.insert-content"],null],false],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","article-modal__content mb-18"],[7],[0,"\\n    "],[6,"div"],[9,"class","article-description-content mb-18"],[9,"id","article-desc-content"],[7],[0,"\\n      "],[1,[25,"html-safe",[[20,["article","description"]]],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/bot-suggested-article/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/collision-dropdown-hover/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({classNames:["__module-tickets__shared__collision-dropdown-hover"],maxStringLength:18,actions:{prevent:function(){return!1},open:function(e,n){if(n){Ember.run.cancel(Ember.get(this,"_closeDebounce"));var o=Ember.run.debounce(this,e.actions.open,100);return Ember.set(this,"_openDebounce",o),!1}},closeLater:function(e){Ember.run.cancel(Ember.get(this,"_openDebounce"));var n=Ember.run.debounce(this,e.actions.close,100);Ember.set(this,"_closeDebounce",n)}}})});
define("freshdesk/components/module-tickets/shared/collision-dropdown-hover/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"j71dHlF4",block:'{"symbols":["dd","agent"],"statements":[[4,"if",[[20,["agents","length"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","agent-collision-btn"],[7],[0,"\\n"],[4,"basic-dropdown",null,[["verticalPosition","renderInPlace"],[[20,["direction"]],"true"]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["onMouseDown","onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"prevent"],null],[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"        "],[6,"div"],[9,"class","view-flip active"],[9,"rel","notice-popover"],[10,"data-test-id",[18,"testIdentifier"],null],[7],[0,"\\n          "],[6,"div"],[9,"class","flip-front"],[7],[0,"\\n            "],[1,[25,"svg-jar",[[20,["icon"]]],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"div"],[9,"class","flip-back"],[7],[0,"\\n            "],[1,[20,["agents","length"]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["content"]]],[["onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"        "],[6,"div"],[9,"class","text--uppercase agent_collision_header"],[7],[0,"\\n          "],[1,[25,"t",[[20,["headerText"]]],null],false],[0,"\\n        "],[8],[0,"\\n"],[4,"each",[[20,["agents"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","agent_collision_option"],[7],[1,[25,"ellipsis-text",[[19,2,["userName"]],[20,["maxStringLength"]]],null],false],[8],[0,"\\n"]],"parameters":[2]},null]],"parameters":[]},null]],"parameters":[1]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/collision-dropdown-hover/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/freddy-suggestion/property/component",["exports","freshdesk/constants/ticket"],function(e,t){"use strict";function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({store:Ember.inject.service(),classNames:["freddy-field-suggestion"],actions:{triggerOption:function(){var e=Ember.get(this,"botSuggestion"),r=e.name,i=e.value,n=Ember.get(this,"select"),o=t.default.freddySuggestedField[r]||r;if(t.default.nonTicketFieldSuggestions.includes(r)){var d,c=t.default.freddySuggestedField[r]||r,g=Ember.get(this,"store").peekRecord(r,i);Ember.setProperties(Ember.get(this,"ticket"),(d={},s(d,c,i),s(d,r,g),d)),Ember.get(this,"onchange")(Ember.get(this,"dropdown"),g)}else Ember.set(Ember.get(this,"ticket"),o,i),n.actions.close()}}})});
define("freshdesk/components/module-tickets/shared/freddy-suggestion/property/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"tOvgesp1",block:'{"symbols":[],"statements":[[6,"button"],[9,"data-test-id","freddy-field-option"],[9,"class","answer--block"],[10,"onclick",[25,"action",[[19,0,[]],"triggerOption"],null],null],[7],[0,"\\n  "],[6,"span"],[9,"class","answer--img"],[7],[1,[25,"svg-jar",["freddy-suggestion"],[["class"],["app-icon"]]],false],[8],[0,"\\n  "],[6,"div"],[9,"class","answer--header text--xsmall"],[7],[1,[25,"t",["fd.freddy.suggestion"],null],false],[8],[0,"\\n  "],[6,"span"],[9,"data-test-id","answer--label"],[9,"class","answer--label text--xsmall text--extra-bold"],[7],[1,[20,["botSuggestion","valueLabel"]],false],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/freddy-suggestion/property/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/link-tickets/component",["exports","freshdesk/constants/search","ember-concurrency","freshdesk/constants/static-url-list","freshdesk/constants/ticket","freshdesk/utils/blank-array"],function(e,t,r,s,i,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=[{id:1,label:"tickets.merge.requester",value:"requester",url:s.default.trackerFilterByRequester},{id:2,label:"tickets.merge.subject",value:"subject",url:s.default.trackerFilterBySubject},{id:3,label:"tickets.merge.id",value:"display_id",url:s.default.trackerFilterByID}];e.default=Ember.Component.extend({store:Ember.inject.service(),ajax:Ember.inject.service(),classNames:["__module-tickets__shared__link-tickets"],optionsArray:a,fromListPage:!1,searchValue:"",isLoading:!1,selectedRequester:null,ticketList:(0,c.default)(),relatedTicketIds:(0,c.default)(),optionSelected:a.objectAt(0),ticket:Ember.computed.reads("data.currentTicket"),isSearch:Ember.computed("searchValue","selectedRequester",function(){var e=Ember.get(this,"searchValue"),t=Ember.get(this,"selectedRequester");return!(!e.trim()&&!t)}),isRecentTrackers:Ember.computed("ticketList",function(){var e=Ember.get(this,"ticketList"),t=Ember.get(this,"isSearch");return!(!e.length||t)||t}),selectedTrackerAssocCount:Ember.computed("selectedTracker",function(){var e=Ember.get(this,"selectedTracker.firstObject.associatedTicketsCount");return e||0}),selectedTracker:Ember.computed.filter("ticketList",function(e){return e.id==Ember.get(this,"ticketId")}),resultLabel:Ember.computed("searchValue","selectedRequester","ticketList",function(){var e=Ember.get(this,"searchValue"),t=Ember.get(this,"selectedRequester"),r=Ember.get(this,"ticketList.length"),s=void 0;return s=e.trim()||t?"tickets.ticket_associations.link_tickets.search_results":"tickets.ticket_associations.link_tickets.recent_trackers",this.i18n.t(s,{count:r})}),init:function(){this._super.apply(this,arguments),this._setModalData(),this._getTrackerList(),this.sendAction("modalLoaded")},actions:{cancel:function(){this.sendAction("close")},chooseOption:function(e){Ember.setProperties(this,{optionSelected:e,selectedRequester:null,searchValue:""}),this._getTrackerList()},engageSearch:function(e){Ember.set(this,"searchValue",e),this.send("debouncedSearch")},debouncedSearch:function(){Ember.run.debounce(this,this._getTrackerList,t.default.searchDebounceTime)},onCancel:function(){Ember.setProperties(this,{searchValue:"",selectedRequester:null}),this._getTrackerList()},linkToTracker:function(e){var t=this;Ember.set(this,"ticketId",e);var r=Ember.get(this,"ticket")||Ember.get(this,"ticketList.firstObject"),s=void 0,i={tracker_id:parseInt(e)};Ember.get(this,"fromListPage")?(i.ids=this.relatedTicketIds,s=r.bulkLink(i)):(Ember.set(r,"trackerId",e),s=r.save()),s.then(function(){t.sendAction("close"),Ember.get(t,"fromListPage")?(t.updateTracker(e),t._updateTicketList(e)):(t.updateTicketProperties(r),t.sendAction("updateTrackerAction"));var s=Ember.get(t,"router").generate("helpdesk.tickets.show",e),i=Ember.get(t,"i18n").t("tickets.ticket_associations.link_tickets.link_success",{ticketLink:s,ticketId:e});Ember.get(t,"flashMessages").success(i)})},createTracker:function(){var e=Ember.get(this,"ticket"),t={status:i.default.defaultStatus,priority:i.default.defaultPriority,customFields:{}},r=Ember.get(this,"store").createRecord("ticket",t),s=Ember.get(this,"relatedTicketIds"),c={options:{template:"module-tickets/ticket-form",closeOnEscapse:!0,showModalClose:!0},data:{type:"createTracker",relatedTicketIds:s,ticket:r,currentTicket:e,updateTrackerFn:Ember.get(this,"updateTrackerAction"),from:Ember.get(this,"fromListPage")}};this.overlay.open(c)},onSelectRequester:function(e){Ember.set(this,"selectedRequester",e),this._getTrackerList()}},_setModalData:function(){var e=Ember.get(this,"data");if(e){var t=!!e.from;Ember.set(this,"fromListPage",t),Ember.set(this,"relatedTicketIds",e.relatedTicketIds),Ember.set(this,"updateTrackerAction",e.updateTrackerFn)}},_handleSearchResponse:function(e){return e.results},_convertSearchItemToTicket:function(e){var t=Ember.get(this,"store"),r=t.peekRecord("ticket",e.id);if(r)t.pushPayload(e),r=t.peekRecord("ticket",e.id);else{var s={subject:e.subject,createdAt:e.created_at,requesterId:e.requester_id,responderId:e.responder_id,groupId:e.group_id,dueBy:Ember.isPresent(e.due_by)?new Date(e.due_by):e.due_by,permission:!0,status:e.status};r=t.createRecord("ticket",Ember.assign({},{id:e.id},s))}return r},_setTrackerSearchParams:function(){var e=void 0,t=Ember.get(this,"searchValue"),r=Ember.get(this,"isSearch"),s=Ember.get(this,"selectedRequester"),i=Ember.get(this,"optionSelected.value");return r?"requester"===i&&s?e={context:"tracker",field:Ember.get(this,"optionSelected.value"),requester_ids:[s.id]}:t.trim()?e={context:"tracker",field:Ember.get(this,"optionSelected.value"),term:t}:e:e={context:"recent_tracker"}},_getTrackerList:function(){Ember.set(this,"isLoading",!0);var e=s.default.ticketsFilterAsTrackers;Ember.get(this,"ajax").post(e,{data:JSON.stringify(this._setTrackerSearchParams())}).then(this._showTickets.bind(this))},_showTickets:function(e){var t=this,r=e.tickets.map(function(e){return t._convertSearchItemToTicket(e)});Ember.set(this,"ticketList",r),Ember.set(this,"isLoading",!1)},updateTracker:function(e){var t=Ember.get(this,"data.model"),r={ticket:{id:e,associated_tickets_count:Ember.get(this,"selectedTrackerAssocCount")+Ember.get(t,"selectedRecords").length}};Ember.get(this,"store").pushPayload(r)},_updateTicketList:function(e){var t=this,r=Ember.get(this,"data.model");r&&Ember.get(r,"selectedRecords").forEach(function(r){t.updateTicketProperties(r,e),r.toggleProperty("selected")})},updateTicketProperties:function(e,t){var r={ticket:{id:Ember.get(e,"id"),tracker_id:t,association_type:i.default.associationType.related}};Ember.get(this,"store").pushPayload(r)},searchRequesters:(0,r.task)(regeneratorRuntime.mark(function e(t){var i,c,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.timeout)(250);case 2:return i=s.default.requesterSearch,e.next=5,Ember.get(this,"ajax").post(i,{data:JSON.stringify({term:t})});case 5:return c=e.sent,a=c.contacts||[],e.abrupt("return",Ember.isEmpty(a)?[{empty:!0}]:a);case 8:case"end":return e.stop()}},e,this)})).restartable()})});
define("freshdesk/components/module-tickets/shared/link-tickets/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"GUfrbVNc",block:'{"symbols":["option","select","group"],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n    "],[1,[25,"svg-jar",["related"],[["class"],["modal-icons"]]],false],[0," "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.add"],[["count"],[[20,["relatedTicketIds","length"]]]]],false],[0,"\\n"],[4,"if",[[20,["isRecentTrackers"]]],null,{"statements":[[0,"      "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],"createTracker"],null],null],[9,"data-test-id","create-tracker"],[9,"class","ml5 text--small"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.new"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[4,"if",[[20,["isRecentTrackers"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","tracker-list-top"],[7],[0,"\\n      "],[6,"div"],[9,"class","modal-search clearfix tracker-search"],[7],[0,"\\n        "],[6,"div"],[9,"class","modal-filter-wrapper"],[7],[0,"\\n          "],[6,"div"],[9,"class","text__content clearfix"],[7],[0,"\\n            "],[6,"span"],[9,"class","pull-left"],[7],[0,"\\n              "],[6,"div"],[9,"class","search-options"],[7],[0,"\\n"],[4,"power-select",null,[["selected","options","searchEnabled","onchange"],[[20,["optionSelected"]],[20,["optionsArray"]],false,[25,"action",[[19,0,[]],"chooseOption"],null]]],{"statements":[[0,"                  "],[1,[25,"t",[[19,3,["label"]]],null],false],[0,"\\n"]],"parameters":[3]},null],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n\\n          "],[6,"div"],[9,"class","modal-search clearfix search-container"],[7],[0,"\\n            "],[6,"div"],[9,"class","modal-filter-wrapper"],[7],[0,"\\n"],[4,"if",[[25,"eq",[[20,["optionSelected","value"]],"requester"],null]],null,{"statements":[[0,"                "],[6,"div"],[9,"class","merge-search-ticket tracker-search-dropdown"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["search"],[["class"],["app-icon app-icon--small modal-search-icon"]]],false],[0,"\\n"],[4,"ui-form/select-field",null,[["options","allowCreate","placeholder","selected","dropdownClass","multiple","onchange","search"],[[20,["options"]],false,[25,"t",[[25,"concat",["tickets.ticket_associations.link_tickets.tracker.search.",[20,["optionSelected","value"]]],null]],null],[20,["selectedRequester"]],"tracker-search-dropdown",false,[25,"action",[[19,0,[]],"onSelectRequester"],null],[25,"perform",[[20,["searchRequesters"]]],null]]],{"statements":[[4,"unless",[[19,2,["loading"]]],null,{"statements":[[4,"if",[[19,1,["empty"]]],null,{"statements":[[0,"                        "],[6,"span"],[7],[1,[25,"t",["fd.norecords"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[1,[19,1,["value"]],false],[0,"\\n                        "],[1,[25,"t",["tickets.merge.requestor.email"],[["email"],[[19,1,["email"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"                "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[1,[25,"ui-components/search-field",null,[["value","size","key-up","placeholder","allowRecentSearch","engageSearch","cancelButton","on-cancel"],[[20,["searchValue"]],"small",[25,"action",[[19,0,[]],"debouncedSearch"],null],[25,"t",[[25,"concat",["tickets.ticket_associations.link_tickets.tracker.search.",[20,["optionSelected","value"]]],null]],null],false,[25,"action",[[19,0,[]],"engageSearch"],null],true,[25,"action",[[19,0,[]],"onCancel"],null]]]],false],[0,"\\n"]],"parameters":[]}],[0,"            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n\\n      "],[6,"div"],[9,"class","tracker-list-label text--uppercase"],[7],[0,"\\n        "],[1,[18,"resultLabel"],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n\\n"],[1,[25,"module-tickets/shared/associated-tickets/ticket-list",null,[["linkActions","linkToTracker","type","tickets","isLoading","isSearch","isTrackerList","showBulkUpdates","createTracker"],[true,[25,"action",[[19,0,[]],"linkToTracker"],null],[25,"t",["tickets.ticket_associations.tracker.label"],null],[20,["ticketList"]],[20,["isLoading"]],[20,["isSearch"]],true,false,[25,"action",[[19,0,[]],"createTracker"],null]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/link-tickets/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/priority-dropdown/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/tickets/clearSetOptionsInterfaceAPI"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(i.default,{mkpInterface:Ember.inject.service("marketplace-interface"),tagName:"",additionalClasses:"",priority:null,defaultEmpty:!1,updatePromise:null,isSelected:!1,searchEnabled:!1,showPriorityPointer:!1,isDisabled:Ember.computed.readOnly("disabled"),isSaving:Ember.computed.readOnly("updatePromise.isPending"),isSuccess:Ember.computed.readOnly("updatePromise.isFulfilled"),isError:Ember.computed.readOnly("updatePromise.isRejected"),flashActive:Ember.computed.or("isSuccess","isError","isSaving"),priorityObject:Ember.computed("priority","mkpInterface.controlData.dropdownOptionsUpdated",function(){var e=Ember.get(this,"mkpInterface.controlData.mkpFieldChange"),i=e?e.priority:null,r=this.getAttr("priority");if(!r){if(this.getAttr("defaultEmpty")||i)return null;r=1}return t.default.priorityList.findBy("value",r)}),priorityList:Ember.computed("mkpInterface.controlData.dropdownOptionsUpdated",function(){var e=Ember.get(this,"mkpInterface.controlData.mkpFieldChange");if(e&&e.priority){var i=e.priority;return t.default.priorityList.filter(function(e){return i.includes(e.value)})}return t.default.priorityList}),willDestroyElement:function(){this._super.apply(this,arguments),this.deleteInterfaceAPIValues("priority")},actions:{choosePriority:function(e){Ember.set(this,"isSelected",!0),this.sendAction("saveAction",e.value)},onFocus:function(e){Ember.get(this,"onFocusPriority")&&!Ember.get(this,"isSelected")&&Ember.get(this,"onFocusPriority")(e),Ember.set(this,"isSelected",!1)}}})});
define("freshdesk/components/module-tickets/shared/priority-dropdown/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"xbJX+QjG",block:'{"symbols":["priority"],"statements":[[4,"if",[[25,"and",[[25,"not",[[20,["isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null]],null,{"statements":[[0,"  "],[6,"div"],[10,"aria-label",[25,"t",["fd.priority"],null],null],[10,"class",[26,[[18,"additionalClasses"]," hint hint--left select-priority"]]],[9,"data-test-dropdown","dropdown-priority"],[7],[0,"\\n"],[4,"ui-form/select-field",null,[["selected","options","disabled","onFocus","onchange","searchEnabled","beforeOptionsComponent","searchField","data-test-id"],[[20,["priorityObject"]],[20,["priorityList"]],[20,["isDisabled"]],[25,"action",[[19,0,[]],"onFocus"],null],[25,"action",[[19,0,[]],"choosePriority"],null],[20,["searchEnabled"]],[25,"if",[[20,["botSuggestion"]],[25,"component",["module-tickets/shared/freddy-suggestion/property"],[["ticket","botSuggestion"],[[20,["model"]],[20,["botSuggestion"]]]]],null],null],"key","priority"]],{"statements":[[0,"      "],[6,"span"],[10,"class",[26,["tickets__list--",[19,1,["key"]]," tickets__list--dropdown"]]],[7],[8],[0,"\\n      "],[1,[25,"t",[[25,"concat",["ticket.priorityLabels.",[19,1,["key"]]],null]],null],false],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[9,"class","list-filter__label"],[7],[0,"\\n    "],[6,"span"],[10,"class",[26,["tickets__list--",[20,["priorityObject","key"]]," tickets__list--dropdown"]]],[7],[8],[0,"\\n    "],[1,[25,"t",[[25,"concat",["ticket.priorityLabels.",[20,["priorityObject","key"]]],null]],null],false],[0,"\\n"],[4,"if",[[20,["showPriorityPointer"]]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","ember-power-select-status-icon priority-icon list-filter__label__pointer"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/priority-dropdown/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/card-layer/component",["exports"],function(e){"use strict";function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({classNames:["card-layer"],cardList:Ember.computed("tickets",function(){var e=Ember.get(this,"tickets"),t=e.length,n=t>1?t-1:0;return[].concat(r(Array(n>4?4:n).keys())).reverse()})})});
define("freshdesk/components/module-tickets/shared/tickets-merge/card-layer/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"NHS8ZlEk",block:'{"symbols":["card"],"statements":[[4,"each",[[20,["cardList"]]],null,{"statements":[[0,"  "],[6,"div"],[10,"class",[26,["card-item card-item-",[19,1,[]]]]],[9,"data-test-id","item-card"],[7],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-merge/card-layer/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/component",["exports","ember-concurrency","freshdesk/constants/static-url-list"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[{id:"private",label:"tickets.merge.finalscreen.private",description:"tickets.merge.finalscreen.private.subtext",icon:"lock-fill"},{id:"public",label:"tickets.merge.finalscreen.public",description:"tickets.merge.finalscreen.public.subtext",icon:"globe-fill"}],s=[{id:1,label:"tickets.merge.requester",value:"requester",placeholder:"tickets.merge.contacts.placeholder"},{id:2,label:"tickets.merge.subject",value:"subject",placeholder:"tickets.merge.subject.placeholder"},{id:3,label:"tickets.merge.id",value:"display_id",placeholder:"tickets.merge.id.placeholder"}],n=["createdAt"];e.default=Ember.Component.extend({store:Ember.inject.service(),ajax:Ember.inject.service(),i18n:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["__module-tickets__shared__tickets-merge"],sortField:n,isFirstScreen:!0,isPrimaryNoteEditing:!1,privateOptions:i,primaryNote:"",secondaryNote:"",primaryNoteTextField:"",secondaryNoteTextField:"",isPrimaryPrivate:!0,isSecondaryPrivate:!0,isSecondaryCC:!1,isMergeInProgress:!1,optionsArray:s,optionSelected:s.objectAt(0),primaryPrivateSelected:i.objectAt(0),primaryPrivate:i.objectAt(0),secondaryPrivateSelected:i.objectAt(0),secondaryPrivate:i.objectAt(0),tickets:Ember.computed.reads("data.tickets"),updateToggleAction:Ember.computed.reads("data.updateToggleFn"),disableContinue:Ember.computed.lte("tickets.length",1),sortedTickets:Ember.computed.sort("tickets","sortField"),primaryTicket:Ember.computed("sortedTickets.[]",{get:function(){return Ember.get(this,"sortedTickets.firstObject")},set:function(e,t){return t}}),ticketSummaryEnabled:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("ticket_summary")}),secondaryTicketsList:Ember.computed("primaryTicket","tickets.[]",function(){var e=Ember.get(this,"primaryTicket");return Ember.get(this,"tickets").filter(function(t){return t!==e})}),init:function(){this._super.apply(this,arguments),this.sendAction("modalLoaded")},actions:{cancel:function(){Ember.get(this,"isMergeInProgress")||this.sendAction("close")},chooseOption:function(e){Ember.set(this,"optionSelected",e)},changePrimary:function(e){Ember.get(this,"isMergeInProgress")||Ember.set(this,"primaryTicket",e)},removeTicket:function(e){this.removeTicket(e)},continueClick:function(){if(!Ember.get(this,"isMergeInProgress")){Ember.get(this,"tickets").length>1&&(this.generateNotes(),Ember.setProperties(this,{isFirstScreen:!1,isPrimaryNoteEditing:!1,isSecondaryNoteEditing:!1}))}},back:function(){Ember.get(this,"isMergeInProgress")||(Ember.set(this,"isFirstScreen",!0),Ember.setProperties(this,{isPrimaryPrivate:!0,isSecondaryPrivate:!0}))},primaryNoteEdit:function(){Ember.get(this,"isMergeInProgress")||Ember.setProperties(this,{isPrimaryNoteEditing:!0,isSecondaryNoteEditing:!1,primaryNoteTextField:Ember.get(this,"primaryNote")})},cancelPrimaryNote:function(){Ember.get(this,"isMergeInProgress")||Ember.set(this,"isPrimaryNoteEditing",!1)},cancelSecondaryNote:function(){Ember.get(this,"isMergeInProgress")||Ember.set(this,"isSecondaryNoteEditing",!1)},secondaryNoteEdit:function(){Ember.get(this,"isMergeInProgress")||Ember.setProperties(this,{isSecondaryNoteEditing:!0,isPrimaryNoteEditing:!1,secondaryNoteTextField:Ember.get(this,"secondaryNote")})},addPrimaryNote:function(){Ember.get(this,"isMergeInProgress")||Ember.setProperties(this,{primaryNote:Ember.get(this,"primaryNoteTextField"),primaryPrivateSelected:Ember.get(this,"primaryPrivate"),isPrimaryPrivate:"private"===Ember.get(this,"primaryPrivate.id"),isPrimaryNoteEditing:!1})},addSecondaryNote:function(){Ember.get(this,"isMergeInProgress")||Ember.setProperties(this,{secondaryNote:Ember.get(this,"secondaryNoteTextField"),secondaryPrivateSelected:Ember.get(this,"secondaryPrivate"),isSecondaryPrivate:"private"===Ember.get(this,"secondaryPrivate.id"),isSecondaryNoteEditing:!1})},merge:function(){if(!Ember.get(this,"isMergeInProgress")){var e=Ember.get(this,"primaryTicket");if(e)return Ember.set(this,"isMergeInProgress",!0),e.merge(this.getMergeParams()).then(this._mergeUpdateSucces.bind(this))}},addTicket:function(e){if(!Ember.get(this,"isMergeInProgress")){var t=Ember.get(this,"tickets");Ember.set(e,"isAdded",!0),t.pushObject(e.ticket)}},removeTicketFromSearchList:function(e){Ember.set(e,"isAdded",!1),this.removeTicket(e.ticket)},secondaryPrivateChanged:function(e){Ember.set(this,"secondaryPrivate",e)},primaryPrivateChanged:function(e){Ember.set(this,"primaryPrivate",e)},onSelectSearchOptions:function(e,t){if(!Ember.isEmpty(e)){var r=e.objectAt(0);r.ticket||r.empty||t.actions.search(Ember.assign({},r,{lastSearchedText:r.details,selectedOptionString:r.details}))}}},warpIDWithLink:function(e){return'<a href="'+window.location.origin+"/helpdesk/tickets/"+e+'" target="_blank" rel="noreferrer">'+e+"</a>"},concatIDs:function(e){var t=this,r=[].concat(e),i=this.warpIDWithLink(r.pop()),s=r.map(function(e){return t.warpIDWithLink(e)}).join(", ");return Ember.get(this,"i18n").t("tickets.merge.mergeids",{idsJoin:Ember.String.htmlSafe(s),lastid:Ember.String.htmlSafe(i)})},generateNotes:function(){var e="",t="",r=Ember.get(this,"primaryTicket.id"),i=Ember.get(this,"secondaryTicketsList").mapBy("id");e=i.length>1?Ember.get(this,"i18n").t("tickets.merge.primarynote.ids",{secondaryIDs:Ember.String.htmlSafe(this.concatIDs(i))}):Ember.get(this,"i18n").t("tickets.merge.primarynote.id",{secondaryID:Ember.String.htmlSafe(this.warpIDWithLink(i.objectAt(0)))}),t=Ember.get(this,"i18n").t("tickets.merge.secondarynote",{primaryID:Ember.String.htmlSafe(this.warpIDWithLink(r))}),Ember.setProperties(this,{primaryNote:e,primaryNoteTextField:e,secondaryNote:t,secondaryNoteTextField:t,secondaryIDs:i})},getMergeParams:function(){return{primary_id:parseInt(Ember.get(this,"primaryTicket.id")),ticket_ids:Ember.get(this,"secondaryIDs").map(function(e){return+e}),note_in_primary:{body:Ember.get(this,"primaryNote"),private:Ember.get(this,"isPrimaryPrivate")},note_in_secondary:{body:Ember.get(this,"secondaryNote"),private:Ember.get(this,"isSecondaryPrivate")},convert_recepients_to_cc:Ember.get(this,"isSecondaryCC")}},_setRequestParams:function(e){var t=Ember.get(this,"optionSelected.value"),r={context:"merge",field:t};return"requester"===t?"string"==typeof e?r={term:e}:r.requester_ids=[e.id]:r.term=e,r},_convertSearchItemToTicket:function(e){var t=Ember.get(this,"store"),r=t.peekRecord("ticket",e.id),i={subject:e.subject,createdAt:e.created_at,requesterId:e.requester_id,responderId:e.responder_id,groupId:e.group_id,stats:e.stats};return r?Ember.setProperties(r,i):r=t.createRecord("ticket",Ember.assign({},{id:e.id},i)),r},searchFetch:(0,t.task)(regeneratorRuntime.mark(function e(i){var s,n,c,o,a,m,d,g,b=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.timeout)(250);case 2:return s=Ember.get(this,"optionSelected.value"),n=r.default.requesterSearch,c=r.default.ticketsFilterAsTrackers,o="requester"===s&&"string"==typeof i?n:c,a=Ember.get(this,"tickets"),m=[],e.next=9,Ember.get(this,"ajax").post(o,{data:JSON.stringify(this._setRequestParams(i))});case 9:return d=e.sent,"requester"===s&&"string"==typeof i?m=d.contacts||[]:(g=d.tickets.map(function(e){return b._convertSearchItemToTicket(e)}),m=g.map(function(e){return{ticket:e,isAdded:a.findBy("id",Ember.get(e,"id"))}})),e.abrupt("return",Ember.isEmpty(m)?[{empty:!0}]:m);case 12:case"end":return e.stop()}},e,this)})).restartable(),removeTicket:function(e){if(!Ember.get(this,"isMergeInProgress")){Ember.get(this,"tickets").removeObject(e)}},_mergeUpdateSucces:function(){var e=Ember.get(this,"updateToggleAction"),t=Ember.get(this,"primaryTicket");Ember.set(this,"isMergeInProgress",!1),e instanceof Function?e(Ember.get(t,"id")):"string"==typeof e&&Ember.get(this,e)(Ember.get(t,"id")),Ember.get(this,"close")()}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/edit-note/component",["exports","freshdesk/constants/editor/tickets-merge-note"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["merge__item","merge__edititem"],classNameBindings:["hasTicket::merge__editsecondary"],editorOptions:t.default,hasTicket:Ember.computed.bool("ticket"),selectedHandle:Ember.computed.reads("selected"),actions:{changePrivateOptionHandle:function(e,t){t.actions.close(),Ember.set(this,"selectedHandle",e),Ember.get(this,"privateOptionSelect")(e)}}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/edit-note/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"BNE1iaFw",block:'{"symbols":["d","options","dropdown","option"],"statements":[[4,"if",[[20,["hasTicket"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","merge__section merge__editheader"],[7],[0,"\\n    "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","class"],[[20,["ticket"]],"list-content-wrap"]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[9,"class","merge__editheader"],[7],[0,"\\n    "],[6,"div"],[9,"class","merge-editnote-info text__content"],[7],[0,"\\n      "],[1,[25,"t",["tickets.merge.secondarynote.title"],[["length"],[[20,["ticketCount"]]]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]}],[6,"div"],[9,"class","merge__section merge__editbody"],[9,"data-test-id","merge-editbody"],[7],[0,"\\n  "],[1,[25,"ui-form/editor/ticket-editor",null,[["placeholder","value","showCannedResponse","showSolution","showSurvey","contentChanged","showFooter","showAttachments","skipFirstSendAction","wrapDefaultFont"],["",[20,["body"]],false,false,false,[25,"action",[[19,0,[]],[25,"mut",[[20,["body"]]],null]],null],false,false,false,true]]],false],[0,"\\n  "],[6,"div"],[9,"id","editor-toolbar"],[9,"class","editor-toolbar"],[7],[8],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","text-right pt-16 border-top"],[7],[0,"\\n  "],[6,"div"],[9,"class","merge__note-footer"],[7],[0,"\\n    "],[6,"label"],[9,"class","pull-left"],[7],[0,"\\n"],[4,"ui-components/drop-down",null,[["class","direction","selected"],["private-dropdown","left",[20,["selectedHandle"]]]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"          "],[6,"span"],[10,"class",[26,["private-dropdown__trigger ",[25,"if",[[25,"eq",[[20,["selectedHandle","id"]],"private"],null],"private-dropdown__privatenote"],null]]]],[9,"data-test-id","private-dropdown-trigger"],[7],[0,"\\n            "],[1,[25,"svg-jar",[[20,["selectedHandle","icon"]]],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"span"],[9,"class","muted"],[9,"data-test-id","selected-description"],[7],[0,"\\n            "],[1,[25,"t",[[20,["selectedHandle","description"]]],null],false],[0,"\\n          "],[8],[0,"\\n          "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall"]]],false],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["options"],[[20,["privateOptions"]]]],{"statements":[[0,"          "],[6,"div"],[9,"class","popup-title"],[7],[0,"\\n            "],[1,[25,"t",["tickets.merge.finalscreen.privacy.title"],null],false],[0,"\\n          "],[8],[0,"\\n"],[4,"each",[[19,2,[]]],null,{"statements":[[0,"            "],[6,"div"],[10,"onclick",[25,"action",[[19,0,[]],"changePrivateOptionHandle",[19,4,[]],[19,3,[]]],null],null],[10,"class",[26,["dropdown__option ",[25,"if",[[25,"eq",[[19,4,[]],[20,["selectedHandle"]]],null],"selected"],null]]]],[9,"data-test-id","dropdown-option"],[7],[0,"\\n              "],[6,"div"],[10,"class",[26,["option-icon ",[25,"if",[[25,"eq",[[19,4,["id"]],"private"],null],"option--privatenote"],null]]]],[7],[0,"\\n                "],[1,[25,"svg-jar",[[19,4,["icon"]]],[["class"],["app-icon app-icon--small option-icon-normal"]]],false],[0,"\\n              "],[8],[0,"\\n              "],[6,"div"],[9,"class","option"],[7],[0,"\\n                "],[6,"div"],[7],[1,[25,"t",[[19,4,["label"]]],null],false],[8],[0,"\\n                "],[6,"div"],[9,"class","private-options-label private-options-label-popup"],[7],[1,[25,"t",[[19,4,["description"]]],null],false],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[4]},null]],"parameters":[2,3]},null]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n    "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[9,"data-test-id","cancel-secondary-edit"],[3,"action",[[19,0,[]],[20,["cancelNote"]]]],[7],[0,"\\n      "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--primary"],[9,"data-test-id","add-note"],[3,"action",[[19,0,[]],[20,["addNote"]]]],[7],[0,"\\n      "],[1,[25,"t",["tickets.merge.primarynote.addasprivate"],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-merge/edit-note/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"JNsGXYZp",block:'{"symbols":["item","index","item","item","select","group"],"statements":[[6,"div"],[9,"class","modal-title-subtext pt-20"],[7],[0,"\\n  "],[6,"div"],[9,"class","modal-header"],[7],[0,"\\n    "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n"],[4,"if",[[20,["isFirstScreen"]]],null,{"statements":[[0,"        "],[1,[25,"svg-jar",["merge-action"],[["class"],["modal-icons"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"button"],[9,"type","button"],[9,"class","merge-back"],[3,"action",[[19,0,[]],"back"]],[7],[0,"\\n          "],[1,[25,"svg-jar",["back"],[["class"],["modal-icons app-icon--normal app-icon--dark"]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]}],[0,"      "],[6,"span"],[9,"class","merge-title"],[7],[1,[25,"t",["tickets.merge.title"],null],false],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["isFirstScreen"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","text__infotext modal_subtext pt-10"],[7],[0,"\\n        "],[1,[20,["tickets","length"]],false],[1,[25,"t",["tickets.merge.firstscreen.subtitle"],null],false],[1,[25,"if",[[20,["ticketSummaryEnabled"]],[25,"t",["tickets.merge.firstscreen.summarytext"],null]],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","text__infotext modal_subtext pt-10"],[7],[0,"\\n        "],[1,[25,"t",["tickets.merge.finalscreen.subtitle"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[4,"if",[[20,["isFirstScreen"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","modal-body merge"],[9,"data-test-id","merge-ticket"],[7],[0,"\\n      "],[6,"div"],[9,"class","modal-search clearfix"],[7],[0,"\\n        "],[6,"div"],[9,"class","modal-filter-wrapper"],[7],[0,"\\n          "],[6,"div"],[9,"class","text__content clearfix"],[7],[0,"\\n            "],[6,"span"],[9,"class","pull-left"],[7],[0,"\\n              "],[6,"div"],[9,"class","search-options"],[7],[0,"\\n"],[4,"ui-form/select-field",null,[["data-test-id","selected","options","searchEnabled","onchange"],["search-options-select",[20,["optionSelected"]],[20,["optionsArray"]],false,[25,"action",[[19,0,[]],"chooseOption"],null]]],{"statements":[[0,"                  "],[1,[25,"t",[[19,6,["label"]]],null],false],[0,"\\n"]],"parameters":[6]},null],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n\\n          "],[6,"div"],[9,"class","modal-search clearfix search-container"],[7],[0,"\\n            "],[6,"div"],[9,"class","modal-filter-wrapper"],[7],[0,"\\n              "],[6,"div"],[9,"class","merge-search-ticket"],[9,"data-test-id","merge-search-ticket-item"],[7],[0,"\\n                "],[1,[25,"svg-jar",["search"],[["class"],["app-icon app-icon--small modal-search-icon"]]],false],[0,"\\n"],[4,"ui-form/select-field",null,[["class","closeOnSelect","multiple","clearSearch","dropdownClass","placeholder","search","searchField","allowClear","onchange"],["power-select",false,true,true,"merge-search-dropdown",[25,"t",[[20,["optionSelected","placeholder"]]],null],[25,"perform",[[20,["searchFetch"]]],null],"label",true,[25,"action",[[19,0,[]],"onSelectSearchOptions"],null]]],{"statements":[[4,"unless",[[19,5,["loading"]]],null,{"statements":[[4,"if",[[19,4,["ticket"]]],null,{"statements":[[0,"                      "],[6,"div"],[9,"class","merge__item clearfix"],[9,"data-test-id","merge-item"],[7],[0,"\\n                        "],[6,"div"],[9,"class","pull-left primary-mark"],[7],[0,"\\n"],[4,"if",[[19,4,["isAdded"]]],null,{"statements":[[0,"                            "],[6,"span"],[9,"data-test-id","remove-ticket"],[3,"action",[[19,0,[]],"removeTicketFromSearchList",[19,4,[]]],[["preventDefault","bubble"],[false,false]]],[7],[0,"\\n                              "],[1,[25,"svg-jar",["remove"],[["class"],["app-icon app-icon--normal"]]],false],[0,"\\n                            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                            "],[6,"span"],[9,"data-test-id","primary-add"],[3,"action",[[19,0,[]],"addTicket",[19,4,[]]],[["preventDefault","bubble"],[false,false]]],[7],[0,"\\n                              "],[1,[25,"svg-jar",["add"],[["class"],["app-icon app-icon--normal"]]],false],[0,"\\n                            "],[8],[0,"\\n"]],"parameters":[]}],[0,"                        "],[8],[0,"\\n                        "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","class"],[[19,4,["ticket"]],"list-content-wrap pull-left"]]],false],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[19,4,["empty"]]],null,{"statements":[[0,"                        "],[6,"span"],[7],[1,[25,"t",["fd.norecords"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[6,"div"],[9,"class","requester"],[9,"data-test-id","requester-item"],[7],[0,"\\n                          "],[6,"span"],[7],[1,[19,4,["value"]],false],[8],[0,"\\n                          "],[6,"span"],[9,"class","text--gray"],[7],[1,[25,"t",["tickets.merge.requestor.email"],[["email"],[[19,4,["email"]]]]],false],[8],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null]],"parameters":[4,5]},null],[0,"              "],[8],[0,"\\n\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n\\n"],[4,"each",[[20,["sortedTickets"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,["merge__item first ",[25,"if",[[25,"eq",[[19,3,[]],[20,["primaryTicket"]]],null],"merge__item-primary"],null]]]],[9,"data-test-id","merge-item-first"],[7],[0,"\\n          "],[6,"div"],[9,"class","merge-delete pull-left"],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,3,[]],[20,["primaryTicket"]]],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","removewatcher--disabled"],[9,"data-test-id","removewatcher-disabled"],[7],[0,"\\n                "],[1,[25,"svg-jar",["remove"],[["class"],["app-icon app-icon--normal"]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"span"],[10,"aria-label",[25,"t",["tickets.merge.item.remove"],null],null],[9,"class","hint--top"],[9,"data-test-id","removewatcher-enabled"],[3,"action",[[19,0,[]],"removeTicket",[19,3,[]]]],[7],[0,"\\n                "],[1,[25,"svg-jar",["remove"],[["class","data-test-id"],["app-icon app-icon--normal","removeTicket"]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]}],[0,"          "],[8],[0,"\\n          "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","class"],[[19,3,[]],"list-content-wrap pull-left"]]],false],[0,"\\n          "],[6,"div"],[9,"class","pull-right primary-mark"],[9,"data-test-id","add-primary-mark"],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,3,[]],[20,["primaryTicket"]]],null]],null,{"statements":[[0,"              "],[1,[25,"svg-jar",["primary-ticket"],[["class"],["app-icon app-icon--large primary-custom"]]],false],[0,"\\n              "],[6,"span"],[9,"class","primary-label"],[7],[1,[25,"t",["tickets.merge.firstscreen.primarylabel"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"span"],[10,"aria-label",[25,"t",["tickets.merge.firstscreen.primarymark"],null],null],[10,"onclick",[25,"action",[[19,0,[]],"changePrimary",[19,3,[]]],null],null],[9,"class","hint--top change-primary"],[9,"data-test-id","change-primary-item"],[7],[0,"\\n                "],[1,[25,"svg-jar",["secondary-tickets"],[["class"],["app-icon app-icon--large secondary-custom"]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]}],[0,"          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n      "],[6,"label"],[9,"class","pull-left addrecipients"],[9,"data-test-id","ticket-addrecipients"],[7],[0,"\\n        "],[1,[25,"ui-form/custom-checkbox",null,[["class","labelId","value"],["merge-checkbox addrecipients-checkbox","addrecipients",[20,["isSecondaryCC"]]]]],false],[0,"\\n        "],[1,[25,"t",["tickets.merge.firstscreen.footer.addrecipients"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[9,"data-test-id","cancel"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n        "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"button"],[9,"type","button"],[9,"name","button"],[10,"disabled",[18,"disableContinue"],null],[9,"class","continue-merge btn btn--primary"],[9,"data-test-id","continue-merge"],[3,"action",[[19,0,[]],"continueClick"]],[7],[0,"\\n        "],[1,[25,"t",["tickets.merge.firstscreen.footer.continue"],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isPrimaryNoteEditing"]]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/shared/tickets-merge/edit-note",null,[["noteTextField","ticket","privateOptions","selected","privateOptionSelect","isPrivate","cancelNote","addNote"],[[20,["primaryNoteTextField"]],[20,["primaryTicket"]],[20,["privateOptions"]],[20,["primaryPrivateSelected"]],[25,"action",[[19,0,[]],"primaryPrivateChanged"],null],[20,["isPrimaryPrivate"]],[25,"action",[[19,0,[]],"cancelPrimaryNote"],null],[25,"action",[[19,0,[]],"addPrimaryNote"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","merge__item merge__item-primary"],[9,"data-test-id","merge-item"],[7],[0,"\\n        "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","class"],[[20,["primaryTicket"]],"list-content-wrap pull-left"]]],false],[0,"\\n        "],[6,"div"],[9,"class","merge-edit pull-right"],[7],[0,"\\n          "],[6,"div"],[9,"class","app-icon-btn"],[9,"data-test-id","primary-note-edit"],[3,"action",[[19,0,[]],"primaryNoteEdit"]],[7],[0,"\\n            "],[1,[25,"svg-jar",["edit"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[6,"div"],[10,"class",[26,["merge-child ",[25,"if",[[20,["isSecondaryNoteEditing"]],"merge-collapsed"],null]]]],[9,"data-test-id","merge-child-item"],[7],[0,"\\n"],[4,"if",[[20,["isSecondaryNoteEditing"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","merge__wrap"],[7],[0,"\\n          "],[1,[25,"module-tickets/shared/tickets-merge/edit-note",null,[["ticketCount","noteTextField","privateOptions","selected","privateOptionSelect","cancelNote","addNote"],[[20,["secondaryTicketsList","length"]],[20,["secondaryNoteTextField"]],[20,["privateOptions"]],[20,["secondaryPrivateSelected"]],[25,"action",[[19,0,[]],"secondaryPrivateChanged"],null],[25,"action",[[19,0,[]],"cancelSecondaryNote"],null],[25,"action",[[19,0,[]],"addSecondaryNote"],null]]]],false],[0,"\\n          "],[1,[25,"module-tickets/shared/tickets-merge/card-layer",null,[["tickets"],[[20,["secondaryTicketsList"]]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"div"],[9,"class","secondary-header"],[7],[0,"\\n          "],[6,"span"],[9,"class","text--uppercase"],[7],[1,[25,"t",["tickets.merge.finalscreen.secondarytickets"],[["length"],[[20,["secondaryTicketsList","length"]]]]],false],[8],[0,"\\n          "],[6,"a"],[9,"data-test-id","edit-note"],[9,"class","edit-note"],[9,"href",""],[3,"action",[[19,0,[]],"secondaryNoteEdit"]],[7],[1,[25,"t",["tickets.merge.finalscreen.editnote"],null],false],[8],[0,"\\n        "],[8],[0,"\\n"],[4,"each",[[20,["secondaryTicketsList"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","merge__item"],[9,"data-test-id","merge-item"],[7],[0,"\\n            "],[1,[25,"module-tickets/shared/tickets-merge/ticket-item",null,[["ticket","class"],[[19,1,[]],"list-content-wrap pull-left"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[1,2]},null]],"parameters":[]}],[0,"    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","modal-footer form_submission second-footer"],[7],[0,"\\n      "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[9,"data-test-id","cancel-merge"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n        "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[1,[25,"async-button",null,[["action","default","pending","class","data-test-id"],[[25,"action",[[19,0,[]],"merge"],null],[25,"t",["tickets.merge.finalscreen.footer.merge"],null],[25,"t",["tickets.merge.finalscreen.footer.merging"],null],"merge-tickets btn btn--primary","merge-tickets"]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-merge/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-merge/ticket-item/component",["exports","freshdesk/constants/ticket"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({store:Ember.inject.service(),ticketFields:Ember.inject.service(),permissionNotPresent:Ember.computed.none("ticket.permission"),labels:Ember.computed("ticket.type",function(){return Ember.get(this,"ticket.type")===t.default.serviceTaskType?{agent:"tickets.service_task.agent",group:"tickets.service_task.group"}:{agent:"tickets.agent",group:"tickets.group"}}),agentName:Ember.computed("ticket.responderId",function(){var e=Ember.get(this,"ticket.responderId");return e?Ember.get(Ember.get(this,"store").peekRecord("agent",e),"contact.name"):""}),groupName:Ember.computed("ticket.groupId",function(){var e=Ember.get(this,"ticket.groupId");return e?Ember.get(Ember.get(this,"store").peekRecord("group",e),"name"):""}),statusName:Ember.computed("ticket.status",function(){var e=Ember.get(this,"ticket.status");return Ember.get(this,"ticketFields.statusChoices").findBy("value",e).label})})});
define("freshdesk/components/module-tickets/shared/tickets-merge/ticket-item/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"jOUa0iya",block:'{"symbols":[],"statements":[[4,"if",[[25,"or",[[20,["permissionNotPresent"]],[20,["ticket","permission"]]],null]],null,{"statements":[[4,"link-to",["helpdesk.tickets.show",[20,["ticket","id"]]],[["target","class"],["_blank","text--semibold ticket-subject"]],{"statements":[[0,"    "],[6,"span"],[9,"class","text--gray"],[9,"data-test-id","ticket-number"],[7],[0,"#"],[1,[20,["ticket","id"]],false],[8],[0,"\\n    "],[6,"span"],[9,"class","merge-ticket-subject"],[7],[1,[20,["ticket","subject"]],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"  "],[6,"span"],[9,"class","text--gray"],[7],[0,"#"],[1,[20,["ticket","id"]],false],[8],[0,"\\n  "],[6,"span"],[9,"class","text--gray merge-ticket-subject"],[7],[1,[20,["ticket","subject"]],false],[8],[0,"\\n"]],"parameters":[]}],[6,"p"],[9,"class","text__content text__infotext pt-2"],[7],[0,"\\n  "],[6,"div"],[9,"class","text__infotext pb-2"],[7],[0,"\\n    "],[6,"span"],[9,"data-test-id","group-label"],[7],[1,[25,"t",[[20,["labels","group"]]],null],false],[0,": "],[8],[0,"\\n    "],[6,"span"],[9,"data-test-id","group-value"],[9,"class","text--dark hint--rounded hint--bottom"],[10,"aria-label",[18,"groupName"],null],[7],[0,"\\n      "],[1,[25,"truncate",[[25,"fill-default",[[20,["groupName"]]],null],12,true],null],false],[0,"\\n    "],[8],[0,"\\n    "],[1,[25,"svg-jar",["dot"],[["class"],["app-icon app-icon--micro"]]],false],[0,"\\n    "],[6,"span"],[9,"data-test-id","agent-label"],[7],[1,[25,"t",[[20,["labels","agent"]]],null],false],[0,": "],[8],[0,"\\n    "],[6,"span"],[9,"data-test-id","group-value"],[9,"class","text--dark hint--rounded hint--bottom"],[10,"aria-label",[18,"agentName"],null],[7],[0,"\\n      "],[1,[25,"truncate",[[25,"fill-default",[[20,["agentName"]]],null],8,true],null],false],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["showStatus"]]],null,{"statements":[[0,"      "],[1,[25,"svg-jar",["dot"],[["class"],["app-icon app-icon--micro"]]],false],[0,"\\n      "],[1,[25,"t",["tickets.status"],null],false],[0,":\\n      "],[6,"span"],[9,"class","text--dark hint--rounded hint--bottom"],[10,"aria-label",[18,"statusName"],null],[7],[0,"\\n        "],[1,[25,"truncate",[[25,"fill-default",[[20,["statusName"]]],null],10,true],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n  "],[1,[25,"app-components/ticket-currentstate-info",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-merge/ticket-item/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/search/save-recent-search","ember-local-storage","freshdesk/mixins/shortcuts/navigation-list"],function(e,t,r,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(r.default,n.default,{store:Ember.inject.service(),searchValue:null,hideButtons:!1,executionInProgress:!1,showCloseValidationDialog:!1,userDisabledServiceTaskWarning:!1,recentSearchCache:(0,s.storageFor)("scenarios"),searchInProgress:Ember.computed.notEmpty("searchValue"),isScenariosLoaded:Ember.computed.readOnly("scenarios.isFulfilled"),isEmptyFolder:Ember.computed.equal("scenarios.length",0),contentLength:Ember.computed.reads("filteredScenarios.length"),scenarios:Ember.computed(function(){return Ember.get(this,"store").findAll("scenario-automation")}),filteredScenarios:Ember.computed("scenarios.length","searchValue",function(){var e=this,t=Ember.get(this,"scenarios"),r=Ember.get(this,"searchValue");return t.filter(function(t){return e._matchScenario(t,r)})}),isRecentEmpty:Ember.computed(function(){var e=this.getRecent();return Ember.isEmpty(e)}),recentScenarios:Ember.computed("isScenariosLoaded",function(){var e=this.getRecent().toArray();if(Ember.get(this,"isScenariosLoaded")&&e.length>0)return Ember.get(this,"scenarios").filter(function(t){return e.includes(Ember.get(t,"id"))})}),isServiceTaskSelected:Ember.computed("selectedRecords.[]",function(){return Ember.get(this,"selectedRecords")instanceof Array&&!!Ember.get(this,"selectedRecords").find(function(e){return Ember.get(e,"type")==t.default.serviceTaskType})}),showServiceTaskWarning:Ember.computed("isServiceTaskSelected","userDisabledServiceTaskWarning",function(){return Ember.get(this,"isServiceTaskSelected")&&!Ember.get(this,"userDisabledServiceTaskWarning")}),actions:{hideServiceTaskWarning:function(){Ember.set(this,"userDisabledServiceTaskWarning",!0)},executeScenario:function(e){this.send("toggleExecutionState");var t=Ember.get(this,"executeScenario");return this.saveRecent(Ember.get(e,"id")),t(e).then(this._onCloseCB.bind(this)).catch(this._onExecutionError.bind(this))},toggleExecutionState:function(){this.toggleProperty("executionInProgress")}},_onCloseCB:function(e){e&&e.ticketCloseFailed?Ember.set(this,"showCloseValidationDialog",!0):(this.send("toggleExecutionState"),this.onclose())},_onExecutionError:function(){this.send("toggleExecutionState")},_matchScenario:function(e,t){var r=Ember.get(e,"name").toLowerCase();return!t||r.includes(t.toLowerCase())},recentCount:t.default.recentCount.scenarios,minCountForSearch:t.default.minCountForSearch.scenarios})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/empty-folder/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/empty-folder/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"IQw+VERg",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","modal__empty-state"],[7],[0,"\\n  "],[6,"img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/empty-states/execute-scenario-list-4a2366f0bbb1605faacc6877502883c4.svg"],[10,"alt",[25,"t",["scenario.no-data"],null],null],[7],[8],[0,"\\n  "],[6,"div"],[9,"class","text__empty-state--large"],[7],[0,"\\n    "],[1,[25,"t",["scenario.no-data"],null],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","text--semibold mt-6"],[7],[0,"\\n    "],[6,"a"],[10,"href",[25,"generate-url",["scenario_automations/"],null],null],[7],[0,"\\n      "],[6,"span"],[7],[1,[25,"t",["common.create-new"],null],false],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-scenarios/empty-folder/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/scenario-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({isExecuting:!1,classNameBindings:["currentList:current__item--active"],scenarioIcon:Ember.computed("scenario",function(){return Ember.get(this,"scenario.private")?"lock":"globe"})})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/scenario-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"xM8JaUmk",block:'{"symbols":["component","state"],"statements":[[6,"div"],[9,"class","scenarios__item container-fluid"],[9,"data-test-item","execute-scenario-item"],[7],[0,"\\n  "],[6,"div"],[9,"class","col-md-1"],[7],[0,"\\n    "],[1,[25,"svg-jar",[[20,["scenarioIcon"]]],[["class"],["app-icon app-icon--small vertical-align"]]],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","col-md-11 text__content"],[7],[0,"\\n    "],[6,"div"],[9,"class","text__content text--semibold"],[7],[0,"\\n      "],[1,[20,["scenario","name"]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"p"],[9,"class","text__content text--gray"],[7],[0,"\\n      "],[1,[20,["scenario","description"]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","scenarios__item__btn"],[7],[0,"\\n"],[4,"async-button",null,[["action","tagName","class","data-test-button"],[[25,"action",[[19,0,[]],[20,["executeScenario"]],[20,["scenario"]]],null],"div","pull-right","execute-button"]],{"statements":[[4,"if",[[19,2,["isDefault"]]],null,{"statements":[[0,"        "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text scenarios-btn"],[7],[0,"\\n          "],[1,[25,"svg-jar",["admin"],[["class"],["app-icon app-icon--verysmall app-icon--muted-secondary"]]],false],[0,"\\n          "],[6,"span"],[7],[0," "],[1,[25,"t",["fd.execute"],null],false],[0," "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[19,2,["isPending"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","btn btn--transparent text-center"],[7],[0,"\\n          "],[6,"span"],[9,"class","typingloader"],[7],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-scenarios/scenario-item/template.hbs"}})});
define("freshdesk/components/module-tickets/shared/tickets-scenarios/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"8ecReKda",block:'{"symbols":["scenario","scenario"],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n    "],[1,[25,"svg-jar",["execute-scenarios"],[["class"],["modal-icons"]]],false],[0,"\\n    "],[1,[25,"t",["fd.executescenario"],null],false],[0,"\\n"],[4,"unless",[[20,["isEmptyFolder"]]],null,{"statements":[[0,"      "],[6,"a"],[10,"href",[25,"generate-url",["scenario_automations/"],null],null],[9,"rel","noopener"],[9,"target","_blank"],[9,"class","text--small text--semibold"],[7],[0,"\\n        "],[6,"span"],[7],[1,[25,"t",["common.create-new"],null],false],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[10,"class",[26,["modal-content show execute-scenarios ",[25,"if",[[20,["executionInProgress"]],"scenario-executing"],null]]]],[9,"data-test-sidebar","execute-scenario-sidebar"],[7],[0,"\\n"],[4,"if",[[20,["isScenariosLoaded"]]],null,{"statements":[[4,"if",[[20,["isEmptyFolder"]]],null,{"statements":[[0,"      "],[1,[18,"module-tickets/shared/tickets-scenarios/empty-folder"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["showServiceTaskWarning"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"data-test-id","service-task-warning-box"],[9,"class","clearfix warning-box mt-20 mb-4"],[7],[0,"\\n          "],[6,"div"],[9,"class","pull-left warning-box--body"],[7],[0,"\\n            "],[1,[25,"svg-jar",["warning"],[["class"],["app-icon--large vertical-align element-inline"]]],false],[0,"\\n            "],[6,"span"],[9,"class","warning-box--text text--small vertical-align element-inline pl-15 ml-10"],[7],[0,"\\n              "],[1,[25,"t",["tickets.bulkactions.executescenario.warning"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n          "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n            "],[6,"a"],[9,"role","button"],[9,"class","dismiss-button"],[10,"aria-label",[25,"t",["tickets.bulkactions.executescenario.dismiss"],null],null],[10,"onclick",[25,"action",[[19,0,[]],"hideServiceTaskWarning"],null],null],[7],[0,"\\n              "],[1,[25,"t",["tickets.bulkactions.executescenario.dismiss"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"gt",[[20,["scenarios","length"]],[20,["minCountForSearch"]]],null]],null,{"statements":[[0,"        "],[1,[25,"ui-components/search-field",null,[["placeholder","uniqueIdClass","value","data-test-textbox"],["Search Scenarios","scenarios__search",[20,["searchValue"]],"scenario-searchfield"]]],false],[0,"\\n"],[4,"unless",[[25,"or",[[20,["searchInProgress"]],[20,["isRecentEmpty"]]],null]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","search-category"],[7],[0,"\\n            "],[6,"div"],[9,"class","text-sub-title"],[7],[1,[25,"t",["common.recentlabel"],null],false],[8],[0,"\\n"],[4,"each",[[20,["recentScenarios"]]],null,{"statements":[[0,"              "],[1,[25,"module-tickets/shared/tickets-scenarios/scenario-item",null,[["scenario","executeScenario","searchValue"],[[19,2,[]],[25,"action",[[19,0,[]],"executeScenario"],null],[20,["searchValue"]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n      "],[6,"div"],[9,"class","search-category"],[7],[0,"\\n"],[4,"unless",[[20,["searchInProgress"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","text-sub-title"],[7],[1,[25,"t",["scenarios.all"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[20,["filteredScenarios"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/shared/tickets-scenarios/scenario-item",null,[["scenario","executeScenario","searchValue"],[[19,1,[]],[25,"action",[[19,0,[]],"executeScenario"],null],[20,["searchValue"]]]]],false],[0,"\\n"]],"parameters":[1]},{"statements":[[0,"          "],[6,"div"],[9,"class","text__empty-state"],[7],[1,[25,"t",["common.no-search-result"],[["resource"],["scenarios"]]],false],[8],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"    "],[1,[18,"ui-components/module-loading"],false],[0,"\\n"]],"parameters":[]}],[8],[0,"\\n"],[4,"if",[[20,["showCloseValidationDialog"]]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/tickets-list/shared/close-validation",null,[["tickets","totalTickets","assignedStatus","onclose"],[[20,["selectedRecords"]],[20,["totalRecords"]],[20,["assignedStatus"]],[20,["onclose"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/shared/tickets-scenarios/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activities-pagination/component",["exports"],function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({totalCount:null,isLoading:Ember.computed.reads("fetchNextActivity.isRunning"),sortedItems:Ember.computed.sort("activities","sortBy"),showPagination:Ember.computed.gt("remainingCount",0),sortBy:Ember.computed("isReverseOrder",function(){return Ember.get(this,"isReverseOrder")?["_id:desc"]:["_id"]}),remainingCount:Ember.computed("totalCount","activities.[]","items.[]",function(){var t=Ember.get(this,"activities.length"),e=Ember.get(this,"items.length")-Ember.get(this,"activities.length");return Ember.get(this,"totalCount")-t-e}),activities:Ember.computed.filterBy("items","canDisplayInTickets"),activityIds:Ember.computed.mapBy("items","_id"),fetchSince:Ember.observer("ticket.updatedCounter",function(){var t=this,e=this.getSinceId();Ember.get(this,"fetchNextActivity").perform(e).then(function(e){return t._updateCount(e)})}),actions:{nextPage:function(){return this.populateNextPage()}},getBeforeId:function(){return Math.min.apply(Math,e(Ember.get(this,"activityIds")))},getSinceId:function(){return Math.max.apply(Math,e(Ember.get(this,"activityIds")))},_updateCount:function(t){var e=t.activities.length;this.incrementProperty("totalCount",e)},populateNextPage:function(){var t=this.getBeforeId();Ember.get(this,"fetchNextActivity").perform(void 0,t)}})});
define("freshdesk/components/module-tickets/ticket-details/activities-pagination/load-more/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component});
define("freshdesk/components/module-tickets/ticket-details/activities-pagination/load-more/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"L2qVyGbJ",block:'{"symbols":[],"statements":[[4,"if",[[20,["showPagination"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","ticket-details__item--more text--xsmall"],[7],[0,"\\n    "],[6,"button"],[10,"onclick",[18,"nextPage"],null],[9,"data-test-id","activities-load-more"],[9,"class","more-block"],[7],[0,"\\n"],[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"        "],[1,[25,"ui-components/inline-loader",null,[["loaderClass"],["ticket-loading"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"span"],[9,"class","more-count"],[7],[1,[18,"remainingCount"],false],[8],[0,"\\n        "],[6,"span"],[9,"class","text--semibold"],[7],[1,[25,"t",["tickets.view_conversations"],null],false],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activities-pagination/load-more/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activities-pagination/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"U2hxRc1k",block:'{"symbols":["load-more-button","activity"],"statements":[[4,"with",[[25,"component",["module-tickets/ticket-details/activities-pagination/load-more"],[["isLoading","nextPage","remainingCount","showPagination"],[[20,["isLoading"]],[25,"action",[[19,0,[]],"nextPage"],null],[20,["remainingCount"]],[20,["showPagination"]]]]]],null,{"statements":[[0,"\\n"],[4,"unless",[[20,["isReverseOrder"]]],null,{"statements":[[0,"    "],[1,[19,1,[]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n  "],[6,"div"],[9,"data-test-id","activity-container"],[7],[0,"\\n"],[4,"each",[[20,["sortedItems"]]],null,{"statements":[[4,"if",[[19,2,["isNote"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/conversation",null,[["conversation","isInActivity","emailFailureDetails"],[[19,2,["conversation"]],true,[20,["emailFailureDetails"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/activity",null,[["activity","ticketFields"],[[19,2,[]],[20,["ticketFields"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[2]},null],[0,"  "],[8],[0,"\\n\\n"],[4,"if",[[20,["isReverseOrder"]]],null,{"statements":[[0,"    "],[1,[19,1,[]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activities-pagination/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/associated-ticket-actions/component",["exports","freshdesk/constants/activity"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({store:Ember.inject.service(),"data-test-id":"activity-associated",associatedTicketsCount:Ember.computed.reads("actionContent.length"),associatedTicket:Ember.computed("actionContent",function(){var t=Ember.get(this,"actionContent");return Ember.get(this,"store").findRecord("ticket",t,{backgroundReload:!1})}),length:Ember.computed("associatedTicketsCount",function(){return Ember.get(this,"associatedTicketsCount")-1}),actionPerformed:Ember.computed("actionType",function(){var t=Ember.get(this,"actionType");return e.default.associatedTickets.actionPerformed[t]}),parentTitle:Ember.computed("actionType",function(){var t=Ember.get(this,"actionType");return e.default.associatedTickets.parentTitle[t]}),listTitle:Ember.computed("actionType",function(){var t=Ember.get(this,"actionType");return e.default.associatedTickets.listTitle[t]}),actionItem:Ember.computed("actionType",function(){var t=Ember.get(this,"actionType");return e.default.associatedTickets.actionItem[t]})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/associated-ticket-actions/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"jV2lXoN4",block:'{"symbols":["associatedTicketId","index"],"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"single-association"],null]],null,{"statements":[[0,"  "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.association_ticket_actions.",[20,["actionType"]]],null]],null],false],[0,"\\n"],[4,"link-to",["helpdesk.tickets.show",[20,["associatedTicket","id"]]],null,{"statements":[[0,"    "],[1,[20,["associatedTicket","subject"]],false],[0," (#"],[1,[20,["associatedTicket","id"]],false],[0,")\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"parent-reopened"],null]],null,{"statements":[[0,"  "],[1,[25,"t",["tickets.activities.actions.association_ticket_actions.parent_ticket_reopened"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"tracker-unlinked-all"],null]],null,{"statements":[[0,"  "],[1,[25,"t",[[20,["actionPerformed"]]],null],false],[0," "],[1,[18,"actionContent"],false],[0," "],[1,[25,"t",[[20,["listTitle"]]],[["count"],[[20,["actionContent"]]]]],false],[0," "],[1,[25,"t",[[20,["parentTitle"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[1,[25,"t",[[20,["actionPerformed"]]],null],false],[0," "],[1,[18,"associatedTicketsCount"],false],[0,"\\n  "],[1,[25,"t",[[20,["listTitle"]]],[["count"],[[20,["associatedTicketsCount"]]]]],false],[0,"\\n  (\\n"],[4,"each",[[20,["actionContent"]]],null,{"statements":[[4,"link-to",["helpdesk.tickets.show",[19,1,[]]],null,{"statements":[[0,"      #"],[1,[19,1,[]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"not-eq",[[19,2,[]],[20,["length"]]],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","content-seperator"],[7],[0,","],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"  )\\n  "],[1,[25,"t",[[20,["parentTitle"]]],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/associated-ticket-actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/basic-actions/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{deleteStatus:Ember.computed("actionType","actionContent",function(){var e=this.getLabel("status"),t=this.getKeys("status"),a=Ember.get(this,"actionContent"),c=this.dynamicProperties(t,a.current_value),n=a.deleted_value;return Ember.get(this,"i18n").t("tickets.activities.actions.property_delete",{label:e,currentValue:c,deletedValue:n})}),deletedAgent:Ember.computed("actionType","actionContent",function(){var e=Ember.get(this,"actionContent");return this.getRecord("contact",e)}),actionItem:Ember.computed("actionType","actionContent",function(){switch(Ember.get(this,"actionType")){case"add_tag":case"remove_tag":return"tag-actions";case"delete":case"restore":case"spam":case"unspam":case"archive":return"delete-spam-archive";case"execute_scenario":return"execute-scenario";case"add_a_cc":return"add-cc";case"ticket_import":return"ticket-import";case"delete_status":return"delete-status";case"delete_agent":return"delete-agent";case"add_note":return"add-note";case"forward_ticket":return"forward-ticket"}})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/basic-actions/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Pw2xqpbh",block:'{"symbols":[],"statements":[[6,"span"],[10,"data-test-id",[25,"concat",["activity-",[20,["actionItem"]]],null],null],[7],[0,"\\n"],[4,"if",[[25,"eq",[[20,["actionItem"]],"tag-actions"],null]],null,{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.",[20,["actionType"]]],null]],null],false],[0,"\\n    "],[1,[25,"semi-bold",[[25,"concat-with-comma",[[20,["actionContent"]]],null]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"delete-spam-archive"],null]],null,{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.",[20,["actionType"]]],null]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"execute-scenario"],null]],null,{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.",[20,["actionType"]]],null]],null],false],[0,"\\n    "],[1,[25,"semi-bold",[[20,["actionContent","name"]]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"add-cc"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.add_a_cc"],null],false],[0,"\\n    "],[1,[25,"concat-with-comma",[[20,["actionContent"]]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"delete-status"],null]],null,{"statements":[[0,"    "],[1,[25,"html-safe",[[20,["deleteStatus"]]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"delete-agent"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.delete_agent"],null],false],[0,"\\n    "],[1,[25,"app-components/user-link",null,[["user"],[[20,["deletedAgent"]]]]],false],[0,"\\n    "],[1,[25,"t",["tickets.activities.actions.was_deleted"],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"ticket-import"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.ticket_import"],null],false],[0,"\\n    "],[1,[25,"format-time",[[20,["actionContent","imported_at"]],[20,["currentAccount","timeFormat","fullDate"]]],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"add-note"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.conversations.action.private-note"],null],false],[0,"\\n\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"forward-ticket"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.summary.forward_ticket"],null],false],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/basic-actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{ticketFields:Ember.inject.service(),tagName:"",actionType:Ember.computed.reads("action.type"),actionContent:Ember.computed.reads("action.content"),propertyUpdates:Ember.computed("actionContent",function(){var e=Ember.get(this,"actionContent"),t=0;for(var c in e)"custom_fields"!==c&&"invalid_fields"!==c&&t++;return t}),isThankyouContent:Ember.computed("actionContent","isObserverRule",function(){return Ember.isPresent(Ember.get(this,"actionContent.thank_you_note"))&&Ember.get(this,"isObserverRule")}),actionItem:Ember.computed("action",function(){switch(Ember.get(this,"action.type")){case"add_tag":case"remove_tag":case"delete":case"restore":case"spam":case"unspam":case"archive":case"execute_scenario":case"add_a_cc":case"ticket_import":case"delete_agent":case"delete_status":case"add_note":case"forward_ticket":return"basic-actions";case"round_robin":return"round-robin";case"skill_name":return"skill-name";case"add_watcher":return"watcher-actions";case"email_to_group":case"email_to_agent":case"email_to_requester":return"email-to";case"timesheet_create":case"timesheet_delete":case"timesheet_edit":return"timesheet-actions";case"ticket_split_source":case"ticket_split_target":case"ticket_merge_source":case"ticket_merge_target":return"split-merge";case"property_update":return"property-update";case"ticket_linked":case"ticket_unlinked":case"tracker_linked":case"tracker_unlinked":case"tracker_unlink_all":case"child_ticket_linked":case"child_ticket_unlinked":case"parent_ticket_reopened":case"parent_ticket_linked":case"parent_ticket_unlinked":return"associated-ticket-actions"}})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/custom-invalid/component",["exports","freshdesk/mixins/tickets/activities-mixin","freshdesk/utils/time-util"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{moment:Ember.inject.service(),currentAccount:Ember.inject.service(),tagName:"",setString:!0,customInvalid:Ember.computed("actionContent",function(){var e=Ember.get(this,"invalid"),t=e?"invalid_fields":"custom_fields",i=e?Ember.get(this,"actionContent.invalid_fields"):Ember.get(this,"actionContent.custom_fields");return this.getCustomOrInvalidFieldsContent(t,i)}),getCustomOrInvalidFieldsContent:function(e,t){var i=this,n="";if("invalid_fields"===e)t.map(function(e){var t=e.field_name,r=e.value;n+=i.fieldString(t,r)});else for(var r in t){var s=this.getLabel(r),o=t[r];n+=this.fieldString(s,o)}return n=n.replace(/,\s*$/,"")},fieldString:function(e,t){var n=this,r=this.i18nMapping("none"),s=t||r;if("*"===s)return Ember.run.next(function(){Ember.set(n,"setString",!1)}),this.i18nMapping("property_update.custom_field.modified",e);if("boolean"==typeof t){Ember.run.next(function(){Ember.set(n,"setString",!1)});var o=s===r?"deselected":"selected";return this.i18nMapping("property_update.custom_field."+o,e)}var a=i.default.getDateFromString(s,"YYYY-MM-DDTHH:mm:ssZ",!0,Ember.get(this,"moment"));return a&&(s=a.format(Ember.get(this,"currentAccount.timeFormat.fullTimeAt"))),this.i18nMapping("property_update.as",e,s)}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/custom-invalid/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Oijr+SLI",block:'{"symbols":[],"statements":[[6,"li"],[9,"data-test-id","fields-changes"],[7],[0,"\\n"],[4,"if",[[20,["setString"]]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.set"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[1,[25,"html-safe",[[20,["customInvalid"]]],null],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/custom-invalid/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/email-to/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend(e.default,{tagName:"",users:Ember.computed("actionType","actionContent",function(){var t=Ember.get(this,"actionContent"),e=Ember.get(this,"actionType"),n=[],i="email_to_agent"===e?"agent":"contact",r=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;n.push(this.getRecord(i,u))}}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}),length:Ember.computed("users",function(){return Ember.get(this,"users").length-1})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/email-to/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"mOocEjvh",block:'{"symbols":["user","index","user","index"],"statements":[[6,"div"],[10,"data-test-id",[25,"concat",["activity-",[20,["actionType"]]],null],null],[7],[0,"\\n"],[4,"if",[[25,"eq",[[20,["actionType"]],"email_to_group"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.email_to_group"],null],false],[0," "],[1,[18,"actionContent"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["actionType"]],"email_to_agent"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.email_to_agent"],null],false],[0,"\\n"],[4,"each",[[20,["users"]]],null,{"statements":[[0,"      "],[1,[25,"app-components/user-link",null,[["user"],[[19,3,[]]]]],false],[0,"\\n"],[4,"if",[[25,"not-eq",[[19,4,[]],[20,["length"]]],null]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","content-seperator preserve-white-space"],[7],[0,","],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[3,4]},null]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.email_to_requester"],null],false],[0,"\\n"],[4,"each",[[20,["users"]]],null,{"statements":[[0,"      "],[1,[25,"app-components/user-link",null,[["user"],[[19,1,[]]]]],false],[0,"\\n"],[4,"if",[[25,"not-eq",[[19,2,[]],[20,["length"]]],null]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","content-seperator preserve-white-space"],[7],[0,","],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"  "]],"parameters":[]}]],"parameters":[]}],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/email-to/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=["description","subject"];e.default=Ember.Component.extend({store:Ember.inject.service(),ticketFields:Ember.inject.service(),tagName:"span",fieldsforSet:t,length:Ember.computed("content",function(){return Ember.get(this,"content").length-1}),content:Ember.computed("actionContent",function(){var e=[],t=Ember.get(this,"actionContent");Ember.isPresent(t.thank_you_note)&&delete t.thank_you_note;var n=void 0,i=void 0;for(var o in t)if("status"==o&&(n=t[o]),"custom_fields"!==o&&"invalid_fields"!==o){var s=Ember.get(this,"ticketFields.statusChoices"),r=s.findBy("value",n);i="status_label"==o&&r?{key:o,value:r.translatedLabel}:{key:o,value:t[o]},e.push(i)}return e})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/property-update-item/component",["exports","freshdesk/mixins/tickets/activities-mixin","freshdesk/mixins/fetch-user"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,r.default,{moment:Ember.inject.service(),classNameBindings:["defaultClass"],tagName:"p",defaultClass:"property-update",reqResp:Ember.computed("property","value",function(){var e=Ember.get(this,"value");return this.fetchUser(e,{backgroundReload:!1})}),dueBy:Ember.computed("value",function(){var e=Ember.get(this,"value");return Ember.get(this,"moment").moment(e).format(Ember.get(this,"currentAccount.timeFormat.fullTimeAt"))}),typeGroupStatus:Ember.computed("value",function(){var e=Ember.get(this,"value");return e||this.i18nMapping("none")}),sourcePriority:Ember.computed("property","value",function(){var e=Ember.get(this,"property"),t=Ember.get(this,"value"),r=this.getKeys(e);return this.dynamicProperties(r,t)}),internalAgent:Ember.computed("value",function(){var e=Ember.get(this,"value");return e?this.getRecord("agent",e):null})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/property-update-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"cMrux6Bv",block:'{"symbols":[],"statements":[[4,"if",[[25,"or",[[25,"eq",[[20,["property"]],"requester_id"],null],[25,"eq",[[20,["property"]],"responder_id"],null]],null]],null,{"statements":[[4,"if",[[20,["value"]]],null,{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.",[20,["property"]]],null]],null],false],[1,[25,"app-components/user-link",null,[["user"],[[20,["reqResp"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.none.",[20,["property"]]],null]],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["value"]],"*"],null]],null,{"statements":[[0,"  "],[1,[25,"t",["tickets.activities.actions.property_update.edited"],null],false],[0," "],[1,[25,"semi-bold",[[20,["property"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["property"]],"due_by"],null]],null,{"statements":[[0,"  "],[1,[25,"t",["tickets.activities.actions.due_by"],null],false],[0," "],[1,[25,"semi-bold",[[20,["dueBy"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"or",[[25,"eq",[[20,["property"]],"ticket_type"],null],[25,"eq",[[20,["property"]],"group_name"],null],[25,"eq",[[20,["property"]],"status_label"],null]],null]],null,{"statements":[[0,"  "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.",[20,["property"]]],null]],null],false],[0," "],[1,[25,"semi-bold",[[20,["typeGroupStatus"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"or",[[25,"eq",[[20,["property"]],"source"],null],[25,"eq",[[20,["property"]],"priority"],null]],null]],null,{"statements":[[0,"  "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.",[20,["property"]]],null]],null],false],[0," "],[1,[25,"semi-bold",[[20,["sourcePriority"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["property"]],"product_name"],null]],null,{"statements":[[0,"  "],[1,[25,"t",["tickets.activities.actions.property_update.product"],null],false],[0," "],[1,[25,"semi-bold",[[20,["value"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["property"]],"internal_agent_id"],null]],null,{"statements":[[4,"if",[[20,["internalAgent"]]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.property_update.internal_agent_id"],null],false],[0,"\\n    "],[1,[25,"app-components/user-link",null,[["user"],[[20,["internalAgent"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.none.",[20,["property"]]],null]],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["property"]],"internal_group_name"],null]],null,{"statements":[[4,"if",[[20,["value"]]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.property_update.internal_group_name"],null],false],[0," "],[1,[25,"semi-bold",[[20,["value"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",[[25,"concat",["tickets.activities.actions.property_update.none.",[20,["property"]]],null]],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/property-update-item/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"Ym5cLCuM",block:'{"symbols":["action","index"],"statements":[[4,"if",[[20,["content"]]],null,{"statements":[[4,"each",[[20,["content"]]],null,{"statements":[[4,"if",[[25,"and",[[25,"not",[[25,"contains",[[19,1,["key"]],[20,["fieldsforSet"]]],null]],null],[25,"eq",[[19,2,[]],0],null]],null]],null,{"statements":[[0,"      "],[1,[25,"t",["tickets.activities.set"],null],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"not-eq",[[19,1,["key"]],"status"],null]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/ticket-details/activity/actions/property-update/property-update-item",null,[["property","value"],[[19,1,["key"]],[19,1,["value"]]]]],false],[0,"\\n      "],[4,"if",[[25,"not",[[25,"eq",[[19,2,[]],[20,["length"]]],null]],null]],null,{"statements":[[0,","]],"parameters":[]},null],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/property-update/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/round-robin/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{tagName:"span","data-test-id":"activity-round-robin",responder:Ember.computed("actionContent",function(){var e=Ember.get(this,"actionContent");return this.getRecord("agent",e.responder_id)})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/round-robin/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"po6UOV8H",block:'{"symbols":["action","content"],"statements":[[1,[25,"t",["tickets.activities.set"],null],false],[0,"\\n"],[4,"each",[[25,"-each-in",[[20,["actionContent"]]],null]],null,{"statements":[[4,"if",[[25,"eq",[[19,1,[]],"skill_name"],null]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.round_robin.skill"],null],false],[0," "],[1,[25,"semi-bold",[[19,2,[]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.property_update.responder_id"],null],false],[0," "],[1,[25,"app-components/user-link",null,[["user"],[[20,["responder"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1,2]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/round-robin/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/skill-name/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"span","data-test-id":"activity-skill-name"})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/skill-name/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"pBNy6OT3",block:'{"symbols":[],"statements":[[1,[25,"t",["tickets.activities.set"],null],false],[0,"\\n"],[1,[25,"t",["tickets.activities.actions.round_robin.skill"],null],false],[0," "],[1,[25,"semi-bold",[[20,["actionContent"]]],null],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/skill-name/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/split-merge/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend(e.default,{"data-test-id":"activity-ticket-split",length:Ember.computed("splitMergeContent",function(){return Ember.get(this,"splitMergeContent").length-1}),splitMergeContent:Ember.computed("actionContent",function(){var t,e=this,i=Ember.get(this,"actionContent"),n=[];return n.push(i.source_ticket_id||i.target_ticket_id||i.source_ticket_ids),(t=[]).concat.apply(t,n).map(function(t){return e.getRecord("ticket",t)})})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/split-merge/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"NGlwY0vg",block:'{"symbols":["ticket","index"],"statements":[[1,[25,"t",[[25,"concat",["tickets.activities.actions.",[20,["actionType"]]],null]],null],false],[0,"\\n"],[4,"each",[[20,["splitMergeContent"]]],null,{"statements":[[4,"link-to",["helpdesk.tickets.show",[19,1,["id"]]],[["class"],["user"]],{"statements":[[0,"    "],[1,[19,1,["subject"]],false],[0," (#"],[1,[19,1,["id"]],false],[0,")\\n"]],"parameters":[]},null],[0,"  "],[4,"if",[[25,"not-eq",[[19,2,[]],[20,["length"]]],null]],null,{"statements":[[6,"span"],[9,"class","content-seperator"],[7],[0,","],[8]],"parameters":[]},null],[0,"\\n"]],"parameters":[1,2]},null],[4,"if",[[25,"eq",[[20,["actionType"]],"ticket_merge_target"],null]],null,{"statements":[[0,"  "],[1,[25,"t",["tickets.activities.actions.with_ticket"],null],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/split-merge/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"oamXxyuv",block:'{"symbols":[],"statements":[[4,"if",[[25,"eq",[[20,["actionItem"]],"property-update"],null]],null,{"statements":[[4,"if",[[20,["isThankyouContent"]]],null,{"statements":[[0,"    "],[6,"li"],[9,"data-test-id","text-list__item"],[9,"class","text-list__item"],[7],[0,"\\n"],[4,"if",[[20,["actionContent","thank_you_note"]]],null,{"statements":[[0,"        "],[1,[25,"t",["tickets.activities.actions.freddy.thank_you_note"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"t",["tickets.activities.actions.freddy.not.thank_you_note"],null],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["actionContent","custom_fields"]]],null,{"statements":[[0,"    "],[6,"li"],[9,"data-test-id","text-list__item"],[9,"class","text-list__item"],[7],[1,[25,"module-tickets/ticket-details/activity/actions/custom-invalid",null,[["actionContent"],[[20,["actionContent"]]]]],false],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["actionContent","invalid_fields"]]],null,{"statements":[[0,"    "],[6,"li"],[9,"data-test-id","text-list__item"],[9,"class","text-list__item"],[7],[1,[25,"module-tickets/ticket-details/activity/actions/custom-invalid",null,[["actionContent","invalid"],[[20,["actionContent"]],true]]],false],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"gt",[[20,["propertyUpdates"]],0],null]],null,{"statements":[[0,"    "],[6,"li"],[9,"data-test-id","text-list__item"],[9,"class","text-list__item"],[7],[1,[25,"module-tickets/ticket-details/activity/actions/property-update",null,[["actionContent"],[[20,["actionContent"]]]]],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[20,["actionItem"]]],null,{"statements":[[0,"  "],[6,"li"],[9,"data-test-id","text-list__item"],[9,"class","text-list__item"],[7],[0,"\\n    "],[1,[25,"component",[[25,"concat",["module-tickets/ticket-details/activity/actions/",[20,["actionItem"]]],null]],[["actionType","actionContent"],[[20,["action","type"]],[20,["action","content"]]]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/component",["exports","freshdesk/mixins/tickets/activities-mixin","freshdesk/utils/seconds-to-hhmm"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{moment:Ember.inject.service(),tagName:"span","data-test-id":"activity-timesheet",noTimeSpent:!1,timeSheetActions:Ember.computed("actionType","actionContent",function(){var e=Ember.get(this,"actionType"),t=Ember.get(this,"actionContent"),i="timesheet_create"===e&&t.timer_running,n=i?this.i18nMapping("timer_started"):this.i18nMapping("timesheet_created"),s="timesheet_create"===e?n:this.i18nMapping("timesheet_deleted");return this._getTimeSheetString(s,t)}),timeSheetEdit:Ember.computed("actionContent",function(){var e=Ember.get(this,"actionContent");return this._getTimeSheetEditContent(e)}),_getTimeSheetEditContent:function(e){if(e.new_values.hasOwnProperty("timer_running")){var t=e.new_values.timer_running,i=t?this.i18nMapping("timer_started"):this.i18nMapping("timer_stopped");return this._getTimeSheetString(i,e.new_values)}return{oldString:this._getTimeSheetString("",e.old_values),newString:this._getTimeSheetString("",e.new_values)}},_getTimeSheetString:function(e,t){return 0===t.time_spent&&Ember.set(this,"noTimeSpent",!0),{action:e,timeSpent:(0,i.default)(t.time_spent),billableStatus:t.billable?this.i18nMapping("billable"):this.i18nMapping("non_billable"),userRecord:this.getRecord("agent",t.user_id),executedAt:Ember.get(this,"moment").moment(t.executed_at).format(Ember.get(this,"currentAccount.timeFormat.fullDate"))}}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"OhneQbhV",block:'{"symbols":[],"statements":[[4,"if",[[25,"or",[[25,"eq",[[20,["actionType"]],"timesheet_create"],null],[25,"eq",[[20,["actionType"]],"timesheet_delete"],null]],null]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item",null,[["timeSheetValues","noTimeSpent"],[[20,["timeSheetActions"]],[20,["noTimeSpent"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["timeSheetEdit","oldString"]]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.activities.actions.timesheet.edit"],null],false],[0,"\\n    "],[1,[25,"module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item",null,[["timeSheetValues"],[[20,["timeSheetEdit","oldString"]]]]],false],[0,"\\n    "],[1,[25,"t",["tickets.activities.actions.timesheet.edit.to"],null],false],[0,"\\n    "],[1,[25,"module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item",null,[["timeSheetValues"],[[20,["timeSheetEdit","newString"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item",null,[["timeSheetValues"],[[20,["timeSheetEdit"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"span",noTimeSpent:!1,timeSheetString:Ember.computed("noTimeSpent",function(){var e="tickets.activities.actions.timesheet";return Ember.get(this,"noTimeSpent")?e.concat(".noTimeSpent"):e})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"PXbW+Yet",block:'{"symbols":[],"statements":[[1,[25,"t",[[20,["timeSheetString"]]],[["action","timeSpent","billableStatus"],[[20,["timeSheetValues","action"]],[20,["timeSheetValues","timeSpent"]],[20,["timeSheetValues","billableStatus"]]]]],false],[0,"\\n"],[1,[25,"app-components/user-link",null,[["user"],[[20,["timeSheetValues","userRecord"]]]]],false],[0,"\\n"],[1,[25,"t",["tickets.activities.actions.timesheet.on"],null],false],[0,"\\n"],[1,[20,["timeSheetValues","executedAt"]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/timesheet-actions/timesheet-item/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/watcher-actions/component",["exports","freshdesk/mixins/tickets/activities-mixin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{tagName:"",userRecords:Ember.computed("actionContent",function(){var e=this,t=Ember.get(this,"actionContent"),n=t.user_ids,i=new Array;return n.map(function(t){i.push(e.getRecord("agent",t))}),i})})});
define("freshdesk/components/module-tickets/ticket-details/activity/actions/watcher-actions/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"SPBiG6ZK",block:'{"symbols":["user"],"statements":[[6,"span"],[10,"data-test-id",[25,"concat",["activity-",[20,["actionType"]]],null],null],[7],[0,"\\n"],[4,"each",[[20,["userRecords"]]],null,{"statements":[[4,"if",[[20,["actionContent","add_watcher"]]],null,{"statements":[[0,"      "],[1,[25,"t",["tickets.activities.actions.add_watcher"],null],false],[0," "],[1,[25,"app-components/user-link",null,[["user"],[[19,1,[]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"t",["tickets.activities.actions.remove_watcher"],null],false],[0," "],[1,[25,"app-components/user-link",null,[["user"],[[19,1,[]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/actions/watcher-actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/activity/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=["new_ticket","other_update","edit_ticket","ticket_merge_source"],i=["observer","business","supervisor","round_robin"];e.default=Ember.Component.extend({ticketFields:Ember.inject.service(),classNameBindings:["defaultClass","performedByRequester:activity--requestor","performedBySystem:activity--system"],defaultClass:"ticket-details__item ticket-details__item__activity",attributeBindings:["data-test-activity-id"],"data-test-activity-id":Ember.computed.readOnly("activity.id"),highlightType:Ember.computed.reads("activity.highlightType"),performedByRequester:Ember.computed.reads("activity.performedByRequester"),performedBySystem:Ember.computed.reads("activity.performerIsSystem"),isObserverRule:Ember.computed.equal("activity.performer.system.type","observer"),showHighlight:Ember.computed("highlightType",function(){return!t.includes(Ember.get(this,"highlightType"))}),systemRuleInfo:Ember.computed("activity.performer.system",function(){var e=Ember.get(this,"activity.performer.system.type");return i.includes(e)}),systemRuleType:Ember.computed("activity.performer.system",function(){return Ember.get(this,"currentAccount").launched("automation_revamp")?"automation":Ember.get(this,"activity.performer.system.type")})})});
define("freshdesk/components/module-tickets/ticket-details/activity/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"SC4rNjgo",block:'{"symbols":["action"],"statements":[[6,"div"],[9,"class","ticket-details__item__header conversation-header"],[7],[0,"\\n  "],[6,"div"],[9,"data-test-id","one-userpic"],[9,"class","tkt-details-avatar profilepic profilepic--medium profilepic--circle profilepic--inline"],[7],[0,"\\n"],[4,"if",[[20,["performedBySystem"]]],null,{"statements":[[0,"      "],[6,"figure"],[9,"class","ticket-source-icon-wrap ticket-source-activity"],[7],[0,"\\n        "],[1,[25,"svg-jar",["system-activities"],[["class"],["system-icon app-icon--white"]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"app-components/avatar-user",null,[["user","size"],[[20,["activity","user"]],"large"]]],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n  "],[6,"div"],[9,"class","ml-12"],[7],[0,"\\n    "],[6,"div"],[9,"data-test-activity-performer-info",""],[9,"class","text__content sender-info element-inline"],[7],[0,"\\n"],[4,"if",[[20,["performedBySystem"]]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","text--semibold"],[9,"data-test-id","system-activity"],[7],[0,"\\n          "],[1,[25,"t",["tickets.activities.system"],null],false],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[20,["systemRuleInfo"]]],null,{"statements":[[4,"if",[[25,"eq",[[20,["activity","performer","system","type"]],"round_robin"],null]],null,{"statements":[[0,"            "],[6,"span"],[9,"class","text__infotext"],[9,"data-test-id","activity-round-robin"],[7],[0,"\\n              "],[1,[25,"t",["tickets.activities.system.rules.round_robin"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"span"],[9,"class","text__infotext"],[9,"data-test-id","activity-all"],[7],[0,"\\n              "],[1,[25,"t",["tickets.activities.execute"],null],false],[0,"\\n              "],[6,"span"],[10,"aria-label",[20,["activity","performer","system","name"]],null],[9,"data-test-id","rule-type"],[9,"class","hint--rounded hint--top"],[7],[0,"\\n                "],[1,[25,"t",[[25,"concat",["tickets.activities.system.rules.",[20,["systemRuleType"]]],null]],null],false],[0,"\\n              "],[8],[0,"\\n              "],[1,[25,"t",["tickets.activities.rule"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"app-components/contact-popover",null,[["user"],[[20,["activity","user"]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n    "],[6,"span"],[9,"class","text--default text--dark"],[9,"data-test-id","performed-at"],[7],[0,"\\n      , "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["activity","performedAt"]]]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","ticket-details__item__content clearfix"],[7],[0,"\\n  "],[6,"div"],[9,"class","text-content-wrapper"],[7],[0,"\\n    "],[6,"div"],[9,"class","col-md-8 text__content"],[9,"data-test-activity-item",""],[7],[0,"\\n      "],[6,"ul"],[9,"class","activity-details text-list"],[9,"data-test-activity-desc",""],[9,"data-test-id","list-of-actions"],[7],[0,"\\n"],[4,"if",[[20,["activity","showNewTicketString"]]],null,{"statements":[[0,"          "],[6,"li"],[9,"data-test-id","new-ticket-info"],[9,"data-test-activity-desc",""],[9,"class","text-list__item"],[7],[0,"\\n            "],[1,[25,"t",["tickets.activities.actions.new_ticket"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[20,["activity","actions"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/activity/actions",null,[["isObserverRule","action"],[[20,["isObserverRule"]],[19,1,[]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","col-md-4 text__content"],[7],[0,"\\n"],[4,"if",[[20,["showHighlight"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","btn btn--capsule pull-right"],[9,"data-test-id","highlight-text"],[9,"data-test-activity-type",""],[7],[0,"\\n          "],[1,[25,"t",[[25,"concat",["tickets.activities.summary.",[20,["highlightType"]]],null]],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/activity/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/add-child/component",["exports","ember-concurrency","freshdesk/utils/blank-array","freshdesk/constants/ticket"],function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="/api/_/ticket_templates";e.default=Ember.Component.extend({store:Ember.inject.service(),ajax:Ember.inject.service(),i18n:Ember.inject.service(),flashMessages:Ember.inject.service(),classNames:["__module-tickets__ticket-details__add-child"],isFirstScreen:!0,isSelected:!0,selectedParentTemplate:null,templateAvailable:!0,isLoading:Ember.computed.not("getParentTemplates.isIdle"),isChildLoading:Ember.computed.not("getChildTemplates.isIdle"),parentTemplates:(0,s.default)(),childTemplates:(0,s.default)(),selectedChildIds:(0,s.default)(),selectedChildsCount:Ember.computed.reads("selectedChilds.length"),recentTemplates:Ember.computed("parentTemplates",function(){var e=Ember.get(this,"recentTemplatesIds"),t=Ember.get(this,"parentTemplates"),s=[],i=[];return e.forEach(function(e){var r=t.findBy("id",e);r&&(i.push(r.id),s.push(r))}),this.resetRecentCache(i),s}),allowedChildsCount:Ember.computed("ticket.associatedTicketsCount",function(){var e=Ember.get(this,"ticket.associatedTicketsCount");return i.MAX_CHILD_COUNT-e}),selectedChilds:Ember.computed("childTemplates.@each.{isSelected}",function(){return Ember.get(this,"childTemplates").filterBy("isSelected",!0)}),selectedChildsIds:Ember.computed.map("selectedChilds",function(e){return e.id}),canSelectMoreChilds:Ember.computed("selectedChildsCount","allowedChildsCount",function(){return Ember.get(this,"selectedChildsCount")<Ember.get(this,"allowedChildsCount")}),recentTemplatesIds:Ember.computed("selectedParentTemplate",function(){return this.localcache?this.localcache.getFromCache("recent_parent_templates")||[]:[]}),init:function(){this._super.apply(this,arguments),this.sendAction("modalLoaded"),Ember.get(this,"getParentTemplates").perform()},actions:{showChildTemplates:function(e){this.toggleProperty("isFirstScreen"),Ember.set(this,"selectedParentTemplate",e),Ember.get(this,"getChildTemplates").perform(e.id)},back:function(){this.reloadTemplateList()},create:function(){var e=this,t=Ember.get(this,"ticket"),s={parent_template_id:Ember.get(this,"selectedParentTemplate.id"),child_template_ids:Ember.get(this,"selectedChildsIds")};t.createChildWithTemplate(s).then(function(){return e._handleBulkCreateResponse()})},changeChildSelection:function(){var e=this,t=Ember.get(this,"childTemplates").map(function(t){return Ember.get(e,"canSelectMoreChilds")?Ember.set(t,"canSelect",!0):Ember.get(t,"isSelected")||Ember.set(t,"canSelect",!1),t});Ember.set(this,"childTemplates",t)}},_saveAsRecentTemplate:function(){var e=this.localcache.getFromCache("recent_parent_templates")||[],t=Ember.get(this,"selectedParentTemplate.id");e=e.filter(function(e){return e!==t}),e.length<i.MAX_CHILD_COUNT?e.unshift(t):(e.pop(),e.unshift(t)),this.localcache&&this.localcache.addToCache("recent_parent_templates",e)},getParentTemplates:(0,t.task)(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={filter:"accessible",type:"only_parent"},e.next=3,Ember.get(this,"ajax").request(""+r,{method:"GET",data:t});case 3:s=e.sent,Ember.set(this,"parentTemplates",s.ticket_templates);case 5:case"end":return e.stop()}},e,this)})).restartable(),getChildTemplates:(0,t.task)(regeneratorRuntime.mark(function e(t){var s,i,a,c,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={type:"only_parent"},e.prev=1,e.next=4,Ember.get(this,"ajax").request(r+"/"+t,{method:"GET",data:s});case 4:i=e.sent,a=Ember.get(this,"allowedChildsCount"),c=1,n=i.ticket_template.child_templates.map(function(e){return c<=a?Ember.setProperties(e,{isSelected:!0,canSelect:!0}):Ember.setProperties(e,{isSelected:!1,canSelect:!1}),c++,e}),Ember.set(this,"childTemplates",n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),this._failure();case 14:case"end":return e.stop()}},e,this,[[1,11]])})).restartable(),_handleBulkCreateResponse:function(){this._saveAsRecentTemplate(),this.updateTicketProperties(),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("tickets.ticket_associations.child.add_using_templates.success")),this.sendAction("close")},updateTicketProperties:function(){var e=Ember.get(this,"ticket"),t={ticket:{id:Ember.get(e,"id"),association_type:1,associated_tickets_count:Ember.get(e,"associatedTicketsCount")+Ember.get(this,"selectedChilds.length")}};Ember.get(this,"store").pushPayload(t)},reloadTemplateList:function(){Ember.set(this,"selectedParentTemplate",null),Ember.get(this,"getParentTemplates").perform(),this.toggleProperty("isFirstScreen")},_failure:function(){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.ticket_associations.template_list.error")),this.reloadTemplateList()},resetRecentCache:function(e){this.localcache&&this.localcache.addToCache("recent_parent_templates",e)}})});
define("freshdesk/components/module-tickets/ticket-details/add-child/template-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"ul",classNameBindings:["testId"],attributeBindings:["data-test-id","title"],title:Ember.computed.reads("testId"),"data-test-id":Ember.computed.reads("testId")})});
define("freshdesk/components/module-tickets/ticket-details/add-child/template-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"WIUBnhyS",block:'{"symbols":["template"],"statements":[[4,"each",[[20,["templateList"]]],null,{"statements":[[0,"  "],[6,"li"],[7],[0,"\\n    "],[1,[25,"svg-jar",["parent"],[["class"],["app-icon app-icon--medium pull-left"]]],false],[0,"\\n"],[4,"if",[[20,["showChildTemplates"]]],null,{"statements":[[0,"      "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["showChildTemplates"]],[19,1,[]]],null],null],[9,"class","text--small ticket-subject text--antialias"],[7],[1,[19,1,["name"]],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/add-child/template-item/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/add-child/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"RPgBmCiG",block:'{"symbols":["template","index","template"],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n    "],[1,[25,"svg-jar",["add-child"],[["class"],["modal-icons"]]],false],[0,"\\n    "],[6,"span"],[9,"class","ml-10"],[7],[1,[25,"t",["tickets.ticket_associations.child.add_using_templates"],null],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"span"],[9,"class","text--xsmall text--info inactive subtext"],[7],[1,[25,"t",["tickets.ticket_associations.child.add_using_templates.info_line"],null],false],[8],[0,"\\n"],[8],[0,"\\n\\n"],[4,"if",[[20,["isFirstScreen"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","parent-template-list-container"],[7],[0,"\\n"],[4,"ui-form/select-field",null,[["selected","onchange","searchField","multiple","options","allowCreate","placeholder"],[[20,["selectedParentTemplate"]],[25,"action",[[19,0,[]],"showChildTemplates"],null],"name",false,[20,["parentTemplates"]],false,[25,"t",["tickets.ticket_associations.template_list.filter.placeholder"],null]]],{"statements":[[0,"      "],[1,[25,"svg-jar",["parent"],[["class"],["app-icon app-icon--small pull-left mt-1 mr-10"]]],false],[0,"\\n      "],[6,"span"],[7],[0,"\\n        "],[1,[19,3,["name"]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"\\n"],[4,"if",[[25,"gt",[[20,["recentTemplates","length"]],0],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","recently-used-templates"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/add-child/template-item",null,[["templateList","title","testId","showChildTemplates"],[[20,["recentTemplates"]],[25,"t",["common.recentlabel"],null],"recently-used",[25,"action",[[19,0,[]],"showChildTemplates"],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n    "],[6,"div"],[9,"class","recently-used-templates"],[7],[0,"\\n"],[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"        "],[1,[18,"ui-components/part-loading"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/add-child/template-item",null,[["templateList","testId","title","showChildTemplates"],[[20,["parentTemplates"]],"all-templates",[25,"t",["tickets.ticket_associations.template_list.all_templates"],null],[25,"action",[[19,0,[]],"showChildTemplates"],null]]]],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[9,"class","child-templates-list"],[7],[0,"\\n    "],[6,"div"],[9,"class","text__infotext modal_subtext pt-20 pb-20"],[7],[0,"\\n      "],[6,"button"],[9,"type","button"],[9,"class","template-back"],[3,"action",[[19,0,[]],"back"]],[7],[0,"\\n        "],[1,[25,"svg-jar",["back"],[["class"],["modal-icons app-icon--small app-icon--dark pull-left mr-2"]]],false],[0,"\\n        "],[1,[25,"t",["common.back"],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"ul"],[7],[0,"\\n      "],[6,"li"],[9,"class","parent-title"],[7],[0,"\\n        "],[1,[25,"svg-jar",["parent"],[["class"],["app-icon app-icon--medium pull-left"]]],false],[0,"\\n        "],[6,"span"],[9,"class","text--small template-title"],[7],[1,[20,["selectedParentTemplate","name"]],false],[8],[0,"\\n\\n        "],[6,"ul"],[9,"class","child-list"],[7],[0,"\\n"],[4,"if",[[20,["isChildLoading"]]],null,{"statements":[[0,"            "],[1,[18,"ui-components/part-loading"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"each",[[20,["childTemplates"]]],null,{"statements":[[0,"              "],[6,"li"],[7],[0,"\\n                "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","value","disabled","onchange"],[[25,"concat",[[19,1,["name"]],[19,2,[]],[19,1,["id"]]],null],[19,1,["isSelected"]],[25,"not",[[19,1,["canSelect"]]],null],[25,"action",[[19,0,[]],"changeChildSelection"],null]]]],false],[0,"\\n                "],[6,"span"],[10,"class",[26,["text--small text--dark ",[25,"if",[[19,1,["isSelected"]],"","unchecked"],null]]]],[7],[1,[19,1,["name"]],false],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[1,2]},null]],"parameters":[]}],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","modal-footer form_submission second-footer"],[7],[0,"\\n    "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[3,"action",[[19,0,[]],"back"]],[7],[0,"\\n      "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n    "],[8],[0,"\\n    "],[1,[25,"async-button",null,[["action","default","disableWhen","class"],[[25,"action",[[19,0,[]],"create"],null],[25,"t",["async.button.submit.tracker"],null],[25,"not",[[20,["selectedChildsCount"]]],null],"btn btn--primary"]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/add-child/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/add-time/component",["exports","ember-cp-validations","freshdesk/utils/time-util","freshdesk/mixins/tickets/time-entry","freshdesk/mixins/integrations/time-apps"],function(e,t,i,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["setValue_timerAgentId","setValue_timerSetTime","setValue_timerBillable","setValue_timerExecuteAt","setValue_timerNote"];e.default=Ember.Component.extend(r.default,s.default,{eventSources:Ember.inject.service(),moment:Ember.inject.service(),store:Ember.inject.service(),marketplace:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),timeEntryValidations:Ember.computed("timeEntry.isNew","executedToday",function(){return(0,t.buildValidations)({timeSpentDisp:[(0,t.validator)("presence",{presence:Ember.computed("model.{executedAt,timeSpentDisp}",function(){var e=i.default.isToday(Ember.get(this,"model.executedAt"),Ember.get(this,"model.moment"));return Boolean(Ember.get(this,"model.timeSpentDisp"))||!(Ember.get(this,"model.isNew")&&e)})}),(0,t.validator)("hours-minutes",{isZeroAllowed:!0,invalidMessage:Ember.get(this,"i18n").t("timeentry.invalidMessage"),zeroMessage:Ember.get(this,"i18n").t("timeentry.zeroMessage")})]})}),executedToday:Ember.computed("timeEntry.executedAt",function(){return i.default.isToday(Ember.get(this,"timeEntry.executedAt"),Ember.get(this,"moment"))}),hintText:Ember.computed("timeEntry.timeSpentDisp","executedToday",function(){return Ember.get(this,"timeEntry.isNew")?Ember.get(this,"timeEntry.timeSpentDisp")||!Ember.get(this,"executedToday")?(Ember.set(this,"saveText",Ember.get(this,"i18n").t("timeentry.save")),Ember.get(this,"i18n").t("ticket.details.timeentry.decimal.hint")):(Ember.set(this,"saveText",Ember.get(this,"i18n").t("timeentry.starttimer")),Ember.get(this,"i18n").t("ticket.details.timeentry.autotimer")):(Ember.set(this,"saveText",Ember.get(this,"i18n").t("timeentry.update")),Ember.get(this,"i18n").t("ticket.details.timeentry.decimal.hint"))}),agents:Ember.computed(function(){return Ember.get(this,"store").peekAll("agent")}),didInsertElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").registerControls("timeEntryInterface")},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").deregisterControls("timeEntryInterface");for(var e=0;e<n.length;e++)Ember.get(this,"marketplace").off(n[e]);Ember.set(this,"timerAppActivated",!0)},init:function(){this._super.apply(this,arguments),this.initializeTimeEntry();for(var e=0;e<n.length;e++)Ember.get(this,"marketplace").on(n[e],this.setTimeValue.bind(this))},actions:{registerTimeEntryHook:function(e){Ember.get(this,"timeEntryHooks").push(e)},cancel:function(){Ember.get(this,"timeEntry").rollbackAttributes(),this.sendAction("onClose")},save:function(){Ember.get(this,"timeEntry.isNew")?this.saveTimeEntry(Ember.get(this,"timeEntry")):this.updateTimeEntry(Ember.get(this,"timeEntry"))},onTimeSpentChange:function(e){Ember.set(this,"timeEntry.timeSpentDisp",e)}},updateTimeEntry:function(e){var t=this,i=Ember.get(e,"timeSpentDisp");Ember.set(e,"timeSpent",this.getTimeSpentFromString(i));var r=function(){Ember.get(t,"timeEntryHooks").forEach(function(t){t(e)}),t.flashMessages.success(Ember.get(t,"i18n").t("timeentry.update.success")),t.sendAction("onClose")};Ember.get(e,"hasDirtyAttributes")?e.save().then(r,function(){Ember.set(e,"agentId",""+Ember.get(e,"agentId")),t.flashMessages.danger(Ember.get(t,"i18n").t("timeentry.failure"))}):r();var s=Ember.get(this,"eventSources").getModelHash(e);Ember.get(this,"marketplace").publishEvent({event:"ticket.updateTimer",data:s})}})});
define("freshdesk/components/module-tickets/ticket-details/add-time/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"LFaGXHsw",block:'{"symbols":["f","app"],"statements":[[1,[25,"marketplace-list",null,[["mkpPlaceholder","context","pageType"],["time_entry_background",[20,["ticket","id"]],"ticket"]]],false],[0,"\\n"],[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[1,[25,"svg-jar",["add-timer"],[["class"],["modal-icons"]]],false],[0," "],[1,[25,"if",[[20,["timeEntry","isNew"]],[25,"t",["timer.add-time"],null],[25,"t",["timer.edit-time"],null]],null],false],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","modal-content show"],[7],[0,"\\n"],[4,"ui-form/form-for",[[20,["timeEntry"]],[20,["timeEntryValidations"]]],[["submit"],[[25,"action",[[19,0,[]],"save"],null]]],{"statements":[[0,"    "],[6,"div"],[9,"class","add-time"],[7],[0,"\\n"],[4,"unless",[[20,["mkpInterface","controlData","timerAgentId","hide"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[19,1,["select-field"]],"agentId"],[["placeholder","label","hideDefaultOption","options","optionLabelPath","optionValuePath","disabled"],[[25,"t",["fd.agent"],null],[25,"t",["fd.agent"],null],true,[20,["agents"]],"name","id",[20,["mkpInterface","controlData","timerAgentId","disable"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["mkpInterface","controlData","timerSetTime","hide"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[19,1,["text-field"]],"timeSpentDisp"],[["oninput","label","isRequired","hint","disabled","autofocus"],[[25,"action",[[19,0,[]],"onTimeSpentChange"],null],"HH:MM",[25,"not",[[20,["executedToday"]]],null],[20,["hintText"]],[20,["mkpInterface","controlData","timerSetTime","disable"]],true]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["mkpInterface","controlData","timerBillable","hide"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[19,1,["checkbox-field"]],"billable"],[["label","disabled"],[[25,"t",["timer.billable"],null],[20,["mkpInterface","controlData","timerBillable","disable"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["mkpInterface","controlData","timerExecuteAt","hide"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[19,1,["date-field"]],"executedAt"],[["label","format","disabled"],[[25,"t",["fd.on"],null],[20,["currentAccount","timeFormat","date"]],[20,["mkpInterface","controlData","timerExecuteAt","disable"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[20,["mkpInterface","controlData","timerNote","hide"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[19,1,["textarea-field"]],"note"],[["autoresize","max-rows","label","disabled","resetTimeNote"],[true,15,[25,"t",["fd.note"],null],[20,["mkpInterface","controlData","timerNote","disable"]],[20,["resetTimeNote"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[20,["apps"]]],null,{"statements":[[0,"        "],[1,[25,"component",[[25,"concat",["integration-apps/",[19,2,["name"]]],null]],[["app","timeEntry","ticket","isEdit","registerHook"],[[19,2,[]],[20,["timeEntry"]],[20,["ticket"]],[25,"not",[[20,["timeEntry","isNew"]]],null],[25,"action",[[19,0,[]],"registerTimeEntryHook"],null]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"\\n      "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n        "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"data-test-addTime","cancel"],[9,"class","btn btn--secondary"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n          "],[1,[25,"t",["common.cancel"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","pull-right"],[9,"data-test-addTime","save"],[7],[0,"\\n          "],[1,[25,"component",[[19,1,["submit"]]],[["default"],[[20,["saveText"]]]]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[1]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/add-time/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/add-watcher/component",["exports","freshdesk/utils/blank-array","freshdesk/mixins/shortcuts/ticket-details/add-watcher"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(r.default,{store:Ember.inject.service(),shortcutsTooltip:Ember.inject.service(),currentAccount:Ember.inject.service(),currentUser:Ember.inject.service(),tagName:"",truncateLimit:20,scenarioWatchers:!1,currentWatchers:(0,t.default)(),nonWatcherAgents:Ember.computed.setDiff("agentListIds","currentWatchers"),watcherCount:Ember.computed.reads("currentWatchers.length"),userID:Ember.computed(function(){return Ember.get(this.currentUser,"id").toString()}),allAgents:Ember.computed(function(){return Ember.get(this,"store").peekAll("agent")}),agentListIds:Ember.computed.map("allAgents",function(e){return parseInt(Ember.get(e,"id"))}),agentsWatching:Ember.computed("currentWatchers.[]",{get:function(){var e=Ember.get(this,"allAgents"),t=Ember.get(this,"currentWatchers"),r=Ember.get(this,"agentListIds");return t.map(function(t){var n=r.indexOf(t);return e.objectAt(n)})}}),searchAbleAgents:Ember.computed("nonWatcherAgents.[]",function(){var e=Ember.get(this,"allAgents"),t=Ember.get(this,"agentListIds");return Ember.get(this,"nonWatcherAgents").map(function(r){var n=t.indexOf(r);return{id:r,name:Ember.get(Ember.get(e.objectAt(n),"contact"),"name")}})}),isCurrentAgentWatching:Ember.computed("currentWatchers.[]",function(){var e=Ember.get(this.currentUser,"id");return Ember.get(this,"currentWatchers").includes(e)}),didUpdateAttrs:function(){var e=this;this._super.apply(this,arguments),Ember.run.later(function(){Ember.get(e,"currentWatchers")&&Ember.set(e,"currentWatchers",[])})},didReceiveAttrs:function(){var e=this;this._super.apply(this,arguments),Ember.run.later(this,function(){e.getCurrentWatchers()},800)},actions:{dummyAction:function(){return!1},removeWatcher:function(){this.unWatch()},addAgent:function(){this.addNewWatcher({id:Ember.get(this.currentUser,"id")})},onChange:function(e){this.addNewWatcher(e)},toggleWatcher:function(){Ember.get(this,"isCurrentAgentWatching")?this.unWatch():this.send("addAgent")}},getCurrentWatchers:function(){Ember.get(this,"ticket").watchers().then(this._getCurrentWatchersCB.bind(this))},_getCurrentWatchersCB:function(e){this.isDestroyed||this.isDestroying||Ember.set(this,"currentWatchers",e.data.watcher_ids)},addNewWatcher:function(e){var t=Ember.get(this,"ticket"),r=Number(e.id);Ember.$(".dropdown-addwatcher .m-spinner-holder").fadeIn(),t.addWatcher({user_id:r}).then(this._addNewWatcherCB.bind(this,r))},_addNewWatcherCB:function(e){var t=Ember.get(this,"currentWatchers");t.pushObject(e),Ember.set(this,"currentWatchers",t),Ember.$(".dropdown-addwatcher .m-spinner-holder").fadeOut()},unWatch:function(){Ember.$(".dropdown-addwatcher .m-spinner-holder").fadeIn(),Ember.get(this,"ticket").unWatch().then(this._unWatchCB.bind(this))},_unWatchCB:function(){var e=Ember.get(this,"currentWatchers"),t=Ember.get(this.currentUser,"id"),r=e.indexOf(t);e.removeAt(r),Ember.set(this,"currentWatchers",e),Ember.$(".dropdown-addwatcher .m-spinner-holder").fadeOut()}})});
define("freshdesk/components/module-tickets/ticket-details/add-watcher/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"tcBiJ2Bp",block:'{"symbols":["dropdown","watcher","option"],"statements":[[6,"div"],[9,"class","addwatcher dropdown app-dropdown-group"],[7],[0,"\\n"],[4,"basic-dropdown",null,[["renderInPlace"],[true]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["onFocus"],[[25,"action",[[19,0,[]],[19,1,["actions","open"]]],null]]],{"statements":[[0,"      "],[6,"button"],[9,"data-test-actions","watcher"],[10,"aria-label",[20,["shortcutsTooltip","ticketDetail","watcher"]],null],[10,"class",[26,["dropdown-toggle hint--rounded hint--top app-icon-btn watcher-icon ",[25,"if",[[20,["isCurrentAgentWatching"]],"agent-added","agent-removed"],null]," "]]],[7],[0,"\\n        "],[1,[25,"svg-jar",["watcher"],[["class"],["app-icon"]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"      "],[6,"ul"],[9,"class","dropdown-menu dropdown-addwatcher"],[9,"aria-labelledby","dropdownMenu1"],[3,"action",[[19,0,[]],"dummyAction"],[["bubbles"],[false]]],[7],[0,"\\n        "],[6,"li"],[9,"class","dropdown-addwatcher__watcherlist"],[7],[0,"\\n          "],[6,"div"],[9,"class","text--semibold"],[7],[0,"\\n            "],[6,"span"],[7],[0,"\\n              "],[1,[25,"t",["ticket.watchers"],null],false],[0,"\\n"],[4,"if",[[20,["watcherCount"]]],null,{"statements":[[0,"                ("],[1,[18,"watcherCount"],false],[0,")\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"],[4,"unless",[[20,["isCurrentAgentWatching"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","addwatcher__addme text__link text--xsmall text__infotext"],[3,"action",[[19,0,[]],"addAgent"]],[7],[1,[25,"t",["ticket.addme"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[8],[0,"\\n          "],[6,"div"],[9,"class","text--info dropdown-addwatcher_info"],[7],[1,[25,"t",["tickets.add_watcher_info"],null],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"li"],[9,"class","dropdown-addwatcher__watcherlist input has-content watcher-selectlist"],[7],[0,"\\n"],[4,"ui-form/select-field",null,[["onchange","searchField","options","value","placeholder","multiple"],[[25,"action",[[19,0,[]],"onChange"],null],"name",[20,["searchAbleAgents"]],[20,["agentValue"]],"Search",false]],{"statements":[[0,"            "],[6,"span"],[9,"class","removewatcher watcherlist cursor-pointer"],[7],[1,[25,"svg-jar",["add"],[["class"],["app-icon app-icon--smallsecondary vertical-align"]]],false],[8],[0,"\\n            "],[6,"span"],[9,"class","watcherlist ml-5"],[7],[0,"\\n              "],[1,[25,"app-components/avatar-user",null,[["user","class"],[[19,3,[]],"app-user-photo--small"]]],false],[0,"\\n            "],[8],[0,"\\n"],[4,"if",[[25,"eq",[[20,["agentInfo","id"]],[19,3,["id"]]],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","watcherlist watcher-name"],[7],[0,"("],[1,[25,"t",["tickets.filter.agent.me"],null],false],[0,") "],[1,[25,"html-safe",[[25,"truncate",[[25,"html-escape",[[19,3,["name"]]],null],[20,["truncateLimit"]],true,true,"hint--top hint--medium"],null]],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"span"],[9,"class","watcherlist watcher-name"],[7],[1,[25,"html-safe",[[25,"truncate",[[25,"html-escape",[[19,3,["name"]]],null],[20,["truncateLimit"]],true,true,"hint--top hint--medium"],null]],null],false],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[3]},null],[0,"        "],[8],[0,"\\n        "],[6,"div"],[9,"class","existing-watchers"],[7],[0,"\\n"],[4,"each",[[20,["agentsWatching"]]],null,{"statements":[[4,"if",[[25,"eq",[[19,2,["id"]],[20,["userID"]]],null]],null,{"statements":[[0,"              "],[6,"li"],[9,"class","dropdown-addwatcher__watcherlist"],[7],[0,"\\n                "],[6,"span"],[10,"aria-label",[25,"t",["tickets.unwatch"],null],null],[9,"class","removewatcher hint--rounded hint--right cursor-pointer"],[3,"action",[[19,0,[]],"removeWatcher"]],[7],[0,"\\n                  "],[1,[25,"svg-jar",["remove"],[["class"],["app-icon app-icon--normal"]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[7],[0,"\\n                  "],[1,[25,"app-components/avatar-user",null,[["user","size"],[[19,2,["contact"]],"medium"]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[9,"class","watchername"],[7],[1,[25,"t",["tickets.filter.agent.me"],null],false],[0," ("],[1,[25,"html-safe",[[25,"truncate",[[25,"html-escape",[[19,2,["contact","name"]]],null],[20,["truncateLimit"]],true,true,"hint--top hint--medium"],null]],null],false],[0,")"],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"li"],[9,"class","dropdown-addwatcher__watcherlist"],[7],[0,"\\n                "],[6,"span"],[9,"class","removewatcher removewatcher-hidden"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["remove"],[["class"],["app-icon app-icon--normal"]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[7],[0,"\\n                  "],[1,[25,"app-components/avatar-user",null,[["user","size"],[[19,2,["contact"]],"medium"]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[9,"class","watchername"],[7],[1,[25,"html-safe",[[25,"truncate",[[25,"html-escape",[[19,2,["contact","name"]]],null],[20,["truncateLimit"]],true,true,"hint--top hint--medium"],null]],null],false],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[2]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/add-watcher/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/agent-collision/agents-replying/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({classNames:["agent-collision-reply"],maxStringLength:18,actions:{prevent:function(){return!1},open:function(e){this.closeTimer?(Ember.run.cancel(this.closeTimer),this.closeTimer=null):e.actions.open()},closeLater:function(e){var n=this;this.closeTimer=Ember.run.later(function(){n.closeTimer=null,e.actions.close()},100)}},calculatePosition:function(){return!1}})});
define("freshdesk/components/module-tickets/ticket-details/agent-collision/agents-replying/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"7/JyiOPT",block:'{"symbols":["dd","agent"],"statements":[[4,"if",[[25,"eq",[[20,["agentsReplying","length"]],1],null]],null,{"statements":[[0,"  "],[6,"span"],[9,"class","agent-collision-reply-count"],[7],[0,"\\n    "],[1,[25,"ellipsis-text",[[20,["agentsReplying","firstObject","userName"]],[20,["maxStringLength"]]],null],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"span"],[9,"class","text__infotext"],[7],[1,[25,"t",["ticket.details.is_typing"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"gt",[[20,["agentsReplying","length"]],1],null]],null,{"statements":[[4,"basic-dropdown",null,[["verticalPosition","renderInPlace"],["above","true"]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["onMouseDown","onMouseEnter","onMouseLeave","class"],[[25,"action",[[19,0,[]],"prevent"],null],[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null],"agent-collision-reply-count"]],{"statements":[[0,"      "],[1,[20,["agentsReplying","length"]],false],[0," "],[1,[25,"t",["fd.agents"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[6,"span"],[9,"class","text__infotext"],[7],[0," "],[1,[25,"t",["ticket.details.are_typing"],null],false],[0," "],[8],[0,"\\n"],[4,"component",[[19,1,["content"]]],[["onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[4,"each",[[20,["agentsReplying"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","agent-collision-reply-options"],[7],[0,"\\n          "],[1,[25,"ellipsis-text",[[19,2,["userName"]],[20,["maxStringLength"]]],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[2]},null]],"parameters":[]},null]],"parameters":[1]},null]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[25,"gt",[[20,["agentsReplying","length"]],0],null]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","jumping-dots"],[7],[0,"\\n    "],[6,"span"],[9,"class","jumping-dots__dot"],[7],[8],[0,"\\n    "],[6,"span"],[9,"class","jumping-dots__dot"],[7],[8],[0,"\\n    "],[6,"span"],[9,"class","jumping-dots__dot"],[7],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/agent-collision/agents-replying/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/agent-collision/agents-viewing/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["agent_collision pull-right collision__agents-viewing"]})});
define("freshdesk/components/module-tickets/ticket-details/agent-collision/agents-viewing/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"RyQbr5mB",block:'{"symbols":[],"statements":[[1,[25,"module-tickets/shared/collision-dropdown-hover",null,[["agents","icon","testIdentifier","direction","headerText"],[[20,["agentsViewing"]],"eye","agentcollision-viewing","below","ticket.details.currentlyviewing"]]],false],[0,"\\n"],[1,[25,"module-tickets/shared/collision-dropdown-hover",null,[["agents","icon","testIdentifier","direction","headerText"],[[20,["agentsReplying"]],"typing","agentcollision-replying","below","ticket.details.currentlyreplying"]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/agent-collision/agents-viewing/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/auto-refresh/conversation/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/ticket-details/auto-refresh/conversation/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"KlP9aZxB",block:'{"symbols":[],"statements":[[4,"ui-components/refresh-notification",null,[["showNotification","notificationButtonClicked"],[[20,["conversationCount"]],[20,["fetchNewConversations"]]]],{"statements":[[0,"  "],[6,"span"],[9,"class","refresh-notification__container__count"],[9,"data-test-id","new-conversation-count"],[7],[1,[18,"conversationCount"],false],[8],[0,"\\n  "],[6,"span"],[9,"class","refresh-notification__container__label"],[7],[0," "],[1,[25,"t",["ticket.details.auto_refresh.new_conversations"],[["count"],[[20,["conversationCount"]]]]],false],[0," "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/auto-refresh/conversation/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/bot-suggested-articles/component",["exports","ember-concurrency"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({store:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["article-view"],classNameBindings:["articleFocussed:no-border"],showSolutionArticle:!1,articleData:"",solutionArticle:null,showArticleCord:!1,folderTitle:Ember.computed.reads("article.folder_title"),articleFocussed:Ember.computed("showArticleCord","solutionArticle",function(){return Ember.get(this,"showArticleCord")&&Ember.isPresent(Ember.get(this,"solutionArticle"))}),isArticleVisible:Ember.computed("solutionArticle",function(){return 1===Ember.get(this,"solutionArticle.folderVisibility")&&2===Ember.get(this,"solutionArticle.status")}),actions:{showSuggestedArticle:function(){this.send("toggleSuggestedArticle")},toggleSuggestedArticle:function(){this.toggleProperty("showSolutionArticle")},showArticleCard:function(){var e=Ember.get(this,"article.id"),t=Ember.get(this,"store").peekRecord("article",parseInt(e));Ember.isEmpty(t)?Ember.get(this,"fetchArticle").perform():Ember.set(this,"solutionArticle",t),Ember.set(this,"showArticleCord",!0)},closeArticleCard:function(){Ember.set(this,"showArticleCord",!1)},insertData:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"link"===t&&(r='<a href="https://'+Ember.get(this,"currentAccount.fullDomain")+"/support/solutions/articles/"+Ember.get(this,"article.id")+'" target="_blank" rel="noopener" data-test-article-title>'+Ember.get(this,"article.title")+"</a>"),Ember.get(this,"insertDataToReply")(e,r)}},fetchArticle:(0,t.task)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ember.get(this,"store").queryRecord("article",{ids:Ember.get(this,"article.id"),user_id:Ember.get(this,"currentUser.id"),language_id:Ember.get(this,"currentAccount.portalLanguages.firstObject.id")});case 2:t=e.sent,Ember.set(this,"solutionArticle",t);case 4:case"end":return e.stop()}},e,this)}))})});
define("freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/bot-suggested-articles/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"G+m6OqJ2",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","article-container"],[9,"data-test-article-container",""],[9,"data-test-id","article-container"],[10,"onmouseenter",[25,"action",[[19,0,[]],"showArticleCard"],null],null],[10,"onmouseleave",[25,"action",[[19,0,[]],"closeArticleCard"],null],null],[7],[0,"\\n  "],[6,"div"],[9,"tabindex","0"],[9,"class","article-list"],[9,"data-test-id","articles-list"],[10,"onclick",[25,"action",[[19,0,[]],"showArticleCard"],null],null],[7],[0,"\\n    "],[6,"div"],[10,"class",[26,["text--extra-bold mb-16 ellipsis article-title article-id-",[20,["article","id"]]]]],[7],[0,"\\n      "],[1,[20,["article","title"]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","article-folder ellipsis"],[7],[0,"\\n      "],[1,[25,"svg-jar",["folder"],[["class"],["app-icon app-icon--small folder-icon"]]],false],[0,"\\n      "],[6,"span"],[9,"class","solution-folder__title ellipsis text--normal"],[7],[1,[20,["article","folder_title"]],false],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n"],[4,"if",[[20,["articleFocussed"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"tabindex","0"],[9,"class","show-article-chord"],[9,"data-test-id","show-article-chord"],[7],[0,"\\n      "],[6,"div"],[9,"class","article-header"],[7],[0,"\\n        "],[6,"div"],[10,"class",[26,["article-title mb-10 article-id-",[20,["article","id"]]]]],[7],[0,"\\n          "],[6,"span"],[9,"class","article-topic text--extra-bold"],[9,"data-test-id","article-topic"],[10,"onclick",[25,"action",[[19,0,[]],"showSuggestedArticle"],null],null],[7],[1,[25,"truncate",[[20,["article","title"]],120,true],null],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","article-folder ellipsis"],[7],[0,"\\n          "],[1,[25,"svg-jar",["folder"],[["class"],["app-icon app-icon--small folder-icon"]]],false],[0,"\\n          "],[6,"span"],[9,"class","solution-folder__title ellipsis text--normal"],[7],[1,[20,["article","folder_title"]],false],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","article-description mb-10"],[7],[0,"\\n        "],[6,"span"],[9,"class","description-text text--normal"],[7],[0,"\\n          "],[1,[25,"truncate",[[20,["solutionArticle","descriptionText"]],150,true],null],false],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[25,"gt",[[20,["solutionArticle","descriptionText","length"]],150],null]],null,{"statements":[[0,"          "],[6,"a"],[9,"class","see-more"],[9,"data-test-id","see-more"],[10,"onclick",[25,"action",[[19,0,[]],"showSuggestedArticle"],null],null],[7],[1,[25,"t",["fd.see-more"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n      "],[6,"div"],[9,"class","action-bar-btn"],[7],[0,"\\n"],[4,"if",[[20,["isArticleVisible"]]],null,{"statements":[[0,"          "],[6,"button"],[9,"data-test-id","link-btn"],[10,"aria-label",[25,"t",["insert-solutions.link-label"],null],null],[9,"class","hint--rounded hint--top app-icon-btn app-icon-btn--text view-btn"],[10,"onclick",[25,"action",[[19,0,[]],"insertData",[20,["article","id"]],"link",""],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["insert-link"],[["class"],["app-icon app-icon--small btn-label preview-icon"]]],false],[0,"\\n            "],[6,"span"],[9,"class","link-btn"],[7],[1,[25,"t",["insert-solutions.insert-link"],null],false],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[6,"button"],[9,"data-test-id","content-btn"],[10,"aria-label",[25,"t",["insert-solutions.content-label"],null],null],[9,"class","hint--rounded hint--top app-icon-btn app-icon-btn--text view-btn"],[10,"onclick",[25,"action",[[19,0,[]],"insertData",[20,["article","id"]],"content",[20,["solutionArticle","description"]]],null],null],[7],[0,"\\n          "],[1,[25,"svg-jar",["new"],[["class"],["app-icon app-icon--small btn-label preview-icon"]]],false],[0,"\\n          "],[6,"span"],[9,"class","link-btn"],[7],[1,[25,"t",["insert-solutions.insert-content"],null],false],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showSolutionArticle"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","closeOnEscapse"],[[25,"action",[[19,0,[]],"toggleSuggestedArticle"],null],true,true]],{"statements":[[0,"      "],[1,[25,"module-tickets/shared/bot-suggested-article",null,[["article","folderTitle","isArticleVisible","ticket","insertData","toggleSuggestedArticle"],[[20,["solutionArticle"]],[20,["folderTitle"]],[20,["isArticleVisible"]],[20,["ticket"]],[25,"action",[[19,0,[]],"insertData"],null],[25,"action",[[19,0,[]],"toggleSuggestedArticle"],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/bot-suggested-articles/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({showSolutionArticle:!1,articleData:"",solutionArticle:null,actions:{closeModel:function(){this.sendAction("close")}}})});
define("freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"cpwPMKsz",block:'{"symbols":["article"],"statements":[[4,"if",[[25,"and",[[20,["isBotResponseSuccessful"]],[20,["ticket","botResponse"]]],null]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","ticket-details__bot bot-auto-suggestion mb-6"],[9,"data-test-id","bot-auto-suggestion"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-details__item__header clearfix"],[7],[0,"\\n      "],[6,"div"],[9,"class","freddy-header"],[7],[0,"\\n        "],[6,"div"],[9,"class","avatar--img-container mr-10"],[9,"data-test-id","bot-avatar-image"],[7],[0,"\\n          "],[6,"img"],[9,"class","freddy-img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/freddy/freddy_icon-4a2366f0bbb1605faacc6877502883c4.png"],[10,"alt",[25,"t",["bot.profile_settings.choose_avatar"],null],null],[7],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","description-subject text--extra-semibold"],[7],[1,[25,"t",["fd.freddy.suggestion"],null],false],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","model-close"],[9,"data-test-id","model-close"],[10,"onclick",[25,"action",[[19,0,[]],"closeModel"],null],null],[7],[1,[25,"svg-jar",["close"],[["class"],["app-icon app-icon--small close-icon"]]],false],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-details__item bot-suggestions mb-0"],[7],[0,"\\n      "],[6,"div"],[9,"class","solution-article__suggestion ml-6 mb-10"],[7],[0,"\\n        "],[1,[25,"svg-jar",["solution-item"],[["class"],["app-icon app-icon--small solution-icon"]]],false],[0,"\\n        "],[6,"span"],[9,"class","solution-article__title"],[7],[1,[25,"t",["fd.solution.article.title"],null],false],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","suggested-articles"],[7],[0,"\\n"],[4,"each",[[20,["articles"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/bot-auto-suggestion/bot-suggested-articles",null,[["article","ticket","insertDataToReply"],[[19,1,[]],[20,["ticket"]],[20,["insertDataToReply"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/bot-auto-suggestion/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/bot-response/bot-response-details/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({store:Ember.inject.service(),articleNull:Ember.computed.equal("article.useful",null),articleNotNull:Ember.computed.not("articleNull"),agentFeedback:Ember.computed.equal("article.agent_feedback",!1),disableWhen:Ember.computed.or("articleNotNull","agentFeedback"),statusIconClass:Ember.computed("article",function(){return Ember.get(this,"getStatusIconClass")(Ember.get(this,"article"))}),actions:{updateAgentVote:function(e){var t={articles:[{id:e,agent_feedback:!1}]};Ember.get(this,"ticket").updateBotResponse(t).then(this._botResponseUpdated.bind(this))}},_botResponseUpdated:function(e){if(e)return Ember.get(this,"store").pushPayload("botResponse",{botResponse:e.bot_response})},getStatusIconClass:function(e){return"status-icon "+(!1===e.agent_feedback&&null===e.useful?"status-icon--down-voted":null!==e.agent_feedback||null!==e.useful&&!1!==e.opened?e.opened&&e.useful&&null===e.agent_feedback?"status-icon--helpful":"status-icon--not-helpful":"status-icon--not-viewed")}})});
define("freshdesk/components/module-tickets/ticket-details/bot-response/bot-response-details/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"31n6KQ1m",block:'{"symbols":[],"statements":[[6,"li"],[9,"class","clearfix"],[9,"data-test-id","articles-list"],[7],[0,"\\n  "],[6,"p"],[9,"class","pull-left"],[7],[0,"\\n    "],[6,"a"],[10,"href",[26,["/a/solutions/articles/",[20,["article","id"]]]]],[9,"target","_blank"],[9,"rel","noopener"],[9,"data-test-article-title",""],[7],[0,"\\n      "],[1,[20,["article","title"]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"p"],[9,"class","status"],[9,"data-test-id","article-status"],[7],[0,"\\n"],[4,"if",[[20,["article","opened"]]],null,{"statements":[[4,"if",[[25,"and",[[20,["article","useful"]],[25,"not-eq",[[20,["article","useful"]],null],null]],null]],null,{"statements":[[0,"          "],[1,[25,"svg-jar",["extremelysatisfied"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[6,"span"],[9,"class","text--extra-bold text--xsmall"],[7],[0,"\\n            "],[1,[25,"t",["ticket.details.bot.suggestion.helpful"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["article","useful"]],false],null]],null,{"statements":[[0,"          "],[1,[25,"svg-jar",["extremelydissatisfied"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[6,"span"],[9,"class","text--extra-bold text--xsmall"],[7],[0,"\\n            "],[1,[25,"t",["ticket.details.bot.suggestion.not-helpful"],null],false],[0,"\\n          "],[8],[0,"\\n        "]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[25,"and",[[20,["article","opened"]],[25,"eq",[[20,["article","useful"]],null],null]],null]],null,{"statements":[[0,"          "],[1,[25,"svg-jar",["viewed-icon"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[6,"span"],[9,"class","text--extra-bold text--xsmall"],[7],[0,"\\n            "],[1,[25,"t",["ticket.details.bot.suggestion.viewed"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"        "],[6,"span"],[9,"class","text--extra-bold text--xsmall"],[7],[0,"\\n          "],[1,[25,"t",["ticket.details.bot.suggestion.unread"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"updateAgentVote",[20,["article","id"]]],null],null],[10,"disabled",[18,"disableWhen"],null],[10,"class",[26,["pull-right agent-vote ",[18,"statusIconClass"]]]],[9,"data-test-id","update-agent-feedback"],[7],[0,"\\n    "],[6,"span"],[10,"aria-label",[25,"t",["ticket.details.bot.suggestion.mark_helpful"],null],null],[10,"class",[25,"if",[[25,"not",[[20,["disableWhen"]]],null],"hint--rounded hint--top"],null],null],[7],[0,"\\n      "],[1,[25,"svg-jar",["thumbs-up"],[["class"],["thumbs-up app-icon"]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/bot-response/bot-response-details/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/bot-response/component",["exports","freshdesk/constants/bot/bot"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t.default.defaultAvatars;e.default=Ember.Component.extend({store:Ember.inject.service(),classNames:["__module-tickets__ticket-details__bot-response"],defaultAvatars:r,ticketClosed:Ember.computed.equal("articleUseful",1),articleUseful:Ember.computed("ticket.botResponse.articles",function(){return Ember.get(this,"ticket.botResponse.articles").filterBy("useful",!0).length}),articleName:Ember.computed("ticket.botResponse.articles",function(){return Ember.get(this,"ticket.botResponse.articles").filterBy("useful",!0)[0].title}),avatarUrl:Ember.computed("ticket.botResponse.bot.avatar.avatarId",function(){var e=Ember.get(this,"ticket.botResponse.bot.avatar.avatarId");return Ember.get(this,"defaultAvatars").findBy("avatarId",e).url}),requesterName:Ember.computed("ticket.requester.name",function(){return Ember.get(this,"ticket.requester.name")})})});
define("freshdesk/components/module-tickets/ticket-details/bot-response/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"nfphG20E",block:'{"symbols":["article"],"statements":[[4,"if",[[25,"and",[[20,["isBotResponseSuccessful"]],[20,["ticket","botResponse"]]],null]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","ticket-details__item bot-reponse-details"],[9,"data-test-id","bot-response-container"],[7],[0,"\\n    "],[6,"div"],[9,"class","avatar--img-container pull-left"],[9,"data-test-id","bot-avatar-image"],[7],[0,"\\n      "],[6,"img"],[10,"src",[18,"avatarUrl"],null],[10,"alt",[25,"t",["bot.profile_settings.choose_avatar"],null],null],[7],[8],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","bot-reponse-details-header"],[7],[0,"\\n      "],[6,"div"],[9,"class","heading-detail clearfix"],[7],[0,"\\n        "],[6,"p"],[9,"class","pull-left primary-detail"],[7],[0,"\\n          "],[6,"span"],[9,"class","text--extra-bold"],[7],[1,[20,["ticket","botResponse","bot","name"]],false],[8],[0,"\\n          "],[6,"span"],[9,"class","apply-grey"],[7],[1,[25,"t",["ticket.details.bot.response.responded"],null],false],[8],[0,"\\n          "],[6,"span"],[9,"class","text--semibold text--xsmall"],[7],[1,[20,["ticket","senderEmail"]],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"p"],[9,"class","pull-right apply-grey secondary-detail"],[7],[0,"\\n          "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["ticket","botResponse","createdAt"]]]]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","bot-reponse-details-content text--default"],[7],[0,"\\n      "],[6,"div"],[9,"data-test-requester-name",""],[7],[0,"\\n        "],[1,[20,["ticket","botResponse","bot","name"]],false],[0,"\\n        "],[1,[25,"t",["ticket.details.bot.response.suggestion"],null],false],[0,"\\n        "],[1,[18,"requesterName"],false],[0,":\\n      "],[8],[0,"\\n      "],[6,"ul"],[9,"class","bot-suggestions clearfix"],[7],[0,"\\n"],[4,"each",[[20,["articles"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/bot-response/bot-response-details",null,[["ticket","article"],[[20,["ticket"]],[19,1,[]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["ticketClosed"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-closed"],[9,"data-test-id","ticket-closed-section"],[7],[0,"\\n        "],[6,"span"],[7],[1,[25,"svg-jar",["tickcircle"],[["class"],["app-icon--medium success-icon"]]],false],[8],[0,"\\n        "],[6,"span"],[9,"class","text--extra-bold"],[7],[1,[25,"t",["ticket.details.bot.closed"],null],false],[8],[0,"\\n        "],[6,"span"],[7],[1,[18,"requesterName"],false],[8],[0,"\\n        "],[6,"span"],[7],[1,[25,"t",["ticket.details.bot.markedArticle"],null],false],[8],[0,"\\n        "],[6,"span"],[9,"data-test-article-name",""],[7],[0,"\\""],[1,[18,"articleName"],false],[0,"\\""],[8],[0,"\\n        "],[6,"span"],[7],[1,[25,"t",["ticket.details.bot.helpful"],null],false],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/bot-response/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/broadcasted-message/component",["exports","freshdesk/mixins/manage-lightbox"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{albumName:"broadcast-message",attributeBindings:["albumName:data-album"],classNames:["ticket-details__item broadcast-message","__module-tickets__ticket-details__broadcasted-message"],showInsertToReply:Ember.computed("ticket.{isTwitter,isFacebook}",function(){var e=Ember.get(this,"ticket.isTwitter"),t=Ember.get(this,"ticket.isFacebook");return Ember.get(this,"currentUser").hasAbility("reply_ticket")&&!e&&!t}),didRender:function(){this._super.apply(this,arguments),this.removeInlineImages(),this.addInlineImages()},click:function(e){Ember.$(e.target).is("img.inline-image")&&this.openInlineImage(Ember.$(e.target).attr("src"))}})});
define("freshdesk/components/module-tickets/ticket-details/broadcasted-message/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"EaDXsc67",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","ticket-details__item__header conversation-header"],[7],[0,"\\n  "],[6,"div"],[9,"class","broadcast-icon-wrapper"],[7],[0,"\\n    "],[1,[25,"svg-jar",["broadcast"],[["class"],["broadcast-icon"]]],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","text__content text--default"],[7],[0,"\\n    "],[1,[25,"t",["tickets.ticket_associations.link_tickets.broadcasted_message.info"],null],false],[0,",\\n    "],[6,"span"],[9,"class","text--default text--dark"],[7],[0,"\\n      "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["broadcast","created_at"]]]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","ticket-details__item__content clearfix"],[7],[0,"\\n  "],[6,"div"],[9,"data-test-id","broadcast-wrapper"],[10,"class",[26,["ticket-note-typography ",[25,"if",[[20,["showInsertToReply"]],"broadcast-body-wrapper"],null]]]],[9,"data-test-conversation","conversation-text"],[7],[0,"\\n    "],[6,"div"],[9,"class","text__content"],[7],[0,"\\n      "],[1,[25,"html-safe",[[20,["broadcast","body"]]],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[4,"if",[[20,["showInsertToReply"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"data-test-id","insert-to-reply-btn"],[9,"data-test-email-action","reply"],[9,"class","insert-message-link text--default"],[7],[0,"\\n    "],[6,"button"],[10,"onclick",[18,"insertBroadcastToReply"],null],[7],[0,"\\n      "],[1,[25,"t",["tickets.ticket_associations.link_tickets.broadcasted_message.insert_to_reply"],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/broadcasted-message/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/cc-bcc-info/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"",hasCc:Ember.computed.notEmpty("data.ccEmails"),hasBcc:Ember.computed.notEmpty("data.bccEmails")})});
define("freshdesk/components/module-tickets/ticket-details/component",["exports","freshdesk/constants/ticket","freshdesk/constants/integrations/integration","freshdesk/mixins/tickets/ticket-body-converstion","freshdesk/mixins/tickets/ticket-conversation-send","freshdesk/mixins/tickets/can-send-reply","freshdesk/mixins/tickets/block-requesters","freshdesk/mixins/integrations/installed-apps","freshdesk/utils/clear-flash-set","freshdesk/constants/flash-messages","freshdesk/mixins/sockets/agent-collision","freshdesk/mixins/tickets/ticket-association-feature","freshdesk/mixins/tickets/properties","freshdesk/mixins/tickets/wrap-email-notification-font","freshdesk/mixins/marketplace/interface/ticket-actions","freshdesk/mixins/marketplace/interface/editor-actions","freshdesk/mixins/details-sidebar-state","freshdesk/mixins/marketplace/interface/time-entry","freshdesk/mixins/slash-commands/remove-slash","freshdesk/mixins/tickets/service-task","ember-data","ember-local-storage","freshdesk/utils/blank-array","freshdesk/utils/scan-for-attachment","freshdesk/mixins/inline-manual-topics","freshdesk/utils/camelcase-to-underscore","ember-concurrency","freshdesk/utils/ticket-field","freshdesk/constants/application"],function(e,t,i,s,r,n,o,a,c,d,l,h,m,u,b,p,g,E,f,k,v,y,T,_,C,S,A,w,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var D=v.default.PromiseObject,F={queryParams:{collab:void 0,message:void 0}},P=["twitter","facebook","ecommerce"];e.default=Ember.Component.extend(s.default,r.default,n.default,o.default,a.default,l.default,h.default,m.default,b.default,g.default,E.default,p.default,f.default,C.default,u.default,k.default,{i18n:Ember.inject.service(),ajax:Ember.inject.service(),store:Ember.inject.service(),marketplace:Ember.inject.service(),heap:Ember.inject.service(),eventSources:Ember.inject.service(),renderStates:Ember.inject.service(),scroller:Ember.inject.service(),integration:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),currentAccount:Ember.inject.service(),currentUser:Ember.inject.service(),editorAttachment:Ember.inject.service("editor-attachment"),notifications:Ember.inject.service(),onboarding:Ember.inject.service(),classNames:["__module-tickets__ticket-details"],rightNavView:"",bodyTextForInsert:"",reloadRightNavView:!1,reloadPropertiesView:!1,showSenarios:!1,showRequesterWidgetForm:!1,showAddTimeEntry:!1,reloadTimeEntries:!1,reloadRequesterWidget:!1,showActivities:!1,displaySplitTicket:!1,noteId:null,ticketPresent:!1,displayEditTicket:!1,displayDeleteTicket:!1,updateSuccessFlag:!1,scenarioWatchers:!1,redirectOnPropertyUpdate:!1,showFailureDetails:!1,ticketEmailFailure:!1,showAttachmentRequired:!1,undoSendReply:null,replySentWithUndo:!1,isUndoSendReply:!1,showOnboardingTip:!1,undoSendTip:!1,undoSendQuote:!0,latestConversationId:null,undoneId:null,propertyUpdate:0,focusOnError:0,forwardType:null,conversationModel:null,insertBroadcast:!1,showDiscardDraftPopup:!1,hasDraft:!1,timerAppActivated:!0,pageControlsRegistered:!1,refresh:!0,page:0,disableSubmitExternal:!1,perPage:50,firstConversationInResponse:null,autoRefreshConversationCount:0,autoRefreshedTime:null,emailErrorNoteData:null,editorData:null,editorStatus:null,positiveIntents:null,summaryEditor:!1,numberOfPositiveTokens:25,fetchConversationRetryCount:0,undoSendLocalNote:null,suggestedArticle:(0,T.default)(),unblockedEmails:(0,T.default)(),interfaceCache:(0,y.storageFor)("ticket-details/interface"),undoSendCache:(0,y.storageFor)("undosend"),appRenderState:Ember.computed.reads("renderStates.renderState"),installedApps:Ember.computed.reads("integration.installedApps"),submitDisabled:Ember.computed.not("ticket.hasDirtyAttributes"),showSubmitSuccessMessage:Ember.computed.and("submitDisabled","updateSuccessFlag"),lastConversationId:Ember.computed.reads("ticket.lastConversationId"),conversations:Ember.computed.reads("ticket.conversations"),isNotSocial:Ember.computed.not("ticket.isSocial"),isNotEcommerce:Ember.computed.not("ticket.isEcommerce"),checkForSocial:Ember.computed.reads("ticket.isSocial"),isBotResponseSuccessful:Ember.computed.reads("botResponseTask.isSuccessful"),remindAttachment:Ember.computed.and("isNotSocial","isAttachmentReminderAction"),agentsViewingAndReplying:Ember.computed.uniqBy("viewingAgentSockets","userId"),agentsReplying:Ember.computed.uniqBy("replyingAgentSockets","userId"),hideNoteOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideNote"),disableNoteOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableNote"),hideReplyOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideReply"),disableReplyOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableReply"),hideForwardOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideForward"),disableForwardOption:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableForward"),hideEditButtonTd:Ember.computed.readOnly("mkpInterface.controlData.ticketEditBtn.hide"),hideSpamButtonTd:Ember.computed.readOnly("mkpInterface.controlData.ticketSpamBtn.hide"),disableEditButtonTd:Ember.computed.readOnly("mkpInterface.controlData.ticketEditBtn.disable"),requester:Ember.computed.reads("ticket.requester"),validRequester:Ember.computed.not("requester.{deleted,blocked,spam}"),requesterNotAgent:Ember.computed.not("requester.isAgent"),undoSendEnabled:Ember.computed.equal("currentUser.preferences.undo_send",!0),showColloboration:Ember.computed.and("currentAccount.collaboration","ticket.isActionable"),ticketId:Ember.computed.readOnly("ticket.id"),isTicketLoading:Ember.computed.not("ticketPresent"),showProprertiesPane:Ember.computed.or("ticket.{archived,isActionable}","isTicketLoading"),meta:Ember.computed.reads("ticket.meta"),userAgent:Ember.computed.reads("ticket.meta.userAgent"),source:Ember.computed.reads("ticket.sourceType"),isSocial:Ember.computed.reads("ticket.isSocial"),isDirectMessage:Ember.computed.reads("ticket.isDirectMessage"),isOutboundEmail:Ember.computed.reads("ticket.isOutboundEmail"),createdBy:Ember.computed.reads("ticket.meta.createdAgent"),userContact:Ember.computed.reads("ticket.userContact"),showServiceTaskWidget:Ember.computed.and("currentAccount.fsmEnabled","isNotTrackerOrRelated"),isReverseOrder:Ember.computed.reads("currentUser.latestNotesFirst"),isFreddyPrediction:Ember.computed.reads("ticket.predictTicketFields"),showTwitterBlockedFlag:Ember.computed("source","currentAccount.config.social.twitter_app_blocked",function(){return Ember.get(this,"currentAccount.config.social.twitter_app_blocked")&&Ember.get(this,"ticket.source")===t.TWITTER_SOURCE}),botEmailSupport:Ember.computed("currentAccount",function(){return Ember.get(this,"currentAccount").launched("bot_email_channel")&&Ember.get(this,"ticket.source")===t.EMAIL_SOURCE}),botAutoSuggestion:Ember.computed("currentAccount","ticket.stats.agentRespondedAt",{get:function(){return Ember.get(this,"currentAccount").hasFeature("agent_articles_suggest")&&Ember.isEmpty(Ember.get(this,"ticket.stats.agentRespondedAt"))},set:function(e,t){return t}}),showSpamAlert:Ember.computed("ticket.emailSpamData",function(){return!!Ember.get(this,"ticket.emailSpamData")&&!(Ember.get(this,"ticket.emailSpamData.DKIM")&&Ember.get(this,"ticket.emailSpamData.SPF"))}),isAttachmentReminderAction:Ember.computed("actionType",function(){var e=Ember.get(this,"actionType");return t.default.reqActionTypes.includes(e)}),hasTimesheetsFeatureAndAbility:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("timesheets")&&Ember.get(this,"currentUser").hasAbility("view_time_entries")}),sessionReplayEnabled:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("session_replay")&&Ember.get(this,"currentAccount.freshmarketerLinked")}),displayUndoButton:Ember.computed("conversations","conversations.length","ticket.conversations",function(){return!Ember.get(this,"conversations.lastObject.category")}),agentsViewing:Ember.computed("agentsViewingAndReplying","agentsReplying",function(){var e=Ember.get(this,"agentsViewingAndReplying"),t=Ember.get(this,"agentsReplying");return e.filter(function(e){return Ember.isEmpty(t.findBy("userId",e.userId))})}),editTicketData:Ember.computed("ticket.id",function(){return{ticket:Ember.get(this,"ticket")}}),ticketActionableClass:Ember.computed("ticket.isActionable",function(){return Ember.get(this,"ticket.isActionable")?"":"ticket-not-actionable"}),priorityTypeLower:Ember.computed("ticket.priorityType",function(){return Ember.get(this,"ticket.priorityType")?Ember.get(this,"ticket.priorityType").toLowerCase():""}),isHavingTotalConversations:Ember.computed("totalConversationsCount","conversations.length",function(){return Ember.get(this,"totalConversationsCount")===Ember.get(this,"conversations.length")}),forwardData:Ember.computed("actionType","forwardTemplate.isFulfilled",function(){return Ember.get(this,"forwardTemplate")}),allowAddToResponse:Ember.computed("ticket.{isSocial,spam,deleted}",function(){var e=Ember.get(this,"ticket.isSocial"),t=Ember.get(this,"ticket.spam"),i=Ember.get(this,"ticket.deleted");return!e&&!t&&!i}),forwardTemplate:Ember.computed("actionType","forwardType",function(){var e=Ember.get(this,"forwardType")||"latest",t="conversation"===e?"conversationModel":"ticket",i=Ember.get(this,t),s="get"+e+"ForwardTemplate";return D.create({promise:i[s]().then(this._forwardTemplateCB.bind(this))})}),failedEmailsPromise:Ember.computed("conversationModel","ticketEmailFailure","ticket",function(){var e=Ember.get(this,"ticket"),t=null;return Ember.get(this,"ticketEmailFailure")||(t={note_id:Ember.get(this,"conversationModel.id")}),D.create({promise:e.getEmailFailures(t).then().catch(this._failedEmailsCB.bind(this))})}),replyToForwardData:Ember.computed("actionType",function(){var e=Ember.get(this,"conversationModel");return D.create({promise:e.getReplyToForwardTemplate().then(this._replyToForwardDataCB.bind(this))})}),showAction:Ember.computed("actionType",function(){var e=Ember.get(this,"actionType");return Ember.isNone(e)}).readOnly(),endpoint:Ember.computed("actionType",function(){var e={twitter:"twitterReply",facebook:"facebookReply",ecommerce:"ecommerceReply"},i=Ember.get(this,"actionType"),s=Ember.getProperties(Ember.get(this,"ticket"),"sourceType","isSocial","isEcommerce"),r=s.sourceType,n=s.isSocial,o=s.isEcommerce;return i===t.default.action.reply&&(n||o)?e[r]:i}).readOnly(),requesterWidgetEditAllowed:Ember.computed("requesterNotAgent","validRequester",function(){var e=Ember.getProperties(this,"requesterNotAgent","validRequester"),t=e.requesterNotAgent,i=e.validRequester,s=Ember.get(this,"currentAccount").hasFeature("requester_widget"),r=Ember.get(this,"currentUser").hasAbility("manage_contacts"),n=!Ember.get(this,"ticket.archived");return s&&r&&t&&i&&n}),positiveTokens:Ember.computed(function(){for(var e=Ember.get(this,"i18n"),t=Ember.get(this,"numberOfPositiveTokens"),i=[],s=1;s<=t;s++)i.push(e.t("ticket.details.attachment.positive-tokens."+s));return i}),isEditable:Ember.computed("ticket.id",function(){return Ember.get(this,"currentUser").hasAbility("edit_ticket_properties")}),isReplyWithUndo:Ember.computed("currentAccount","actionType",function(){return(Ember.get(this,"currentAccount").hasFeature("undo_send")||Ember.get(this,"currentAccount").launched("undo_send"))&&"reply"===Ember.get(this,"actionType")&&Ember.get(this,"isNotSocial")&&Ember.get(this,"isNotEcommerce")}),sortBy:Ember.computed("isReverseOrder",function(){return Ember.get(this,"isReverseOrder")?["createdAt:desc"]:["createdAt"]}),associationText:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType"),i=Ember.get(this,"ticket.type"),s=void 0;return s=i&&"ServiceTask"==i.replace(/ /g,"")?"ticket.filter.association_type.service_task":t.default.ticketAssociationsText[e],Ember.get(this,"i18n").t(s)}),associationType:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType"),i=Ember.get(this,"ticket.type");return i&&"ServiceTask"==i.replace(/ /g,"")?"service-task":t.default.ticketAssociations[e]}),init:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").registerControls("ticketActions")},didReceiveAttrs:function(){this._super.apply(this,arguments);var e=Ember.get(this,"ticket.responderId"),t=Ember.get(this,"ticket.collaboration"),i=Ember.get(this,"ticket.id"),s=Ember.get(this,"ticket.subject"),r=Ember.get(this,"setCollabData");r&&r({id:i,title:s,owned_by:e?String(e):"",convo_token:t?t.convo_token:""})},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"mkpInterface").deregisterControls("ticketDetails"),Ember.get(this,"mkpInterface").deregisterControls("ticketActions"),Ember.get(this,"editorAttachment").clearAttachments(),Ember.get(this,"currentAccount").hasFeature("collision")&&this.closeExistingAgentCollisionSocket()},actions:{closeModel:function(){this._resetBotSuggestion()},tipDone:function(){var e=this;Ember.run.later(function(){Ember.set(e,"undoSendTip",!1)},0)},setUndoneNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Ember.set(this,"undoSendReply",e)},openCollab:function(e){if(!Ember.get(this,"collabOpened")||!1===e){Ember.set(this,"collabOpened",e);var t=Ember.get(this,"ticket.id"),i="boolean"!=typeof e||e;Ember.get(this,"notifications").setCollabData({open:i,ticketId:t})}},saveCollabMcount:function(e){Ember.set(this,"collabMessages",e)},saveCollabUnreadMcount:function(e){Ember.set(this,"collabUnreadMessages",e)},showEditPage:function(){this.toggleProperty("displayEditTicket")},closeOverlay:function(){this.toggleProperty("displayEditTicket")},outSideClick:function(){},toggleEmailFailure:function(){this.toggleProperty("showFailureDetails")},deleteTicketConfirmationToggle:function(){this.toggleProperty("displayDeleteTicket")},delete:function(e){var t=this._deleteUrl();Ember.get(this,"ajax").del(t+"/"+e.id,{namespace:R.default.apiNamespace}).then(this._handleDestroyRecordResponse.bind(this,e),this._handleDestroyRecordError.bind(this,e))},undoTicketDelete:function(e){e.restoreTicket().then(this._handleRestoreTicketResponse.bind(this,e),this._handleRestoreTicketError.bind(this,e)).catch(this._handleRestoreTicketFailure.bind(this))},markAsSpam:function(e){Ember.get(this,"ticket").markAsSpam().then(this._handleMarkSpamResolve.bind(this,e))},undoMarkAsSpam:function(e){e.unSpam().then(this._handleUnSpamResolve.bind(this,e),this._handleRestoreTicketError.bind(this,e)).catch(this._handleUnSpamFailure.bind(this))},removeError:function(e){var t=Ember.get(this,"ticketActionError").indexOf(e);-1!==t&&Ember.get(this,"ticketActionError").removeAt(t)},discardConversation:function(){var e=Ember.get(this,"hasDraft"),t="reply"===Ember.get(this,"actionType");if(!e||!t)return void this.send("hideAction");Ember.set(this,"showDiscardDraftPopup",!0)},closeConfirmDialogCancel:function(){Ember.set(this,"showAttachmentRequired",!1),Ember.set(this,"disableSubmitExternal",!1)},sendConversation:function(e,t){if(Ember.set(this,"editorData",e),Ember.get(this,"lastConversationId")==9007199254740991-Ember.get(this,"ticket.id"))this._fetchActualNoteIdForTicket();else{this._removeAtWhoContainer(e);var i=Ember.get(this,"ticket.sourceType"),s="reply"===Ember.get(this,"actionType");if(P.includes(i)&&s||this._wrapEmailNotificationFont(e),Ember.set(this,"disableSubmitExternal",!0),Ember.set(this,"editorStatus",t),!Ember.get(this,"remindAttachment")||!e.body)return this._sendConv();var r=Ember.get(this,"positiveTokens"),n=(0,_.default)(e,r);if(e.attachment_ids.length||!n.isAttachmentRequired)return this._sendConv();Ember.set(this,"positiveIntents",n.positiveIntent),Ember.set(this,"showAttachmentRequired",n.isAttachmentRequired)}},closeConfirmDialog:function(){Ember.set(this,"showAttachmentRequired",!1),this._sendConv()},fetchLatestConversations:function(e){return this._fetchAdditionalConversations(e)},fetchAndScrollToLatestConversations:function(){var e=Ember.get(this,"lastConversationId"),t=this._scrollToLatestConversations.bind(this),i=this._tagLatestConversation.bind(this),s=this._resetAutoRefresh.bind(this);return this._fetchAdditionalConversations(e).then(i).then(t).then(s)},fetchOlderConversations:function(){return this._fetchAdditionalConversations()},insertDataToReply:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Ember.get(this,"suggestedArticle").addObject(e);this.send("showAction","reply"),Ember.setProperties(this,{bodyTextForInsert:t,suggestedArticle:i})},showAction:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&"forward"===e&&Ember.set(this,"forwardType",t),Ember.get(this,"setActionType")(e.camelize()),Ember.set(this,"emailErrorNoteData",i),Ember.set(this,"bodyTextForInsert","");var s=Ember.get(this,"eventSources").getEventNameByAction("ticket",e,t);Ember.get(this,"marketplace").publishEvent({event:s}),this.scrollToBottom()},attachToResponse:function(e){var i=Ember.get(this,"actionType"),s=Ember.get(this,"summaryEditor");if(s||i||Ember.get(this,"currentUser").hasAbility("reply_ticket")&&Ember.get(this,"showTicketReply")){Ember.get(this,"editorAttachment").addAttachment(e),(s||i)&&i!=t.default.action.broadcast||Ember.get(this,"setActionType")("reply"),this.scrollToBottom()}},hideAction:function(){Ember.get(this,"setActionType")(null),Ember.set(this,"forwardType",null)},beforeUpdateProperties:function(){Ember.setProperties(this,{updateProperties:!0})},replyToFacebookComment:function(e){Ember.set(this,"noteId",parseInt(e.id)),Ember.get(this,"setActionType")(t.default.action.reply),this.scrollToBottom()},emailFailureDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(Ember.set(this,"conversationModel",e),Ember.set(this,"ticketEmailFailure",!1)):Ember.set(this,"ticketEmailFailure",!0),Ember.set(this,"showFailureDetails",!0)},updateProperty:function(){return this.updateProperty()},closeTicket:function(e){var i=Ember.get(this,"ticket"),s=!1;return e&&(s=e.shiftKey||!1),Ember.set(i,"status",t.default.status.closed),i.validate().then(this._closeTicketCB.bind(this,s,i))},merge:function(e){var t=this,i=[e],s={options:{template:"module-tickets/shared/tickets-merge",closeOnEscapse:!0,showModalClose:!0},data:{reference:"merge",tickets:i,updateToggleFn:function(e){Ember.get(t,"ticket.id")===e?Ember.get(t,"refreshAction")():Ember.get(t,"router").transitionTo("helpdesk.tickets.show",e)}}};this.overlay.open(s)},showEdit:function(e){var t={};t.options={template:"module-tickets/ticket-form",showModalClose:!0},t.data={ticket:e},this.overlay.open(t)},updateDuebyTime:function(){alert("Inside Update Due by Time ")},toggleProp:function(e){var t=this;Ember.run.next(function(){t.toggleProperty(e)})},executeScenario:function(e){return Ember.get(this,"ticket").scenarios({scenario_id:new Number(Ember.get(e,"id"))}).then(this._executeScenarioSuccessCB.bind(this),this._executeScenarioFailureCB.bind(this))},showTimeEntryForm:function(e){Ember.set(this,"timeEntry",e),this.toggleProperty("showAddTimeEntry")},deleteTimeEntry:function(e){return e.destroyRecord().then(this._deleteTimeEntryCB.bind(this))},startStopTimer:function(e){return e.toggleTimer().then(this._pushDataToStore.bind(this)).then(this._startStopTimerCB.bind(this))},widgetAction:function(e){"requester-info"==e&&this.toggleProperty("showRequesterWidgetForm")},showhideActivity:function(e){Ember.setProperties(this,{showActivity:e,refreshConverstions:!0})},initiateSplitTicket:function(e){Ember.set(this,"splitConversation",e),Ember.set(this,"displaySplitTicket",!0)},splitTicket:function(){var e=Ember.get(this,"ticket"),t=Ember.get(this,"splitConversation.id");return e.splitTicket({note_id:t}).then(this._splitTicketCB.bind(this))},initiateForwardNote:function(e){Ember.set(this,"conversationModel",e),this.send("showAction","forward","conversation")},initiateReplyToForwardNote:function(e){Ember.set(this,"conversationModel",e),this.send("showAction","reply_to_forward","conversation")},markUnSpam:function(e){var t=Ember.get(this,"store");e.unSpam().then(this._markUnSpamSuccessCB.bind(this,t,e)).catch(this._markUnSpamFailureCB.bind(this))},restoreTicket:function(e){var t=Ember.get(this,"store");e.restoreTicket().then(this._restoreTicketSuccessCB.bind(this,t,e)).catch(this._restoreTicketFailureCB.bind(this))},deleteTicketForever:function(e){var t=[+Ember.get(e,"id")];e.deleteForever({ids:t}).then(this._deleteTicketForeverSuccessCB.bind(this)).catch(this._deleteTicketForeverFailureCB.bind(this))},removeAttachment:function(e){if(confirm("Are you sure you want to delete this attachment?")){var t=e.attachment,i=e.parentObj,s=Ember.get(this,"store").peekRecord("attachment",Ember.get(t,"id"));Ember.get(s,"isShared")?s.unLink({attachable_id:Number(i.get("id")),attachable_type:i.constructor.modelName}).then(this._removeAttachmentSuccessCB.bind(this,e)).catch(this._removeAttachmentFailureCB.bind(this)):s.destroyRecord().then(this._attachmentDeleteSuccess.bind(this))}},ticketFetchCallback:function(e){Ember.set(this,"ticketPresent",!0),Ember.get(this,"setTitleToken")(e),this._ticketSecondaryRequisiteCallback(e)},registerControlsCallback:function(){Ember.get(this,"pageControlsRegistered")||(Ember.get(this,"mkpInterface").registerControls("ticketDetails"),Ember.get(this,"mkpInterface").registerControls("globalInterfaceAPIs"),Ember.set(this,"pageControlsRegistered",!0))},onConversationDelete:function(){this.decrementProperty("totalConversationsCount")},onTicketChange:function(e){Ember.isNone(e)||(this._resetProps(),Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e,F))},refreshTicketProperties:function(){this.refreshTicketProperties(),this.incrementProperty("propertyUpdate")}},_resetBotSuggestion:function(){Ember.set(this,"botAutoSuggestion",!1)},_deleteUrl:function(){return Ember.get(this,"ticket.archived")?"/tickets/archived":"/tickets"},_sendConv:function(){var e=this,i=Ember.get(this,"actionType"),s=i===t.default.action.reply?{article_id:Ember.get(this,"suggestedArticle")}:"",r=Ember.get(this,"editorData"),n=Ember.get(this,"editorStatus");Ember.get(this,"model.inlineAttachmentIds")&&Ember.set(r,"inline_attachment_ids",Ember.get(this,"model.inlineAttachmentIds")),Ember.set(this,"ticketActionError",[]);var o=void 0;return o=n?this.setStatusAndSendConversation(r,n,s):this.saveConversation(r,n,s),o.finally(function(){return Ember.set(e,"disableSubmitExternal",!1)}),o},_resetProps:function(){Ember.set(this,"page",0)},_saveTagsSuccess:function(e){Ember.get(this,"store").pushPayload(e)},_saveTagsFailure:function(e){var t=e.message,i=e.errors;i.length&&i[0].detail.code&&(t=Ember.get(this,"i18n").t("server.errors."+i[0].detail.code+".flashmessage",{fieldName:i[0].detail.field})),Ember.get(this,"flashMessages").danger(t)},_handleDestroyRecordResponse:function(e){Ember.get(this,"router").transitionTo("helpdesk.tickets.index"),(0,c.default)(this,"singleDeleteTicket");var i=Ember.get(this,"ticket.associationType")===t.default.associationType.tracker,s=i?"ticket.actions.tracker.delete.success":"ticket.actions.delete.success";Ember.get(this,"ticket.archived")?Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t(s)):Ember.get(this,"flashMessages").add({message:this.i18n.t(s,{ticketID:e.id}),type:"warning",setName:"singleDeleteTicket",sticky:!0,componentName:"ui-components/flash-with-link",content:{context:this,performAction:this.actions.undoTicketDelete,data:e,linkText:"flashmessage.undo"}})},_handleDestroyRecordError:function(e){Ember.get(this,"flashMessages").danger(this.i18n.t("ticket.actions.delete.failure",{ticketID:e.id}))},_handleRestoreTicketResponse:function(e){Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id),Ember.get(this,"flashMessages").add({type:"success",message:this.i18n.t("ticket.actions.undodelete.success",{ticketID:e.id}),timeout:d.default.shorterTimeout})},_handleRestoreTicketError:function(e){Ember.get(this,"flashMessages").add({type:"danger",message:this.i18n.t("ticket.actions.undodelete.fail",{ticketID:e.id}),timeout:d.default.shorterTimeout})},_handleMarkSpamResolve:function(e){var t=this;Ember.get(this,"router").transitionTo("helpdesk.tickets.index"),(0,c.default)(this,"singleSpamTicket"),Ember.get(this,"flashMessages").add({message:this.i18n.t("ticket.actions.markspam.success",{ticketID:e.id}),type:"warning",setName:"singleSpamTicket",componentName:"ui-components/flash-with-link",content:{context:this,performAction:this.actions.undoMarkAsSpam,data:e,linkText:"flashmessage.undo"}}),Ember.run.later(function(){return t.showBlockUsersFlash([e])},d.default.timeUntilSuccessiveFlash)},_handleUnSpamResolve:function(e){Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id),Ember.set(e,"spam",!1),Ember.get(this,"flashMessages").add({type:"success",message:this.i18n.t("ticket.actions.undospam.success",{ticketID:e.id}),timeout:d.default.shorterTimeout})},_handleUnSpamRejection:function(e){Ember.get(this,"flashMessages").add({type:"danger",message:this.i18n.t("ticket.actions.undospam.fail",{ticketID:e.id}),timeout:d.default.shorterTimeout})},_handleRestoreTicketFailure:function(e){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.spam.restore.error",{reason:e.message}))},_handleUnSpamFailure:function(e){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.unspam.error",{reason:e.message}))},showDraft:function(){Ember.get(this,"setActionType")("reply"),this.scrollToBottom()},scrollToBottom:function(){var e=document.querySelector("#scroll-to-bottom");Ember.get(this,"scroller").scrollVertical(e,{duration:300,auto:!0,offset:Ember.get(this,"isReverseOrder")?-100:0})},_scrollToNote:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=document.querySelectorAll("[data-album = 'note_"+e+"']");Ember.isPresent(s)?Ember.get(this,"scroller").scrollVertical(s,{offset:t.default.conversationScrollOffset}):i&&this._fetchAdditionalConversations().then(this._scrollToExpandedNote.bind(this,e))},_scrollToExpandedNote:function(e){var t=this;Ember.run.next(function(){t._scrollToNote(e,!1)})},_ticketPropertiesUpdateSuccess:function(e){var t=this,i=Ember.get(this,"i18n").t("ticket.details.update.success");Ember.set(this,"staleTicketProperties",!1),Ember.set(this,"autoRefreshedTime",null),Ember.get(this,"flashMessages").success(i),this._reloadTimeEntries(e),this.toggleProperty("updateSuccessFlag"),Ember.get(this,"isFreddyPrediction")&&Ember.set(this,"reloadPropertiesView",!0),Ember.run.later(function(){t.isDestroyed||t.isDestroying||t.toggleProperty("updateSuccessFlag")},1500),this.incrementProperty("propertyUpdate"),this._redirectInactiveToList(Ember.get(this,"redirectOnPropertyUpdate"))},_reloadTimeEntries:function(e){var i=e.status,s=t.default.status,r=s.closed,n=s.resolved;i&&[r,n].includes(i[1])&&Ember.get(this,"hasTimesheetsFeatureAndAbility")&&Ember.get(this,"findTimeEntries").perform()},_ticketPropertiesUpdateFailure:function(e){Ember.get(this,"flashMessages").danger(e.message)},_attachmentDeleteSuccess:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("tickets.attachment.deleted"))},_attachmentUnlinkSuccess:function(e){var t=e.attachment,i=e.parentObj,s=Ember.get(t,"id"),r=Ember.get(i,"attachments"),n=r.findBy("id",s);r.removeObject(n),this._attachmentDeleteSuccess()},_attachmentDeleteFailure:function(e){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.attachment.deleted.error",{reason:e.message}))},_submitTicketSuccess:function(e,i,s,r,n,o){var a=o?o.article_id:null,c=Ember.get(this,"currentUser").hasAbility("edit_ticket_properties");if(n&&c&&this.setStatus(n),Ember.get(this,"isReplyWithUndo")){var d=e.conversation;if(Ember.set(this,"undoneId",r),Ember.get(this,"undoSendCache.showTip")){var l=null,h=Ember.get(this,"store").peekRecord("conversation",r);null!=h&&(l=Ember.get(h,"ticket.content.id"));var m=d.user_id,u=d.created_at,b=h?h.data:{userId:null,createdAt:null},p=b.userId,g=b.createdAt,E=!1;if(null!=u&&null!=g){new Date(u).getTime()-g.getTime()<3e5&&d.ticket_id.toString()==l&&(E=!0)}if(m==p&&!Ember.get(this,"undoSendEnabled")&&E){Ember.setProperties(this,{undoSendTip:!0,latestConversationId:d.id,"undoSendCache.showTip":!1});Ember.get(this,"heap").track("Undo suggestion popped up")}}Ember.get(this,"undoSendEnabled")&&(Ember.set(this,"latestConversationId",d.id),Ember.set(this,"undoSendLocalNote",e))}else Ember.set(this,"latestConversationId",null);if(this._pushConversationsToStore(e),this.incrementProperty("totalConversationsCount"),Ember.set(this,"hasDraft",!1),this.send("hideAction"),Ember.get(this,"ticket").incrementCounter(),Ember.isPresent(a)&&i===t.default.action.reply){var f=a.map(function(e){return{id:e,agent_feedback:!0}});Ember.get(this,"ticket").updateBotResponse({articles:f}).then(this._botResponseUpdated.bind(this))}r&&this.send("fetchLatestConversations",r),this._resetAutoRefresh(),Ember.set(this,"fetchConversationRetryCount",0),Ember.get(this,"botAutoSuggestion")&&this._resetBotSuggestion(),this.send("removeError","trafficCop"),this.send("removeError","undoEnqueued"),this.send("removeError","undoAgentEnqueued")},_botResponseUpdated:function(e){if(e)return Ember.set(this,"suggestedArticle",[]),Ember.get(this,"store").pushPayload("botResponse",{botResponse:e.bot_response})},_submitTicketFailure:function(e){e.errors.any(this.isSignalRed)?this.send("fetchAndScrollToLatestConversations"):e.errors.any(this.isUndoEnqueued)?this.send("showError","undoEnqueued"):e.errors.any(this.isUndoAgentEnqueued)?this.send("showError","undoAgentEnqueued"):e.errors.any(this.isFaceBookUserBlocked)?Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.facebook_user_blocked")):e.errors.any(this.isEbayReplyLimit)?Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.ebay_reply_limit")):e.errors.any(this.isTwitterBlocked)?Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.twitter_app_blocked")):Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.submitfailure"))},_ticketSecondaryRequisiteCallback:function(e){var t=this;if(Ember.get(this,"editorAttachment").clearAttachments(),Ember.get(this,"queryParams.createServiceTask")&&(this.sendAction("updateQueryParam","createServiceTask",!1),this._triggerServiceTaskSlider(e)),Ember.get(e,"isTwitter")&&this.fetchAllTwitterHandles(),Ember.get(this,"currentAccount").hasFeature("collision")&&this.initializeCollisionSocket(),(Ember.get(this,"isRelatedTicket")||Ember.get(this,"isChildTicket"))&&this.getPrimeTicketDetails(),this._autoOpenDraft(e),Ember.get(this,"botEmailSupport")||Ember.get(this,"botAutoSuggestion")){var i=Ember.get(this,"botResponseData").perform();Ember.set(this,"botResponseTask",i)}Ember.run.next(function(){var e=Ember.get(t,"openConversationBox");if(e){var i="forward"==e?"latest":null;t.send("showAction",e,i)}})},botResponseData:(0,A.task)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,Ember.get(this,"ticket").getBotResponse();case 4:t=e.sent,t&&Ember.get(this,"store").pushPayload("botResponse",{botResponse:t.bot_response}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.fetchCallFailure();case 11:case"end":return e.stop()}},e,this,[[1,8]])})).restartable(),_triggerServiceTaskSlider:function(e){if(Ember.get(this,"showServiceTaskWidget")&&!Ember.get(this,"isChildTicket")){(Ember.get(e,"associatedTicketsCount")||0)<t.MAX_CHILD_COUNT&&this.send("associateTickets","createServiceTask")}},fetchCallFailure:function(){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("fd.somethingwentwrongError"))},_fetchAdditionalConversations:function(e){var t=Ember.isEmpty(e);t&&this.incrementProperty("page")
;var i=Ember.getProperties(this,"orderType","page","perPage"),s=i.orderType,r=i.perPage,n=i.page,o=t?{page:n}:{sinceId:e};return Ember.get(this,"fetchConversations").perform(Object.assign({orderType:s,perPage:r},o))},_pushConversationsToStore:function(e){return Ember.get(this,"store").pushPayload(e),e&&e.meta&&(Ember.set(this,"totalConversationsCount",e.meta.count),e.meta.ner_data&&Ember.set(this,"nerData",e.meta.ner_data)),e},_autoOpenDraft:function(e){var t=!Ember.get(this,"ticket.archived");Ember.get(this,"currentUser").hasAbility("reply_ticket")&&t&&this.getTicketDraft(e).then(this._autoOpenDraftSuccessCB.bind(this),this._autoScrollToBottomforResponder.bind(this))},_fieldErrorFlashMessage:function(){var e=Ember.get(this,"ticket"),i=Ember.get(e,"associationType")===t.default.associationType.parent,s=Ember.get(e,"errors.messages.firstObject");if(s){var r=s.field,n=s.message;if(!i){var o=(0,w.constructErrorKey)(s);o&&(n=Ember.get(this,"i18n").t(o+".flashmessage",{fieldName:r}))}Ember.get(this,"flashMessages").danger(n),this.incrementProperty("focusOnError"),e._internalModel.clearErrorMessages()}},_tagLatestConversation:function(e){var t=e.conversations;if(Ember.get(this,"fetchConversationRetryCount")>2)this.showTrafficCopError();else if(t&&0!=t.length||Ember.get(this,"checkForSocial")){this.showTrafficCopError();var i=Ember.get(t,"lastObject.id");Ember.set(this,"fetchConversationRetryCount",0),Ember.set(this,"firstConversationInResponse",i.toString()),Ember.get(this,"undoSendEnabled")&&Ember.set(this,"ticket.lastConversationId",Ember.get(t,"firstObject.id"))}else this.incrementProperty("fetchConversationRetryCount"),this._fetchActualNoteIdForTicket()},_fetchActualNoteIdForTicket:function(){var e=Ember.get(this,"conversations.canonicalState"),t=e.length>1?e[1].id:0,i=Ember.get(this,"orderType"),s=Ember.get(this,"perPage");Ember.get(this,"ticket").getConversations((0,S.default)({sinceId:t,orderType:i,perPage:s,include:"requester"})).then(this._fetchActualNoteIdOnDiscrepencySuccess.bind(this)).catch(this._fetchActualNoteIdOnDiscrepencyError.bind(this))},_fetchActualNoteIdOnDiscrepencySuccess:function(e){var t=e.conversations,i=t&&t.length>0?t[0].id:0;Ember.set(this,"ticket.lastConversationId",i);var s=Ember.get(this,"editorData"),r=Ember.get(this,"editorStatus");this.send("sendConversation",s,r)},_fetchActualNoteIdOnDiscrepencyError:function(){this.showTrafficCopError()},_scrollToLatestConversations:function(){var e=this;Ember.run.next(function(){var t=e.element.querySelector("#ticket-action-error");t&&Ember.get(e,"scroller").scrollVertical(t,{offset:Ember.get(e,"isReverseOrder")?-180:0})})},_failedEmailsCB:function(e){Ember.get(this,"flashMessages").danger(e.message),this.toggleEmailFailure()},_resetAutoRefresh:function(){Ember.set(this,"autoRefreshConversationCount",0)},_forwardTemplateCB:function(e){return this._agentReplyTemplateCB(e)},_replyToForwardDataCB:function(e){return e.data.body=""+e.data.template+e.data.signature,e.data},_ticketDraftCB:function(e){return e.data.inline_attachment_ids&&Ember.set(this,"ticket.inlineAttachmentIds",e.data.inline_attachment_ids.map(Number)),e.data},_agentReplyTemplateCB:function(e){var t=Ember.get(this,"mkpInterface"),i=""+e.data.template+e.data.signature,s=Ember.get(this,"actionType"),r=Ember.get(t,"controlData.replyNote."+s+"Text");return r&&(i=r,Ember.set(t,"controlData.replyNote."+s+"Text",null)),e.data.body=i,e.data},_executeScenarioSuccessCB:function(e){var t=void 0;Ember.get(this,"store").pushPayload("ticket",e);for(var i=e.meta,s=0;s<i.activities.length;s++)"add_comment"==i.activities[s].name?t=!0:"add_watcher"==i.activities[s].name&&Ember.set(this,"scenarioWatchers",!0);if(t){var r=Ember.get(this,"lastConversationId");this.send("fetchLatestConversations",r)}Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.details.executescenario.success"))},_executeScenarioFailureCB:function(){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.executescenario.error"))},_deleteTimeEntryCB:function(){Ember.get(this,"ticket").incrementCounter()},_startStopTimerCB:function(){Ember.get(this,"ticket").incrementCounter()},_splitTicketCB:function(e){Ember.set(this,"displaySplitTicket",!1),Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.ticket.id),Ember.get(this,"refreshAction")(),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("tickets.activities.summary.ticket_split"))},_deleteTicketForeverSuccessCB:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.actions.delete.success")),this.router.transitionTo("helpdesk.tickets.index")},_deleteTicketForeverFailureCB:function(e){this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.actions.delete.failure",{reason:e.message}))},_markUnSpamSuccessCB:function(e,t){var i={ticket:{id:t.id,spam:!1,can_be_associated:!0}};e.pushPayload(i),Ember.set(this,"reloadPropertiesView",!0),this.flashMessages.success(Ember.get(this,"i18n").t("ticket.actions.undospam.success"))},onTicketChange:function(e){Ember.isNone(e)||(this._resetProps(),Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e,F))},_markUnSpamFailureCB:function(e){this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.actions.undospam.fail",{reason:e.message}))},_restoreTicketSuccessCB:function(e,t){var i={ticket:{id:t.id,deleted:!1,can_be_associated:!0}};e.pushPayload(i),Ember.set(this,"reloadPropertiesView",!0),this.flashMessages.success(Ember.get(this,"i18n").t("ticket.actions.undodelete.success"))},_restoreTicketFailureCB:function(e){this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.actions.undodelete.fail",{reason:e.message}))},_removeAttachmentSuccessCB:function(e){this._attachmentUnlinkSuccess(e)},_removeAttachmentFailureCB:function(e){this._attachmentDeleteFailure(e)},_autoOpenDraftSuccessCB:function(e){e.body?(Ember.set(this,"hasDraft",!0),this.showDraft(e)):Ember.get(this,"isReverseOrder")||this._autoScrollToBottomforResponder()},_publishTimerEvent:function(e){if(e.data){var t=e.data.timer_running?"ticket.startTimer":"ticket.stopTimer";Ember.get(this,"marketplace").publishEvent({event:t,data:e.data})}},_pushDataToStore:function(e){if(e.data){var t=Ember.get(this,"store"),i=t.normalize("time-entry",e.data);t.push(i),this._publishTimerEvent(e)}},_autoScrollToBottomforResponder:function(){var e=Ember.get(this,"currentUser.id"),t=Ember.get(this,"ticket.responderId");Ember.get(this,"queryParams.note")?this._scrollToNote(Ember.get(this,"queryParams.note"),!0):e===t&&this._scrollToNote(Ember.get(this,"ticket.lastConversationId"),!0)},setAsClosedAndSendConversation:function(e,t,i){var s=Ember.get(this,"ticket");return Ember.set(s,"status",t),s.validate().then(this._setAsClosedAndSendConversationCB.bind(this,e,t,i))},_setAsClosedAndSendConversationCB:function(e,i,s,r){var n=r.validations,o=Ember.get(n,"isValid"),a=i===t.default.status.closed||i===t.default.status.resolved;if(o)return this.saveConversation(e,i,s).then(this._redirectInactiveToList.bind(this,a,o));Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.action.sendSetError."+(a?"inactive":"active"))),Ember.set(this,"startTicketValidation",!0),Ember.set(this,"redirectOnPropertyUpdate",a),this.incrementProperty("focusOnError")},_redirectInactiveToList:function(e){var t=this;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e&&Ember.run.later(function(){Ember.get(t,"router").transitionTo("helpdesk.tickets")},2e3)},setStatus:function(e){var t=Ember.get(this,"ticket");return Ember.set(t,"status",e),this.updateProperty()},setStatusAndSendConversation:function(e,t,i){return this.setAsClosedAndSendConversation(e,t,i)},showTrafficCopError:function(){Ember.set(this,"latestConversationId",null),this.send("showError","trafficCop")},_closeTicketCB:function(e,t,i){var s=i.validations;if(Ember.get(s,"isValid"))return Ember.set(t,"skipCloseNotification",e),t.save().then(this._closeTicketCBNestedSuccessCB.bind(this),this._closeTicketCBNestedFailureCB.bind(this));Ember.get(this,"flashMessages").warning({title:Ember.get(this,"i18n").t("ticket.details.closeerror.title"),description:Ember.get(this,"i18n").t("ticket.details.closeerror.description")}),Ember.set(this,"startTicketValidation",!0),this.incrementProperty("focusOnError")},_closeTicketCBNestedSuccessCB:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.closed")),Ember.get(this,"router").transitionTo("helpdesk.tickets.index")},_closeTicketCBNestedFailureCB:function(e){var t=Ember.get(this,"i18n").t("ticket.close.error"),i=Ember.get(e,"errors");Ember.isEmpty(i)||i.forEach(function(e){"status"===e.detail.field&&(t=e.detail.message)}),Ember.get(this,"flashMessages").danger(t)},_updatePropertyCBTktSaveSuccess:function(e){this._ticketPropertiesUpdateSuccess.bind(this)(e)},_updatePropertyCBTktSaveFailure:function(){this._fieldErrorFlashMessage()},findTimeEntries:(0,A.task)(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={per_page:Ember.get(this,"perPage")},e.next=4,Ember.get(this,"ticket").getAllTimeEntries(t);case 4:i=e.sent,Ember.get(this,"store").pushPayload(i),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),appViewEntity:i.default.displayOptions.ticket})});
define("freshdesk/components/module-tickets/ticket-details/conversation/component",["exports","freshdesk/mixins/bubble-action","freshdesk/mixins/manage-lightbox","freshdesk/mixins/tickets/collapsible-email","freshdesk/mixins/anchor-link","freshdesk/utils/blank-array","freshdesk/mixins/check-model-modified","freshdesk/mixins/integrations/attachment-apps","ember-local-storage","freshdesk/utils/camelcase-to-underscore"],function(e,t,i,o,n,r,s,a,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=["albumName:data-album"];e.default=Ember.Component.extend(n.default,t.default,i.default,o.default,a.default,s.default,{navigationAlert:Ember.inject.service("navigation-alert"),store:Ember.inject.service(),ajax:Ember.inject.service(),heap:Ember.inject.service(),currentUser:Ember.inject.service(),currentAccount:Ember.inject.service(),i18n:Ember.inject.service(),flashMessages:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__ticket-details__conversation"],collapsedWidthOffset:.58,quickReply:!1,attributeBindings:m,defaultClass:"ticket-details__item",classNameBindings:["defaultClass","isEditing:ticket-details__editnote","isAgent::ticket-details__requestor","collapseConv:activities-conversation","showPrivateIndicator:ticket-details__privatenote","isBroadcastNote:broadcast-message"],isEditing:!1,enableBtnAction:!1,displayDeleteConversation:!1,displayToLength:1,displayCCLength:1,displayBCCLength:1,displayUndo:!1,undoSendTip:!1,tipSuccess:null,showOnboardingTip:!1,latestConversationId:null,retriesForFirstNote:0,undoneId:null,anchorLinkContainer:".ticket-note-typography a",notQuickReply:Ember.computed.not("quickReply"),isNotArchived:Ember.computed.not("conversation.ticket.archived"),allowRemoveAttachment:Ember.computed.and("notQuickReply","isNotArchived"),showAddToResponse:Ember.computed.and("allowAddToResponse","notQuickReply","isNotArchived"),dynamicAttachmentsIds:(0,r.default)(),undoSendCache:(0,c.storageFor)("undosend"),helpdeskName:Ember.computed.reads("currentAccount.helpdeskName"),conversationCategory:Ember.computed.reads("conversation.category"),ccEmails:Ember.computed.reads("conversation.ccEmails"),toEmails:Ember.computed.reads("conversation.toEmails"),bccEmails:Ember.computed.reads("conversation.bccEmails"),conversationId:Ember.computed.readOnly("conversation.id"),isIncoming:Ember.computed.reads("conversation.incoming"),isAgent:Ember.computed.or("conversation.user.{isAgent,deletedAgent}"),surveyList:Ember.computed.reads("conversation.surveyResult.surveyList"),surveyName:Ember.computed.reads("conversation.surveyResult.surveyName"),collapseConv:Ember.computed.reads("isInActivity"),hideNoteEdit:Ember.computed.reads("mkpInterface.controlData.noteEditBtn.hide"),addedAttachments:Ember.computed.setDiff("dynamicAttachmentsIds","attachmentInternalList"),removedAttachments:Ember.computed.setDiff("attachmentInternalList","dynamicAttachmentsIds"),quotedContent:Ember.computed.or("conversation.{hasQuotedText,quotedContent}"),showButton:Ember.computed.and("isNotReplyToForwardConversation","quotedContent"),source:Ember.computed.reads("conversation.sourceType"),category:Ember.computed.readOnly("conversation.categoryType"),isSocial:Ember.computed.reads("conversation.isSocial"),isDirectMessage:Ember.computed.reads("conversation.isDirectMessage"),isPrivate:Ember.computed.reads("conversation.private"),isReplyToForwardConversation:Ember.computed.equal("category","reply_to_forward"),isNotReplyToForwardConversation:Ember.computed.not("isReplyToForwardConversation"),isThirdPartyResponseConversation:Ember.computed.equal("category","third_party_response"),isReplyToForward:Ember.computed.or("isReplyToForwardConversation","isThirdPartyResponseConversation"),EligibleForReplyToForwardAction:Ember.computed.or("isReplyToForward","isForwardConversation"),isNote:Ember.computed.or("conversation.{isNote,isAutomationRule}"),isPrivateNote:Ember.computed.and("isNote","isPrivate","notBroadcastNote"),isBroadcastNote:Ember.computed.equal("conversation.categoryType","broadcast"),notBroadcastNote:Ember.computed.not("isBroadcastNote"),showPrivateIndicator:Ember.computed.and("isPrivate","notBroadcastNote"),showToEmails:Ember.computed.or("isPrivateNote","isPublicNote"),notAnAgent:Ember.computed.not("isAgent"),customerRepliedToFbComment:Ember.computed.and("conversation.replyToFbComment","notAnAgent"),customerDmFromFb:Ember.computed.and("conversation.dmFromFb","notAnAgent"),isSurveyNote:Ember.computed.reads("conversation.isFeedback"),hideActions:Ember.computed.or("quickReply","isInActivity","customerRepliedToFbComment","customerDmFromFb","isBroadcastNote","isSurveyNote","noActions"),actionsList:Ember.computed.or("canSendFacebookReply","displayForward","displayReplyToForward","canEditConversation","canSplitConversation","canDeleteConversation"),noActions:Ember.computed.not("actionsList"),isForwardConversation:Ember.computed.or("conversation.{isForwardEmail,isAutomationRuleForward}"),isAutomatedNote:Ember.computed.or("conversation.{isAutomationRule,isAutomationRuleForward}"),normalAttachments:Ember.computed.reads("conversation.attachments"),cloudAttachments:Ember.computed.alias("conversation.cloudFiles"),attachments:Ember.computed.union("normalAttachments","cloudAttachments"),noteUserIsAgent:Ember.computed.reads("conversation.user.isAgent"),recordingInprogress:Ember.computed.equal("conversation.freshcallerCall.recordingStatus",1),recordingComplete:Ember.computed.equal("conversation.freshcallerCall.recordingStatus",2),isNewConversationWithUndo:Ember.computed.and("latestConversationId","currentUser.preferences.undo_send"),compareNoteId:Ember.computed("conversationId","nerData.note_id",function(){return parseInt(Ember.get(this,"conversationId"))===Ember.get(this,"nerData.note_id")}),isNotified:Ember.computed("showToEmails","toEmails",function(){return Ember.get(this,"showToEmails")&&Ember.get(this,"toEmails").length>0}),showLastEditInfo:Ember.computed("isEditing,conversation.lastEditedUserId,conversation.lastEditedAt",function(){return!Ember.get(this,"isEditing")&&null!=Ember.get(this,"conversation.lastEditedUserId")&&null!=Ember.get(this,"conversation.lastEditedAt")}),attachmentInternalList:Ember.computed.map("conversation.attachments",function(e){return parseInt(Ember.get(e,"id"))}),isPublicNote:Ember.computed("isPrivate",function(){return Ember.get(this,"conversation.isNote")&&!Ember.get(this,"isPrivate")}),canSendFacebookReply:Ember.computed("conversation",function(){return Ember.get(this,"conversation.fbPost.can_comment?")}),albumName:Ember.computed("conversationId",function(){return"note_"+Ember.get(this,"conversationId")}),outgoingFailure:Ember.computed("conversation.{outgoingFailures,sourceType}",function(){var e=Ember.get(this,"conversation.sourceType"),t=Ember.get(this,"conversation.outgoingFailures");return t&&t[e]?Ember.get(this,"i18n").t("ticket.conversation.outgoingFailure"):null}),displayForward:Ember.computed("source,isEditing,isForwardConversation",function(){var e=Ember.get(this,"conversation.isFeedback"),t=Ember.get(this,"isPrivate"),i=Ember.get(this,"isEditing"),o=Ember.get(this,"isForwardConversation"),n=Ember.get(this,"currentUser").hasAbility("forward_ticket");return!i&&!t&&!e&&n&&!o}),displayReplyToForward:Ember.computed("source,isEditing,EligibleForReplyToForwardAction",function(){var e=Ember.get(this,"conversation.isFeedback"),t=Ember.get(this,"isEditing"),i=Ember.get(this,"EligibleForReplyToForwardAction");return!t&&!e&&i}),canEditConversation:Ember.computed("source,isEditing,noteUserIsAgent,isReplyToForwardConversation",function(){var e=Ember.get(this,"currentUser").hasAbility("editNote")||Ember.get(this,"currentUser.id")==Ember.get(this,"conversation.userId"),t=Ember.get(this,"conversation.isNote"),i=Ember.get(this,"isEditing"),o=Ember.get(this,"noteUserIsAgent"),n=Ember.get(this,"isReplyToForwardConversation");return!i&&e&&t&&o&&!n}),canDeleteConversation:Ember.computed(function(){var e=Ember.get(this,"isEditing"),t=Ember.get(this,"currentUser").hasAbility("edit_conversation");return Ember.get(this,"noteUserIsAgent")&&!e&&t}),canSplitConversation:Ember.computed("source,conversation,isEditing",function(){var e=Ember.get(this,"conversation.isFeedback"),t=Ember.get(this,"currentUser").hasAbility("merge_or_split_ticket"),i=Ember.get(this,"conversation.incoming"),o=Ember.get(this,"isEditing"),n=!Ember.get(this,"noteUserIsAgent"),r=Ember.get(this,"isPrivate"),s=n||Ember.get(this,"conversation.ticket.requesterId")==Ember.get(this,"conversation.userId"),a=!Ember.get(this,"conversation.fbPost")||Ember.get(this,"canSendFacebookReply"),c=!Ember.get(this,"conversation.user.blocked");return!o&&!e&&c&&t&&i&&(!r||n)&&s&&a}),conversationIcon:Ember.computed("isPrivate","isSocial","isDirectMessage",function(){var e=Ember.get(this,"isPrivate"),t=Ember.get(this,"isSocial"),i=Ember.get(this,"isDirectMessage"),o=Ember.get(this,"notBroadcastNote");if(t&&!i){return Ember.get(this,"conversation.replyToFbComment")?"replytocomment":"comment"}return e&&o?"lock-fill":null}),statusString:Ember.computed("conversation",function(){if(Ember.get(this,"isBroadcastNote"))return Ember.get(this,"i18n").t("tickets.ticket_associations.link_tickets.broadcasted_message.added");var e={email:"email-reply",forward_email:"email-forward",automation_rule_forward:"email-forward",facebook:"social-reply",twitter:"social-reply",ecommerce:"social-reply",feedback:"feedback",mobihelp:"mobihelp",mobihelp_app_review:"app-review",canned_form:"canned-form"},t=Ember.get(this,"conversation.sourceType"),i=Ember.get(this,"isNote")?this.getActionForNote():e[t],o="tickets.conversations.action."+i;return Ember.get(this,"i18n").t(o)}),conversationShortInfo:Ember.computed("conversation.surveyResult.agent","isPublicNote","surveyName",function(){if(Ember.get(this,"conversation.isFeedback")){var e=Ember.get(this,"conversation.surveyResult.agent.name");return void 0!==e?"Survey response for "+Ember.get(this,"surveyName")+" to "+e:"Survey response for "+Ember.get(this,"surveyName")}}),performedBySystem:Ember.computed("conversation","isAutomatedNote",function(){var e=Ember.get(this,"conversation.userId");return Ember.isEmpty(e)&&Ember.get(this,"isAutomatedNote")}),didRender:function(){this._super.apply(this,arguments),Ember.get(this,"isEditing")||(this.removeInlineImages(),this.addInlineImages())},didInsertElement:function(){this._super.apply(this,arguments),this.sanitizeAnchors()},init:function(){this._super.apply(this,arguments),this.newConversationUndo()},actions:{onInsertAttachment:function(e){Ember.set(this,"dynamicAttachmentsIds",e)},attachToResponse:function(e){Ember.get(this,"attachToResponse")(e)},initiateSplitTicket:function(e){this.bubbleAction("initiateSplitTicket",e)},initiateForwardNote:function(e){this.bubbleAction("initiateForwardNote",e)},initiateReplyToForwardNote:function(e){this.bubbleAction("initiateReplyToForwardNote",e)},initiateDelete:function(){this.toggleProperty("displayDeleteConversation")},delete:function(){var e=this._deleteSuccess.bind(this),t=this._deleteFailue.bind(this);Ember.get(this,"conversation").destroyRecord().then(e).catch(t)},removeAttachment:function(e){var t=Ember.get(this,"conversation"),i={parentObj:t,attachment:e};this.bubbleAction("removeAttachment",i)},initiateEdit:function(){Ember.get(this,"navAlertFeatureOn")&&this.initNavAlertRelatedAttrsInComponent(Ember.get(this,"conversation.content")),this.send("doToggleSet")},noteUpdate:function(){var e=this,t=Ember.get(this,"conversation");this.setCloudFiles(t);var i=Ember.get(this,"addedAttachments"),o=Ember.get(this,"removedAttachments"),n=Ember.get(this,"store"),r=[];if(o.length>0&&o.forEach(function(e){var t=n.peekRecord("attachment",e);r.push(t.destroyRecord())}),Ember.setProperties(t,{attachmentIds:i}),Ember.get(t,"inlineAttachmentIds")&&Ember.set(t,"inline_attachment_ids",Ember.get(t,"inlineAttachmentIds")),Ember.get(t,"hasDirtyAttributes"))if(r.length){var s=Ember.RSVP.Promise.all(r);s.then(function(){t.save().then(e._noteUpdateCB.bind(e))})}else t.save().then(this._noteUpdateCB.bind(this))},discard:function(){Ember.get(this,"conversation").rollbackAttributes(),this.clearCloudAttachments(),this.send("doToggleSet")},contentChanged:function(e,t){Ember.set(this,"conversation.body",e),Ember.set(this,"enableBtnAction",!0),Ember.get(this,"navAlertFeatureOn")&&this.setNavAlertOnChange(Ember.get(this,"conversation"),t)},doToggleSet:function(){this.toggleProperty("isEditing")},replyToFacebookComment:function(e){this.attrs.replyToFacebookComment(e)},undoSend:function(){var e=Ember.get(this,"conversation"),t={created_at:e.data.createdAt};Ember.get(this,"heap").track("Undo send clicked");var i=this._openReplyEditor.bind(this),o=this._undoErrorFunction.bind(this);Ember.get(this,"ticket").undoSend(t).then(i).catch(o)},tipsPrimary:function(){var e=this._tipSuccessFunction.bind(this),t=this._tipFailureFunction.bind(this);Ember.get(this,"ajax").request("api/_/agents/enable_undo_send",{method:"POST"}).then(e).catch(t)}},_tipSuccessFunction:function(){var e=Ember.get(this,"currentUser.id");null!=Ember.get(this,"store").peekRecord("agent",e)&&Ember.set(this,"currentUser.preferences.undo_send",!0),Ember.get(this,"heap").track("Undo enabled from suggestion"),Ember.set(this,"tipSuccess",!0)},_tipFailureFunction:function(){Ember.set(this,"tipSuccess",!1)},_undoErrorFunction:function(e){var t="403"==e.errors[0].status?Ember.get(this,"i18n").t("tickets.undo-send.noaccess"):Ember.get(this,"i18n").t("tickets.undo-send.failure");Ember.get(this,"flashMessages").danger(t)},_openReplyEditor:function(){var e=Ember.get(this,"conversation"),t=Ember.get(this,"store").peekRecord("conversation",e.id);null!=t&&t.unloadRecord(),this.sendAction("setUndoneNote",Ember.get(this,"undoSendLocalNote")),Ember.set(this,"conversation",null),this.sendAction("showAction","reply",{isTrusted:!0},null)},getActionForNote:function(){return Ember.get(this,"isReplyToForwardConversation")?"reply-to-forward":Ember.get(this,"isPrivateNote")?"private-note":"public-note"},click:function(e){"img"===e.target.nodeName.toLowerCase()&&e.target.classList.contains("inline-image")&&this.openInlineImage(e.target.src),Ember.get(this,"isInActivity")&&!e.target.classList.contains("email-failure-count")&&this.toggleProperty("collapseConv")},_deleteSuccess:function(){this.sendAction("onConversationDelete"),this.removeAlbum(),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.conversation.delete.success"))},_deleteFailue:function(e){Ember.get(this,"flashMessages").danger({title:Ember.get(this,"i18n").t("ticket.conversation.delete.error"),description:e.message})},_noteUpdateCB:function(){Ember.get(this,"conversation.inlineAttachmentIds")&&Ember.set(this,"conversation.inlineAttachmentIds",[]),Ember.get(this,"navigationAlert").resetAllValuesForComponent(Ember.get(this,"navigationObjectId")),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.conversation.update.success")),this.send("doToggleSet"),this.clearCloudAttachments()},_setNoteId:function(){var e=this._setNoteIdSuccess.bind(this),t=this._setNoteIdError.bind(this),i=Ember.get(this,"undoneId");Ember.get(this,"ticket").getConversations((0,d.default)({sinceId:i,orderType:"desc",perPage:50,include:"requester"})).then(e).catch(t)},_setNoteIdSuccess:function(e){if(e.conversations&&e.conversations[0]){var t=Ember.get(this,"conversation");this.isDestroyed||this.isDestroying||(Ember.set(this,"ticket.lastConversationId",e.conversations[0].id),Ember.set(this,"latestConversationId",null)),null!=t&&t.unloadRecord(),Ember.get(this,"store").pushPayload(e)}},_setNoteIdError:function(){this.incrementProperty("retriesForFirstNote"),Ember.get(this,"retriesForFirstNote")<3&&this._setNoteId()},newConversationUndo:function(){var e=this;Ember.get(this,"isNewConversationWithUndo")&&(Ember.get(this,"conversationCategory")||(Ember.run.later(function(){Ember.get(e,"conversation")&&e._setNoteId()},23e3),Ember.run.later(function(){Ember.get(e,"ticket").reload()},2e4),this.toggleProperty("displayUndo"),Ember.set(this,"conversation.hasQuotedText",!1),Ember.run.later(function(){e.isDestroyed||e.isDestroying||Ember.get(e,"conversation")&&e.toggleProperty("displayUndo")},1e4))),Ember.get(this,"undoSendTip")&&null!=Ember.get(this,"latestConversationId")&&(this.toggleProperty("showOnboardingTip"),this.sendAction("tipDone"))}})});
define("freshdesk/components/module-tickets/ticket-details/conversation/quoted-content/component",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({classNames:["__module-tickets__ticket-details__conversation__quoted-content"],toggleState:!1,showQuotedText:Ember.computed.and("toggleState","noError"),quotedText:Ember.computed.reads("conversation.quotedContent"),noError:Ember.computed("quotedText",function(){return"error"!=Ember.get(this,"quotedText")}),quotedTextHint:Ember.computed("showQuotedText",function(){return Ember.get(this,"showQuotedText")?"hint.quoted.hidetext":"hint.quoted.showtext"}),actions:{showQuotedText:function(){this.toggleProperty("toggleState")}}})});
define("freshdesk/components/module-tickets/ticket-details/conversation/quoted-content/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"SZxN8Lmf",block:'{"symbols":[],"statements":[[6,"span"],[10,"aria-label",[25,"t",[[20,["quotedTextHint"]]],null],null],[9,"class","hint--rounded hint--top mt-12"],[7],[0,"\\n  "],[6,"button"],[9,"data-test-id","enable-disable-quoted-btn"],[9,"class","fr-quoted-marker"],[3,"action",[[19,0,[]],"showQuotedText"]],[7],[8],[0,"\\n"],[8],[0,"\\n"],[4,"if",[[20,["showQuotedText"]]],null,{"statements":[[4,"unless",[[20,["quotedText"]]],null,{"statements":[[0,"    "],[1,[25,"ui-components/gravity-loader",null,[["isLoading","class"],[true,"very-small-loading"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"div"],[9,"data-test-id","quote-wrapper"],[9,"class","ticket-note-typography"],[7],[0,"\\n    "],[1,[25,"html-safe",[[20,["quotedText"]]],null],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/conversation/quoted-content/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/conversation/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"shtg2U3P",block:'{"symbols":["survey"],"statements":[[6,"div"],[9,"class","ticket-details__item__header conversation-header clearfix"],[10,"data-test-id",[25,"concat",["conversation-",[20,["conversation","id"]]],null],null],[7],[0,"\\n"],[4,"if",[[20,["conversationIcon"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","app-icon-convo-wrap"],[7],[0,"\\n      "],[6,"span"],[9,"data-test-note-icon",""],[10,"class",[26,["app-icon ",[25,"if",[[20,["showPrivateIndicator"]],"app-icon--private"],null]]]],[7],[0,"\\n        "],[1,[25,"svg-jar",[[20,["conversationIcon"]]],[["class"],[[25,"concat",["app-icon ",[25,"if",[[20,["showPrivateIndicator"]],"app-icon--white app-icon--verysmall","app-icon-convo app-icon--small app-icon--topalign"],null]],null]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"div"],[9,"class","tkt-details-avatar"],[7],[0,"\\n"],[4,"if",[[20,["performedBySystem"]]],null,{"statements":[[0,"      "],[6,"figure"],[9,"class","ticket-source-icon-wrap ticket-source-activity"],[7],[0,"\\n        "],[1,[25,"svg-jar",["system-activities"],[["class"],["system-icon app-icon--white"]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"app-components/avatar-user",null,[["user","size","inline"],[[20,["conversation","user"]],"large",true]]],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n  "],[6,"div"],[9,"class","p0"],[7],[0,"\\n    "],[6,"div"],[9,"class","mail-details"],[7],[0,"\\n      "],[6,"div"],[9,"class","text__content conversation-info-text clearfix"],[7],[0,"\\n"],[4,"if",[[20,["performedBySystem"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","user"],[7],[1,[18,"helpdeskName"],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[25,"app-components/contact-popover",null,[["user"],[[20,["conversation","user"]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[6,"span"],[9,"data-test-id","conversation-status"],[9,"class","text--default text--dark pl-3"],[7],[1,[18,"statusString"],false],[8],[0,"\\n"],[4,"if",[[25,"and",[[25,"not",[[20,["displayUndo"]]],null],[25,"not",[[20,["isEditing"]]],null]],null]],null,{"statements":[[0,"          "],[6,"span"],[7],[0,","],[8],[0,"\\n          "],[6,"span"],[9,"class","text-right text--default text--dark pl-3"],[9,"data-test-id","undo-send-date"],[7],[0,"\\n            "],[1,[25,"ui-components/time-ago",null,[["dateTime","displayInFull"],[[20,["conversation","createdAt"]],[25,"not",[[20,["quickReply"]]],null]]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"],[4,"unless",[[20,["showToEmails"]]],null,{"statements":[[4,"if",[[20,["toEmails"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","element-flex mr-3"],[9,"data-test-id","to-emails"],[7],[0,"\\n            "],[6,"span"],[9,"class","text-transform--lowercase text--semibold"],[7],[1,[25,"t",["fd.to"],null],false],[0,":"],[8],[0,"\\n            "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","type","primaryEmailClass"],[[20,["toEmails"]],[20,["displayToLength"]],[25,"t",["fd.to"],null],"display-email--primary"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversation","ticket","isEcommerce"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","text-transform--lowercase text--semibold"],[7],[1,[25,"t",["fd.to"],null],false],[0,":"],[8],[0,"\\n          "],[6,"span"],[9,"class","info-left text--semibold text-transform--lowercase"],[7],[0,"\\n            "],[1,[20,["conversation","ticket","requesterName"]],false],[0,"\\n          "],[8],[0,"\\n        "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[4,"if",[[20,["ccEmails"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","clearfix pull-left mr-3"],[9,"data-test-id","cc-emails"],[7],[0,"\\n          "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","text","type"],[[20,["ccEmails"]],[20,["displayCCLength"]],[25,"t",["fd.cc"],null],[25,"t",["fd.cc"],null]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["bccEmails"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","clearfix pull-left mr-3"],[9,"data-test-id","bcc-emails"],[7],[0,"\\n          "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","text","type"],[[20,["bccEmails"]],[20,["displayBCCLength"]],[25,"t",["fd.bcc"],null],[25,"t",["fd.bcc"],null]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["conversation","emailFailureCount"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/email-failure-count",null,[["emailFailureCount","emailFailureDetails","conversation"],[[20,["conversation","emailFailureCount"]],[20,["emailFailureDetails"]],[20,["conversation"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["outgoingFailure"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","note-failure-message"],[7],[1,[18,"outgoingFailure"],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n    "],[6,"div"],[9,"class","pull-right ticket-details-action-wrapper"],[7],[0,"\\n"],[4,"if",[[20,["conversation","ticket","isActionable"]]],null,{"statements":[[4,"if",[[25,"and",[[25,"not",[[20,["hideActions"]]],null],[25,"not",[[20,["displayUndo"]]],null]],null]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","ticket-actions-container"],[7],[0,"\\n"],[4,"if",[[20,["canSendFacebookReply"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","reply"],[10,"onClick",[25,"action",[[19,0,[]],"replyToFacebookComment"],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["tickets.action.reply_to_forward"],null],null],[9,"role","button"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["reply"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["displayForward"]],[25,"not",[[20,["hideForwardOption"]]],null]],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","forward"],[10,"onClick",[25,"action",[[19,0,[]],"initiateForwardNote",[20,["conversation"]]],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["tickets.action.forward"],null],null],[9,"data-test-conversation-actions","forward"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["forward"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["displayReplyToForward"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","reply_to_forward"],[10,"onClick",[25,"action",[[19,0,[]],"initiateReplyToForwardNote",[20,["conversation"]]],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["tickets.action.reply_to_forward"],null],null],[9,"data-test-conversation-actions","reply"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["reply"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["canEditConversation"]],[25,"not",[[20,["hideNoteEdit"]]],null]],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","edit"],[10,"onClick",[25,"action",[[19,0,[]],"initiateEdit",[20,["conversation"]]],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["fd.edit"],null],null],[9,"data-test-conversation-actions","edit"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["edit-new"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["canSplitConversation"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","split"],[10,"onClick",[25,"action",[[19,0,[]],"initiateSplitTicket",[20,["conversation"]]],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["tickets.action.split_ticket"],null],null],[9,"data-test-conversation-actions","reply"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["split"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["canDeleteConversation"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","ticket-actions"],[9,"data-test-conversation-actions","delete"],[10,"onClick",[25,"action",[[19,0,[]],"initiateDelete"],null],null],[7],[0,"\\n                "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["fd.delete"],null],null],[9,"data-test-conversation-actions","reply"],[7],[0,"\\n                  "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["displayUndo"]],[20,["displayUndoButton"]]],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","undo-send"],[9,"data-test-id","undo-option"],[7],[0,"\\n          "],[6,"span"],[9,"class","undo-send__reply"],[7],[1,[25,"t",["tickets.reply.successmessage"],null],false],[0,"."],[8],[0,"\\n          "],[6,"span"],[9,"class","undo-send__button"],[7],[0,"\\n            "],[6,"button"],[9,"type","button"],[9,"data-test-id","undo-button"],[10,"onclick",[25,"action",[[19,0,[]],"undoSend"],null],null],[7],[1,[25,"t",["tickets.reply.undosend"],null],false],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n\\n"],[4,"if",[[20,["isNotified"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","conversation-info text__infotext"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","text","type","onContainerResize","onContainerDestroy"],[[20,["toEmails"]],[20,["displayToLength"]],[25,"t",["fd.notifiedto"],null],[25,"t",["fd.to"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["ticketDetailsHeight"]]],null]],[["value"],["height"]]],[25,"action",[[19,0,[]],[25,"mut",[[20,["ticketDetailsHeight"]]],null],0],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["conversationShortInfo"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","conversation-info text--default text--dark"],[10,"data-test-id",[26,["conversation-short-info-",[20,["conversation","id"]]]]],[7],[0,"\\n        "],[1,[18,"conversationShortInfo"],false],[0,"\\n      "],[8],[0,"\\n    "]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[20,["showLastEditInfo"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","secondary-info text--default text--dark pl-16"],[7],[0,"\\n        "],[1,[25,"t",["tickets.conversation.last-edit-info"],null],false],[0,"\\n        "],[1,[25,"app-components/user-link",null,[["user"],[[20,["conversation","lastEditedUser"]]]]],false],[0,",\\n        "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["conversation","lastEditedAt"]]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","ticket-details__item__content"],[7],[0,"\\n  "],[6,"div"],[10,"class",[25,"if",[[20,["conversationIcon"]],"convo-with-icon"],null],null],[7],[0,"\\n    "],[6,"div"],[10,"class",[26,["text__content ",[25,"if",[[20,["collapseConv"]],"conversation-collapse"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","text-content-wrapper"],[7],[0,"\\n"],[4,"if",[[20,["isSurveyNote"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","text__content"],[7],[0,"\\n"],[4,"each",[[20,["surveyList"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","survey-holder"],[7],[0,"\\n                "],[6,"div"],[9,"class","survey-holder_title title-small"],[9,"data-test-survey-label",""],[7],[1,[19,1,["label"]],false],[8],[0,"\\n                "],[6,"div"],[9,"class","survey-holder_status text--xsmall"],[9,"data-test-survey-result",""],[7],[0,"\\n                  "],[6,"div"],[10,"class",[26,["survey-holder_feelIcon ",[19,1,["spec","className"]]]]],[7],[8],[0,"\\n                  "],[1,[25,"html-safe",[[19,1,["value"]]],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[1]},null],[4,"if",[[20,["conversation","bodyText"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","survey-comments"],[9,"data-test-survey-comments",""],[7],[0,"\\n                "],[6,"div"],[9,"class","survey-comments_desc title title-small text--semibold"],[7],[0,"\\n                  "],[1,[25,"t",["conversation.comments"],null],false],[0,"\\n                "],[8],[0,"\\n                "],[1,[25,"html-safe",[[20,["conversation","body"]]],null],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"not",[[20,["isEditing"]]],null]],null,{"statements":[[4,"unless",[[20,["isSurveyNote"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-note-typography"],[9,"data-test-conversation","conversation-text"],[7],[0,"\\n"],[4,"collab-context",null,[["class","data-note-id","openSidebar"],[[25,"concat",["ticket_note ",[25,"if",[[25,"and",[[20,["nerData"]],[20,["compareNoteId"]]],null],"ner-api-active"],null]],null],[20,["conversationId"]],[20,["openCollab"]]]],{"statements":[[4,"if",[[20,["compareNoteId"]]],null,{"statements":[[1,[25,"app-components/beautify-ner",null,[["body","nerData","ticket","apps"],[[20,["conversation","body"]],[20,["nerData"]],[20,["conversation","ticket"]],[20,["installedApps"]]]]],false]],"parameters":[]},{"statements":[[1,[25,"html-safe",[[20,["conversation","emailContent"]]],null],false]],"parameters":[]}]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showButton"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/conversation/quoted-content",null,[["conversation"],[[20,["conversation"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showOnboardingTip"]]],null,{"statements":[[0,"          "],[1,[25,"ui-components/fresh-tips",null,[["icon","title","body","primaryText","tipsPrimary","tipSuccess","secondaryText","position","exitPosition","successText","successTextSecondary","failureText","failureTextSecondary"],["freshtips-bulb",[25,"t",["fd.onboarding.undosend.successtitle"],null],[25,"t",["fd.onboarding.undosend.successbody"],null],[25,"t",["fd.onboarding.undosend.primarytext"],null],[25,"action",[[19,0,[]],"tipsPrimary"],null],[20,["tipSuccess"]],[25,"t",["fd.onboarding.undosend.secondarytext"],null],"bottom-right","exit-bottom-right",[25,"t",["fd.onboarding.undosend.successtext"],null],[25,"t",["fd.onboarding.undosend.successsecondarytext"],null],[25,"t",["fd.onboarding.undosend.failuretext"],null],[25,"t",["fd.onboarding.undosend.failuresecondarytext"],null]]]],false],[0,"\\n\\n"]],"parameters":[]},null],[0,"\\n"],[4,"unless",[[20,["isEditing"]]],null,{"statements":[[4,"if",[[20,["attachments"]]],null,{"statements":[[0,"            "],[1,[25,"app-components/attachment-thumb",null,[["attachments","cloudAttachments","attachmentsCount","albumName","allowRemove","allowAddToResponse","attachToResponse"],[[20,["conversation","attachments"]],[20,["cloudAttachments"]],[20,["attachments","length"]],[20,["albumName"]],[20,["allowRemoveAttachment"]],[20,["showAddToResponse"]],[25,"action",[[19,0,[]],"attachToResponse"],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["conversation","freshfoneCall"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/phone-recording",null,[["url","playerId"],[[20,["conversation","freshfoneCall","recording","attachment_url"]],[20,["conversation","freshfoneCall","id"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n"],[4,"if",[[20,["conversation","freshcallerCall"]]],null,{"statements":[[4,"if",[[20,["recordingInprogress"]]],null,{"statements":[[0,"      "],[6,"br"],[7],[8],[1,[25,"t",["tickets.conversation.call.recording-inprogress"],null],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["recordingComplete"]]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/ticket-details/phone-recording",null,[["url","playerId"],[[20,["conversation","freshcallerCall","recordingUrl"]],[20,["conversation","freshcallerCall","fcCallId"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["isEditing"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","edit-not-editor"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["update","contentChanged","value","placeholder","externalAttachments","inlineSubmission","autofocus","showFooter","onInsertAttachment","customClass","onSubmitConversation","onEscape","skipFirstSendAction","isValidMkpPlaceholder","cloudAttachments","model","wrapDefaultFont"],[[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"action",[[19,0,[]],"contentChanged"],null],[20,["conversation","body"]],"Add note",[20,["conversation","attachments"]],true,true,true,[25,"action",[[19,0,[]],"onInsertAttachment"],null],"editor-edit-note",[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"action",[[19,0,[]],"checkAndProceedToDiscard"],null],false,true,[20,["cloudAttachments"]],[20,["conversation"]],true]],{"statements":[[0,"        "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n          "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"checkAndProceedToDiscard"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n          "],[1,[25,"async-button",null,[["action","default","pending","class"],[[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"t",["form.update"],null],[25,"t",["form.updating"],null],"btn btn--primary"]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n\\n"],[4,"if",[[20,["displayDeleteConversation"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["conversation.delete.title"],null],[25,"t",["conversation.delete.savelabel"],null],[25,"action",[[19,0,[]],"delete"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["displayDeleteConversation"]]],null]],null]]],{"statements":[[0,"    "],[1,[25,"t",["conversation.delete.message"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/conversation/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/description/component",["exports","freshdesk/mixins/bubble-action","freshdesk/mixins/manage-lightbox","freshdesk/mixins/tickets/collapsible-email","freshdesk/constants/ticket","freshdesk/mixins/anchor-link","freshdesk/mixins/tickets/ticket-conversation-send","ember-data"],function(e,t,i,r,c,s,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=["albumName:data-album"],o=n.default.PromiseObject;e.default=Ember.Component.extend(s.default,t.default,i.default,r.default,a.default,{store:Ember.inject.service(),currentUser:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),currentAccount:Ember.inject.service("current-account"),attributeBindings:m,classNames:["requestor-wrap","__module-tickets__ticket-details__description"],collapsedWidthOffset:.58,quickReply:!1,displayToLength:1,displayCCLength:1,anchorLinkContainer:".ticket-note-typography a",isNotArchived:Ember.computed.not("ticket.archived"),notQuickReply:Ember.computed.not("quickReply"),allowRemoveAttachment:Ember.computed.and("notQuickReply","isNotArchived"),showAddToResponse:Ember.computed.and("allowAddToResponse","notQuickReply","isNotArchived"),toEmails:Ember.computed.reads("ticket.toEmails"),ccEmails:Ember.computed.reads("ticket.ccEmails"),createdBy:Ember.computed.reads("ticket.meta.createdAgent"),ticketId:Ember.computed.readOnly("ticket.id"),isActionable:Ember.computed.readOnly("ticket.isActionable"),meta:Ember.computed.reads("ticket.meta"),userAgent:Ember.computed.reads("ticket.meta.userAgent"),isSprout:Ember.computed.reads("currentAccount.isSprout"),recentSurvey:Ember.computed.reads("ticket.surveyResult.recentSurvey"),collapseDesc:Ember.computed.reads("isInActivity"),isOutboundEmail:Ember.computed.equal("ticket.sourceType",c.default.sourceType.outboundEmail),normalAttachments:Ember.computed.reads("ticket.attachments"),cloudAttachments:Ember.computed.reads("ticket.cloudFiles"),attachments:Ember.computed.union("normalAttachments","cloudAttachments"),summaryNote:Ember.computed.reads("ticket.summary.content"),isServiceTask:Ember.computed.equal("ticket.type",c.default.serviceTaskType),albumName:Ember.computed("ticketId",function(){return"ticket_"+Ember.get(this,"ticketId")}),showMoreOptions:Ember.computed("ticketId","isActionable",function(){return!Ember.get(this,"quickReply")&&(Ember.get(this,"currentUser").hasAbility("forward_ticket")||Ember.get(this,"isEditable"))&&Ember.get(this,"ticket.isActionable")}),fromEmail:Ember.computed("toEmails",function(){return Ember.get(this,"toEmails")[0]}),isTracker:Ember.computed("ticketId",function(){return Ember.get(this,"ticket.associationType")===c.default.associationType.tracker}),isParent:Ember.computed("ticketId",function(){return Ember.get(this,"ticket.associationType")===c.default.associationType.parent}),canShowSummary:Ember.computed("ticketId",function(){return Ember.get(this,"currentAccount").hasFeature("ticket_summary")&&!Ember.get(this,"isTracker")&&!Ember.get(this,"isParent")&&!Ember.get(this,"quickReply")}),summaryPromise:Ember.computed("ticketId",function(){if(Ember.get(this,"canShowSummary"))return o.create({promise:Ember.get(this,"ticket").getSummary().then(this.pushToPayload.bind(this))})}),ticketDescription:Ember.computed("ticket.description",function(){var e=this;return Ember.run.later(function(){e.removeInlineImages(),e.addInlineImages()}),Ember.get(this,"ticket.description")}),didInsertElement:function(){this._super.apply(this,arguments),this.sanitizeAnchors()},actions:{removeAttachment:function(e){var t=Ember.get(this,"ticket"),i={parentObj:t,attachment:e};this.bubbleAction("removeAttachment",i)},editTicket:function(){Ember.get(this,"disableEditButtonTd")||this.sendAction("initiateEditPage")},attachToResponse:function(e){Ember.get(this,"attachToResponse")(e)},saveTags:function(e){Ember.get(this,"saveTags")(e)},toggleSummary:function(){this.toggleProperty("summaryEditor")}},pushToPayload:function(e){if(e){var t={};return t.summary=e.ticket_summary,Ember.get(this,"store").pushPayload(t)}},click:function(e){Ember.$(e.target).is("img.inline-image")&&this.openInlineImage(Ember.$(e.target).attr("src")),Ember.get(this,"isInActivity")&&!e.target.classList.contains("email-failure-count")&&this.toggleProperty("collapseDesc")}})});
define("freshdesk/components/module-tickets/ticket-details/description/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"W1Z8SVP8",block:'{"symbols":[],"statements":[[6,"div"],[9,"data-test-id","ticket-description"],[10,"class",[26,["ticket-details__item ",[25,"unless",[[20,["quickReply"]],"ticket-description"],null]," ticket-details__requestor ",[25,"if",[[25,"and",[[20,["collapseDesc"]],[20,["isInActivity"]]],null],"activities-description"],null]]]],[7],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-details__item__header clearfix"],[7],[0,"\\n    "],[6,"div"],[9,"class","tkt-details-avatar"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user","size","inline"],[[20,["ticket","requester"]],"large",true]]],false],[0,"\\n"],[4,"if",[[20,["recentSurvey"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"aria-label",[20,["recentSurvey","value"]],null],[9,"class","ticket-surveyresult-icon hint--rounded hint--right"],[7],[0,"\\n          "],[1,[25,"svg-jar",[[20,["recentSurvey","spec","svgName"]]],[["class"],["app-icon app-icon--medium"]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","desc-info"],[7],[0,"\\n      "],[6,"div"],[9,"class","mail-details"],[7],[0,"\\n        "],[6,"div"],[9,"class","text__content text--default clearfix mb-4"],[7],[0,"\\n          "],[6,"div"],[9,"class","mb-4"],[7],[0,"\\n            "],[1,[25,"app-components/contact-popover",null,[["user","outboundEmail"],[[20,["ticket","userContact"]],[20,["isOutboundEmail"]]]]],false],[0,"\\n"],[4,"if",[[20,["isOutboundEmail"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","text--default text--dark"],[7],[0," "],[1,[25,"t",["ticket.details.description.compose-email"],null],false],[8],[0,"\\n              "],[6,"span"],[9,"class","text--default text--dark"],[7],[1,[20,["ticket","requester","email"]],false],[0,","],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"span"],[9,"class","text--dark text--default"],[7],[1,[18,"ticketSourceText"],false],[0,","],[8],[0,"\\n"]],"parameters":[]}],[0,"            "],[6,"span"],[9,"class","text-right text--dark text--default"],[7],[0,"\\n              "],[1,[25,"ui-components/time-ago",null,[["dateTime","displayInFull"],[[20,["ticket","createdAt"]],[25,"not",[[20,["quickReply"]]],null]]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"],[4,"if",[[25,"and",[[20,["isOutboundEmail"]],[20,["ticket","toEmails"]]],null]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","element-flex"],[7],[0,"\\n              "],[6,"span"],[9,"class","text--dark text--default text-transform--lowercase mr-2"],[7],[0,"\\n                "],[6,"span"],[9,"class"," text--semibold"],[7],[1,[25,"t",["fd.from"],null],false],[0,":"],[8],[0,"\\n                "],[1,[18,"fromEmail"],false],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","element-flex"],[7],[0,"\\n"],[4,"if",[[20,["ticket","toEmails"]]],null,{"statements":[[0,"                "],[6,"span"],[9,"class"," text--dark text--semibold text-transform--lowercase text--default"],[7],[1,[25,"t",["fd.to"],null],false],[0,":"],[8],[0,"\\n                "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","type","primaryEmailClass"],[[20,["ticket","toEmails"]],[20,["displayToLength"]],[25,"t",["fd.to"],null],"display-email--primary"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]}],[4,"if",[[20,["ticket","ticketCcEmails"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","clearfix"],[7],[0,"\\n              "],[1,[25,"module-tickets/ticket-details/emails-info",null,[["emails","displayLength","text","type"],[[20,["ticket","ticketCcEmails"]],[20,["displayCCLength"]],[25,"t",["fd.cc"],null],[25,"t",["fd.cc"],null]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"],[4,"if",[[20,["ticket","emailFailureCount"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/email-failure-count",null,[["emailFailureCount","emailFailureDetails"],[[20,["ticket","emailFailureCount"]],[20,["emailFailureDetails"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["showMoreOptions"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-actions-container"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["ticket","isActionable"]],[20,["isEditable"]],[25,"not",[[20,["hideEditButtonTd"]]],null]],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","ticket-actions"],[10,"onClick",[25,"action",[[19,0,[]],"editTicket"],null],null],[9,"data-test-id","edit_ticket"],[7],[0,"\\n            "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["fd.edit"],null],null],[7],[0,"\\n              "],[1,[25,"svg-jar",["edit-new"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["ticket","isActionable"]],[25,"hasabilities",["forward_ticket"],null],[25,"not",[[20,["hideForwardOption"]]],null]],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","ticket-actions"],[10,"onClick",[25,"action",[[19,0,[]],[20,["showAction"]],"forward","description"],null],null],[7],[0,"\\n            "],[6,"span"],[9,"class","hint--rounded hint--top icon-bounding"],[10,"aria-label",[25,"t",["tickets.action.forward"],null],null],[7],[0,"\\n              "],[1,[25,"svg-jar",["forward"],[["class"],["app-icon app-icon--smallsecondary"]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-details__item__content desc-text ticket-note-typography"],[7],[0,"\\n    "],[6,"div"],[9,"class","text__content"],[7],[0,"\\n      "],[6,"div"],[9,"class","text-content-wrapper"],[7],[0,"\\n        "],[6,"input"],[9,"type","hidden"],[10,"data-collab-convo-id",[20,["ticket","id"]],null],[7],[8],[0,"\\n"],[4,"collab-context",null,[["id","openSidebar"],["ticket_original_request",[20,["openCollab"]]]],{"statements":[[1,[25,"html-safe",[[20,["ticketDescription"]]],null],false]],"parameters":[]},null],[4,"if",[[20,["ticket","socialLink"]]],null,{"statements":[[0,"          "],[6,"span"],[7],[0,"\\n            "],[1,[25,"svg-jar",["newtab"],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n            "],[6,"a"],[10,"href",[20,["ticket","socialLink"]],null],[9,"target","_blank"],[9,"rel","noopener"],[9,"class","text--link"],[7],[0,"\\n              "],[1,[25,"t",[[25,"concat",["ticket.social.viewon.",[20,["ticket","sourceType"]]],null]],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["ticket","freshfoneCall"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/phone-recording",null,[["url","playerId"],[[20,["ticket","freshfoneCall","recording","attachment_url"]],[20,["ticket","freshfoneCall","id"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["attachments"]]],null,{"statements":[[0,"          "],[1,[25,"app-components/attachment-thumb",null,[["attachments","cloudAttachments","attachmentsCount","albumName","allowRemove","allowAddToResponse","attachToResponse"],[[20,["ticket","attachments"]],[20,["cloudAttachments"]],[20,["attachments","length"]],[20,["albumName"]],[20,["allowRemoveAttachment"]],[20,["showAddToResponse"]],[25,"action",[[19,0,[]],"attachToResponse"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["ticket","ticketTopic"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","forum-ticket"],[7],[0,"\\n      "],[6,"div"],[9,"class","forum-ticket_caption text--xsmall text--semibold text--antialias"],[7],[1,[25,"t",["tickets.forum_ticket_caption"],null],false],[0,":"],[8],[0,"\\n"],[4,"if",[[25,"hasabilities",["view_forums"],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","forum-ticket_content text--default"],[7],[0,"\\n"],[4,"link-to",["helpdesk.forums.topics",[20,["ticket","ticketTopic","id"]]],null,{"statements":[[0,"            "],[1,[20,["ticket","ticketTopic","title"]],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"div"],[7],[1,[20,["ticket","ticketTopic","title"]],false],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[25,"hasfeature",["customer_journey"],null],[20,["ticket","articles"]]],null]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/meta-info/seen-articles",null,[["articles","requester"],[[20,["ticket","articles"]],[20,["ticket","requester"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["canShowSummary"]],[25,"not",[[20,["summaryPromise","isPending"]]],null]],null]],null,{"statements":[[4,"if",[[20,["summaryNote"]]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/ticket-details/summary/summary-details",null,[["conversation","isInActivity","ticket","openCollab","allowAddToResponse","attachToResponse","collapseDesc"],[[20,["summaryNote"]],[20,["isInActivity"]],[20,["ticket"]],[20,["openCollab"]],[20,["allowAddToResponse"]],[20,["attachToResponse"]],[20,["collapseDesc"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isActionable"]]],null,{"statements":[[4,"if",[[25,"not",[[20,["summaryEditor"]]],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","add-summary"],[7],[0,"\\n          "],[6,"span"],[9,"class","app-icon app-icon--summary"],[7],[0,"\\n            "],[1,[25,"svg-jar",["summary"],[["class"],["app-icon app-icon--white"]]],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"a"],[9,"role","button"],[9,"class","add-summary-link"],[10,"onclick",[25,"action",[[19,0,[]],"toggleSummary"],null],null],[9,"data-test-id","add-summary"],[7],[0,"\\n            "],[1,[25,"t",["tickets.action.addsummary"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/summary",null,[["ticket","externalAttachments","onEditorFocus","onEditorBlur","toggleSummary"],[[20,["ticket"]],[20,["externalAttachments"]],[25,"action",[[19,0,[]],"onEditorFocus"],null],[25,"action",[[19,0,[]],"onEditorBlur"],null],[25,"action",[[19,0,[]],"toggleSummary"],null]]]],false],[0,"\\n"]],"parameters":[]}],[0,"    "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/description/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/email-failure-count/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"YTG8FJj0",block:'{"symbols":[],"statements":[[6,"span"],[9,"class","pull-left email-failure-status"],[7],[1,[25,"t",["tickets.email-failure.status"],null],false],[8],[0,"\\n"],[6,"a"],[9,"data-test-id","email-failure-count"],[9,"class","email-failure-count pull-left ml-4"],[9,"role","button"],[10,"onclick",[25,"action",[[19,0,[]],[20,["emailFailureDetails"]],[20,["conversation"]]],null],null],[7],[0,"\\n  "],[1,[25,"t",["tickets.email-failure.count-label"],[["count"],[[20,["emailFailureCount"]]]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/email-failure-count/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/email-failure/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({toEmailFailures:Ember.computed.reads("failedEmailsPromise.content.data.to_list"),ccEmailFailures:Ember.computed.reads("failedEmailsPromise.content.data.cc_list"),isFailureDataLoaded:Ember.computed.reads("failedEmailsPromise.isFulfilled"),actions:{unblockRecipient:function(e){var i=Ember.get(this,"ticket"),t={drop_email:e};i.unblockRecipient(t).then(this._unblockRecipientSuccess.bind(this,e)).catch(this._unblockRecipientFail.bind(this))}},_unblockRecipientSuccess:function(e){Ember.get(this,"unblockedEmails").pushObject(e)},_unblockRecipientFail:function(e){Ember.get(this,"flashMessages").danger(e.message)}})});
define("freshdesk/components/module-tickets/ticket-details/email-failure/email-failure-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["__module-tickets__ticket-details__email-failure__email-failure-item"],isUnblockedEmail:Ember.computed("unblockedEmails.[]",function(){return Ember.get(this,"unblockedEmails").includes(Ember.get(this,"failureEmail.email"))}),actions:{showAction:function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.sendAction("showAction",e,t,i),this.sendAction("toggleEmailFailure")}}})});
define("freshdesk/components/module-tickets/ticket-details/email-failure/email-failure-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"5OZ9OX1e",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","error-email"],[7],[0,"\\n  "],[6,"div"],[9,"class","error-email-info"],[7],[0,"\\n    "],[6,"span"],[9,"class","text__infotext email-type"],[7],[1,[18,"emailLabel"],false],[8],[0,"\\n    "],[6,"span"],[9,"class","failure-email pl-5"],[7],[1,[20,["failureEmail","email"]],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","error-email-warning"],[7],[0,"\\n    "],[1,[25,"t",[[25,"concat",["email-failure.",[20,["failureEmail","type"]],".summary_error_text"],null]],null],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","error-email-text text__infotext"],[7],[0,"\\n"],[4,"if",[[25,"or",[[25,"eq",[[20,["failureEmail","type"]],"dropped"],null],[25,"eq",[[20,["failureEmail","type"]],"dropped_unsubscribed"],null]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","col-md-10 p0"],[7],[0,"\\n"],[4,"if",[[25,"hasabilities",["view_admin"],null]],null,{"statements":[[0,"          "],[1,[25,"t",[[25,"concat",["email-failure.",[20,["failureEmail","type"]],".help_text.admin"],null]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[25,"t",[[25,"concat",["email-failure.",[20,["failureEmail","type"]],".help_text.agent"],null]],null],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n      "],[6,"div"],[9,"class","col-md-2 pull-right p0"],[7],[0,"\\n"],[4,"if",[[25,"hasabilities",["view_admin"],null]],null,{"statements":[[4,"if",[[20,["isUnblockedEmail"]]],null,{"statements":[[0,"            "],[6,"button"],[10,"aria-label",[25,"t",["email-failure.unblocked-recipient"],null],null],[9,"class","ml-20 hint--rounded hint--top-left app-icon-btn app-icon-btn--transparent"],[7],[0,"\\n              "],[1,[25,"svg-jar",["save"],[["class"],["unblocked-recipient"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"button"],[10,"aria-label",[25,"t",["email-failure.unblock-recipient"],null],null],[9,"class","ml-20 hint--rounded hint--top-left app-icon-btn app-icon-btn--transparent"],[10,"onclick",[25,"action",[[19,0,[]],[20,["unblockRecipient"]],[20,["failureEmail","email"]]],null],null],[7],[0,"\\n              "],[1,[25,"svg-jar",["email"],[["class"],["unblock-recipient"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"          "],[6,"button"],[10,"aria-label",[25,"t",["email-failure.add-note"],null],null],[9,"class","ml-20 hint--rounded hint--top-left app-icon-btn app-icon-btn--transparent"],[10,"onclick",[25,"action",[[19,0,[]],"showAction","notes",[20,["failureEmail","email"]]],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["addnote"],[["class"],["add-note-admin"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"t",[[25,"concat",["email-failure.",[20,["failureEmail","type"]],".help_text"],null]],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/email-failure/email-failure-item/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/email-failure/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"PYipWx3P",block:'{"symbols":["failureEmail","failureEmail"],"statements":[[4,"app-components/modal-dialog",null,[["close","outSideClick","showModalClose","closeOnEscapse"],[[20,["toggleEmailFailure"]],[20,["toggleEmailFailure"]],true,true]],{"statements":[[0,"  "],[6,"div"],[9,"class","email-failures"],[7],[0,"\\n"],[4,"if",[[20,["isFailureDataLoaded"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","modal-header-email"],[7],[0,"\\n        "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n          "],[1,[25,"svg-jar",["email-failure"],[["class"],["modal-icons app-icon--xlarge"]]],false],[0,"\\n          "],[1,[25,"t",["email-failure.status"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"],[4,"each",[[20,["toEmailFailures"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/email-failure/email-failure-item",null,[["failureEmail","emailLabel","showAction","toggleEmailFailure","unblockRecipient","unblockedEmails"],[[19,2,[]],"To:",[20,["showAction"]],[20,["toggleEmailFailure"]],[25,"action",[[19,0,[]],"unblockRecipient"],null],[20,["unblockedEmails"]]]]],false],[0,"\\n"]],"parameters":[2]},null],[4,"each",[[20,["ccEmailFailures"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/email-failure/email-failure-item",null,[["failureEmail","emailLabel","showAction","toggleEmailFailure","unblockRecipient","unblockedEmails"],[[19,1,[]],"Cc:",[20,["showAction"]],[20,["toggleEmailFailure"]],[25,"action",[[19,0,[]],"unblockRecipient"],null],[20,["unblockedEmails"]]]]],false],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]},{"statements":[[0,"      "],[1,[18,"ui-components/page-loading"],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/email-failure/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/emails-info/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({emailsLength:Ember.computed.readOnly("emails.length"),displayEmails:Ember.computed("displayLength","emails",function(){var e=Ember.get(this,"emails"),t=Ember.get(this,"displayLength");return e.slice(0,t)}),leftEmail:Ember.computed("displayLength","emails",function(){return Ember.get(this,"emailsLength")-Ember.get(this,"displayLength")}),actions:{prevent:function(){return!1},open:function(e){this.closeTimer?(Ember.run.cancel(this.closeTimer),this.closeTimer=null):e.actions.open()},closeLater:function(e){var t=this;this.closeTimer=Ember.run.later(function(){t.closeTimer=null,e.actions.close()},200)}}})});
define("freshdesk/components/module-tickets/ticket-details/emails-info/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"Y8+7IzWG",block:'{"symbols":["email","dd","email"],"statements":[[6,"div"],[9,"class","emails-info text--dark text--default"],[7],[0,"\\n"],[4,"if",[[20,["text"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"class","info-left text--semibold text-transform--lowercase"],[7],[0,"\\n      "],[1,[18,"text"],false],[0,":\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[6,"div"],[9,"class","info-right"],[7],[0,"\\n"],[4,"if",[[20,["leftEmail"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","dropdown app-dropdown-group"],[9,"data-test-id","basic-dropdown-trigger"],[7],[0,"\\n"],[4,"basic-dropdown",null,null,{"statements":[[4,"component",[[19,2,["trigger"]]],[["onMouseDown","onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"prevent"],null],[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"            "],[6,"span"],[9,"class","display_emails"],[9,"data-test-id","display-emails"],[7],[0,"\\n"],[4,"each",[[20,["displayEmails"]]],null,{"statements":[[0,"                "],[6,"span"],[9,"class","display-email"],[7],[1,[19,3,[]],false],[8],[0,"\\n"]],"parameters":[3]},null],[0,"            "],[8],[0,"\\n            "],[6,"span"],[9,"class","display__more"],[9,"data-toggle","dropdown"],[9,"data-test-id","left-emails-count"],[7],[0,"\\n              +"],[1,[18,"leftEmail"],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,2,["content"]]],[["onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"            "],[6,"div"],[9,"class","emails-info__card"],[9,"data-test-id","dropdown-card"],[7],[0,"\\n              "],[6,"div"],[9,"class","email-item"],[7],[0,"\\n                "],[6,"div"],[9,"class","left"],[7],[0,"\\n                  "],[1,[18,"type"],false],[0," :\\n                "],[8],[0,"\\n                "],[6,"div"],[9,"class","right text--dark"],[7],[0,"\\n                  "],[6,"div"],[9,"class","display-email"],[7],[1,[25,"concat-with-comma",[[20,["emails"]]],null],false],[8],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"span"],[9,"class","display_emails"],[9,"data-toggle","dropdown"],[9,"data-test-id","display-emails"],[7],[0,"\\n"],[4,"each",[[20,["displayEmails"]]],null,{"statements":[[0,"          "],[6,"span"],[10,"class",[26,["display-email ",[18,"primaryEmailClass"]]]],[7],[1,[19,1,[]],false],[8],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/emails-info/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/freddy-predicted-fields/component",["exports","freshdesk/constants/ticket"],function(e,t){"use strict";function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({store:Ember.inject.service(),classNames:["freddy-property-prediction"],attributeBindings:["data-test-id"],"data-test-id":"freddy-property-prediction",isBotSuggestedFieldSelected:Ember.computed("botSuggestion.@each.isSelected",function(){return Ember.isEmpty(Ember.get(this,"botSuggestion").filterBy("isSelected",!0))}),actions:{applyFreddyProperty:function(e){var i=this,r=Ember.get(this,"ticket");Ember.get(this,"botSuggestion").forEach(function(e){var s=e.name,n=e.value,d=t.default.freddySuggestedField[s]||s;e.isSelected?i._onFieldSelect(e,r,n,d,s):i._onFieldDeselect(e,r,n,d,s)}),e.actions.close()}},_onFieldSelect:function(e,r,s,n,d){if(t.default.nonTicketFieldSuggestions.includes(d)){var o,c=Ember.get(this,"store").peekRecord(d,s);Ember.setProperties(r,(o={},i(o,n,s),i(o,d,c),o))}else Ember.set(r,n,s)},_onFieldDeselect:function(e,r,s,n,d){var o=r.changedAttributes();if(o[n])if(t.default.nonTicketFieldSuggestions.includes(d)){var c,l=Ember.isPresent(o[n][0])?Ember.get(this,"store").peekRecord(d,o[n][0]):null;Ember.setProperties(r,(c={},i(c,n,o[n][0]),i(c,d,l),c))}else Ember.set(r,n,o[n][0])}})});
define("freshdesk/components/module-tickets/ticket-details/freddy-predicted-fields/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"W0/bhNPU",block:'{"symbols":["dropdown","option"],"statements":[[4,"if",[[20,["botSuggestion"]]],null,{"statements":[[4,"basic-dropdown",null,[["class","renderInPlace"],["freddy-property-prediction",false]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["tabindex","class","data-test-id"],["0","freddy-predicted-property trigger-shortcuts","freddy-predicted-property"]],{"statements":[[0,"      "],[6,"div"],[9,"class","btn-group dropup"],[7],[0,"\\n        "],[6,"button"],[9,"type","button"],[9,"class","freddy-property-suggestions trigger-shortcuts dropdown-toggle actions-btn"],[9,"data-test-id","dropdown-actions-btn"],[7],[0,"\\n          "],[6,"span"],[9,"class","property-dropdown--img dropdown-toggle"],[7],[1,[25,"svg-jar",["freddy-suggestion"],[["class"],["app-icon"]]],false],[8],[0,"\\n          "],[1,[20,["botSuggestion","length"]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown actions-dropdown freddy-property-predict"]],{"statements":[[0,"      "],[6,"ul"],[9,"class","dropdown-menu dropdown-normal app-dropdown"],[7],[0,"\\n        "],[6,"div"],[9,"class","freddy-property-predict--header text--uppercase text--xsmall text--extra-bold"],[7],[0,"\\n          "],[6,"span"],[9,"class","property-dropdown--img"],[7],[1,[25,"svg-jar",["freddy-suggestion"],[["class"],["app-icon"]]],false],[8],[0,"\\n          "],[6,"span"],[9,"class","freddy-property-predict--heading"],[7],[1,[25,"t",["fd.freddy.prediction"],null],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","freddy-property-predict--list"],[7],[0,"\\n"],[4,"each",[[20,["botSuggestion"]]],null,{"statements":[[0,"            "],[6,"li"],[9,"class","dropdown-normal__item suggested-property-field"],[9,"data-test-dropdown","suggested-property-field"],[7],[0,"\\n              "],[1,[25,"ui-form/custom-checkbox",null,[["checked","testId"],[[19,2,["isSelected"]],[25,"concat",["suggested-property-",[19,2,["label"]]],null]]]],false],[0,"\\n              "],[6,"span"],[9,"class","property-field property-field--label text--xsmall"],[7],[1,[19,2,["label"]],false],[8],[0,"\\n              "],[6,"span"],[9,"class","property-field property-field--seperator"],[7],[0,":"],[8],[0,"\\n              "],[6,"span"],[9,"class","property-field property-field--value text--default text--semibold"],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,2,["label"]],"Priority"],null]],null,{"statements":[[0,"                  "],[6,"span"],[10,"class",[26,["tickets__list--",[25,"lowercase",[[19,2,["valueLabel"]]],null]," tickets__list--dropdown"]]],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"                "],[1,[19,2,["valueLabel"]],false],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[2]},null],[0,"        "],[8],[0,"\\n        "],[6,"div"],[9,"class","freddy-property-predict--footer text--right"],[7],[0,"\\n          "],[6,"button"],[9,"class","freddy-property-predict--btn cancel-btn text--extra-bold text--xsmall text--uppercase"],[10,"onclick",[25,"action",[[19,0,[]],[19,1,["actions","close"]]],null],null],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n          "],[6,"button"],[9,"data-test-id","freddy-save-btn"],[10,"class",[26,[[25,"if",[[20,["isBotSuggestedFieldSelected"]],"disabled"],null]," freddy-property-predict--btn save-btn text--extra-bold text--xsmall text--uppercase"]]],[10,"onclick",[25,"action",[[19,0,[]],"applyFreddyProperty",[19,1,[]]],null],null],[7],[1,[25,"t",["fd.apply"],null],false],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/freddy-predicted-fields/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/meta-info/component",["exports","freshdesk/utils/get-icons"],function(e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=window,s=t.UAParser;e.default=Ember.Component.extend({classNameBindings:["defaultClass"],defaultClass:"dropdown app-dropdown-group",visitorOs:Ember.computed.reads("meta.visitorOs"),ipAddress:Ember.computed.reads("meta.ipAddress"),parser:Ember.computed("userAgent",function(){return(new s).setUA(Ember.get(this,"userAgent"))}),browserName:Ember.computed("parser",function(){var e=Ember.get(this,"parser");return this._getNameAndVersion(e.getBrowser())}),browserIcon:Ember.computed("browserName",function(){var e=Ember.get(this,"browserName"),t=this._getName(e);return(0,r.default)(t)===t?"browser":(0,r.default)(t)}),osName:Ember.computed("parser",function(){var e=Ember.get(this,"parser"),r=Ember.get(this,"visitorOs");return r||this._getNameAndVersion(e.getOS())}),osIcon:Ember.computed("osName",function(){var e=Ember.get(this,"osName"),t=this._getName(e);return(0,r.default)(t)===t?"os":(0,r.default)(t)}),location:Ember.computed("meta.location",function(){return Ember.get(this,"meta.location").replace(/,/g,", ")}),referrer:Ember.computed("meta.referrer",function(){var e=Ember.get(this,"meta.referrer").replace(/^.*\/\/[^\/]+/,"").split("/");return"/"+e[1]+"/"+e[2]}),actions:{prevent:function(){return!1},open:function(e){this.closeTimer?(Ember.run.cancel(this.closeTimer),this.closeTimer=null):e.actions.open()},closeLater:function(e){var r=this;this.closeTimer=Ember.run.later(function(){r.closeTimer=null,e.actions.close()},200)}},_getNameAndVersion:function(e){return e.name+" "+e.version},_getName:function(e){return e.split(" ")[0]}})});
define("freshdesk/components/module-tickets/ticket-details/meta-info/seen-articles/component",["exports","freshdesk/helpers/truncate"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({store:Ember.inject.service(),i18n:Ember.inject.service(),currentUser:Ember.inject.service(),classNames:["__module-tickets__ticket-details__meta-info__seen-articles"],classNameBindings:["count:hide-articles","hasArticles:seen-articles"],defaultArticlesDisplay:3,hasArticles:Ember.computed.gt("articles.length",0),count:Ember.computed("articles",function(){var e=0,t=Ember.get(this,"articles");return Ember.get(t,"length")>3&&(e=Ember.get(t,"length")-3),e}),hasViewSol:Ember.computed("currentUser",function(){return Ember.get(this,"currentUser").hasAbility("view_solutions")}),infoMessageTxt:Ember.computed("requester",function(){var e=Ember.get(this,"requester.name"),r=Ember.get(this,"i18n").t("ticket.details.meta-info.seen-articles.msg",{requester:(0,t.truncate)([e,15,!0])});return Ember.String.htmlSafe(r)}),actions:{showAll:function(){Ember.set(this,"count",0)}}})});
define("freshdesk/components/module-tickets/ticket-details/meta-info/seen-articles/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"SeU/epG5",block:'{"symbols":["article","index"],"statements":[[4,"if",[[20,["articles","length"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"data-test-id","seen-articles-info"],[9,"class","article-message text--semibold text--xsmall"],[7],[1,[18,"infoMessageTxt"],false],[8],[0,"\\n"],[4,"each",[[20,["articles"]]],null,{"statements":[[4,"if",[[20,["hasViewSol"]]],null,{"statements":[[0,"      "],[6,"div"],[10,"class",[26,["article-item text--default ",[25,"if",[[25,"gte",[[19,2,[]],[20,["defaultArticlesDisplay"]]],null],"hide-article"],null]]]],[7],[0,"\\n        "],[1,[25,"svg-jar",["solution-item"],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0," "],[6,"a"],[10,"href",[25,"generate-url",["solutions/articles/",[19,1,["id"]]],null],null],[9,"target","_blank"],[7],[1,[19,1,["title"]],false],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[10,"class",[26,["article-item text--default ",[25,"if",[[25,"gte",[[19,2,[]],[20,["defaultArticlesDisplay"]]],null],"hide-article"],null]]]],[7],[0,"\\n        "],[1,[25,"svg-jar",["solution-item"],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0," "],[6,"a"],[10,"href",[26,["/support/solutions/articles/",[19,1,["id"]]]]],[9,"target","_blank"],[7],[1,[19,1,["title"]],false],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[1,2]},null],[4,"if",[[20,["count"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"data-test-articles-more",""],[9,"class","show-more cursor-pointer app--link text--xsmall"],[3,"action",[[19,0,[]],"showAll"]],[7],[0,"\\n      "],[1,[25,"t",["ticket.details.meta-info.seen-articles.more"],[["count"],[[20,["count"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/meta-info/seen-articles/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/meta-info/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"C+w5ycUU",block:'{"symbols":["dd"],"statements":[[6,"div"],[9,"class","meta-info"],[7],[0,"\\n"],[4,"basic-dropdown",null,null,{"statements":[[4,"component",[[19,1,["trigger"]]],[["onMouseDown","onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"prevent"],null],[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"      "],[6,"span"],[9,"data-test-id","meta-tag"],[9,"class","meta-details-trigger text--dark text--xsmall"],[7],[0,"  "],[1,[25,"t",["fd.meta"],null],false],[0,"  "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["onMouseEnter","onMouseLeave"],[[25,"action",[[19,0,[]],"open"],null],[25,"action",[[19,0,[]],"closeLater"],null]]],{"statements":[[0,"      "],[6,"div"],[9,"class","meta-info-dropdown"],[9,"data-test-id","meta-info-dropdown"],[7],[0,"\\n        "],[6,"p"],[7],[0,"\\n          "],[1,[25,"svg-jar",[[20,["browserIcon"]]],[["class","data-test-id"],["app-icon app-icon--small app-icon--topalign app-icon--dark","meta-info-browser-icon"]]],false],[0,"\\n          "],[6,"span"],[9,"class","text__content ml-2"],[7],[1,[18,"browserName"],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"p"],[7],[0,"\\n          "],[1,[25,"svg-jar",[[20,["osIcon"]]],[["class","data-test-id"],["app-icon app-icon--small app-icon--topalign app-icon--dark","meta-info-os-icon"]]],false],[0,"\\n          "],[6,"span"],[9,"class","text__content ml-2"],[7],[1,[18,"osName"],false],[8],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[20,["meta","referrer"]]],null,{"statements":[[0,"          "],[6,"p"],[7],[0,"\\n            "],[1,[25,"svg-jar",["refererurl"],[["class"],["app-icon app-icon--small app-icon--topalign app-icon--dark"]]],false],[0,"\\n            "],[6,"a"],[10,"aria-label",[20,["meta","referrer"]],null],[9,"class","ml-2 hint--rounded hint--bottom-right"],[10,"href",[20,["meta","referrer"]],null],[9,"rel","noopener"],[9,"target","_blank"],[7],[1,[18,"referrer"],false],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ipAddress"]]],null,{"statements":[[0,"          "],[6,"p"],[7],[0,"\\n            "],[1,[25,"svg-jar",["ipaddress"],[["class"],["app-icon app-icon--small app-icon--topalign app-icon--dark"]]],false],[0,"\\n            "],[6,"span"],[9,"class","text__content ml-2"],[7],[1,[18,"ipAddress"],false],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["meta","location"]]],null,{"statements":[[0,"          "],[6,"p"],[7],[0,"\\n            "],[1,[25,"svg-jar",["location"],[["class"],["app-icon app-icon--small app-icon--topalign app-icon--dark"]]],false],[0,"\\n            "],[6,"span"],[9,"class","text__content ml-2"],[7],[1,[18,"location"],false],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/meta-info/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/mini-list/component",["exports","freshdesk/mixins/tickets/ticket-colors","freshdesk/mixins/tickets/ticket-status"],function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,i.default,{store:Ember.inject.service(),tagName:"",isNotActive:Ember.computed.not("ticket.ticketActive"),ticketPriorityBorder:Ember.computed("prioritySelect",function(){return this.priorityBased(Ember.get(this,"ticket.priorityType"))}),ticket:Ember.computed("ticketId",function(){var e=Ember.get(this,"ticketId");return Ember.get(this,"store").peekRecord("ticket",e)}),newTicketCheck:Ember.computed.reads("newTicket","isOutBoundEmail",function(){var e=Ember.get(this,"newTicket"),t=Ember.get(this,"isOutBoundEmail");return e&&!t}),actions:{goToTicket:function(e){Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id),Ember.get(this,"onClickCB")(Ember.get(this,"dropdown"))}}})});
define("freshdesk/components/module-tickets/ticket-details/mini-list/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"YBeVVmqh",block:'{"symbols":[],"statements":[[6,"div"],[10,"onclick",[25,"action",[[19,0,[]],"goToTicket",[20,["ticket"]]],null],null],[10,"data-ticket-id",[20,["ticket","id"]],null],[10,"class",[26,["tickets__list dropdown-recent-ticket__item ",[25,"if",[[25,"eq",[[20,["ticketId"]],[20,["selectedId"]]],null]," dropdown-recent-ticket__item--selected"],null]," row-fluid clearfix ",[25,"if",[[20,["isNotActive"]],"dropdown-recent-ticket__item--inactive-data"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","list-check-wrap"],[7],[0,"\\n    "],[6,"div"],[9,"data-test-id","user-pic"],[9,"class","app-user-photo pull-left"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user","size"],[[20,["ticket","requester"]],"medium"]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","list-content-wrap"],[7],[0,"\\n    "],[6,"div"],[9,"data-test-id","status-line"],[9,"class","ticket-tag-wrap clearfix"],[7],[0,"\\n      "],[1,[25,"app-components/ticket-status",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"data-test-id","subject-line"],[10,"class",[25,"if",[[20,["newTicketCheck"]],"new-ticket"],null],null],[7],[0,"\\n"],[4,"link-to",["helpdesk.tickets.show",[20,["ticket","id"]]],[["class"],["mini-list-subject"]],{"statements":[[0,"        "],[1,[25,"truncate",[[20,["ticket","subject"]],40,true],null],false],[0," "],[6,"span"],[9,"class","text__infotext"],[7],[0," #"],[1,[20,["ticket","id"]],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[6,"span"],[9,"class","list-priority text--verysmall"],[7],[0,"\\n        "],[6,"span"],[10,"class",[18,"ticketPriorityBorder"],null],[7],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"p"],[9,"data-test-id","other-details"],[9,"class","text__content text__infotext"],[7],[0,"\\n      "],[6,"span"],[7],[0,"\\n        "],[1,[25,"svg-jar",[[20,["ticket","sourceIcon"]]],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n        "],[1,[25,"t",["fd.from"],null],false],[0," :"],[6,"span"],[9,"class","text--dark"],[7],[0," "],[1,[20,["ticket","requester","name"]],false],[8],[0,"\\n"],[4,"if",[[20,["ticket","company","name"]]],null,{"statements":[[0,"          ( "],[1,[20,["ticket","company","name"]],false],[0," )\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n      "],[6,"span"],[7],[0,"\\n        "],[1,[25,"app-components/ticket-currentstate-info",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/mini-list/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/phone-recording/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({hifi:Ember.inject.service(),freshcaller:Ember.inject.service(),moment:Ember.inject.service(),soundObject:null,totalDuration:Ember.computed("soundObject",function(){return this.secondsToMinutes(Ember.get(this,"soundObject.duration"))}),initialState:Ember.computed("remainingTime",function(){return"00:00"===Ember.get(this,"remainingTime")&&!Ember.get(this,"soundObject.isPlaying")}),remainingTime:Ember.computed("soundObject.position",function(){var e=Ember.get(this,"soundObject.position"),t=Ember.get(this,"soundObject.duration");return e?this.secondsToMinutes(t-e):"00:00"}),seekStyle:Ember.computed("soundObject.position",function(){return"background-size:"+100*(Ember.get(this,"soundObject.position")-0)/(Ember.get(this,"soundObject.duration")-0)+"% 100%"}),init:function(){this._super.apply(this,arguments)},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"soundObject")&&(Ember.get(this,"soundObject").rewind(Ember.get(this,"soundObject.duration")),Ember.get(this,"soundObject").pause())},actions:{togglePlay:function(){var e=Ember.get(this,"url");Ember.get(this,"soundObject")?this.play():Ember.isPresent(e)&&this.loadSoundObjectFromUrl(e)},seek:function(e){Ember.set(this,"soundObject.position",e.target.value)}},secondsToMinutes:function(e){var t=moment.duration(e,"milliseconds"),n=Math.floor(t.asMinutes()),i=Math.floor(t.asSeconds()-60*n);return n=n<10?"0"+n:n,i=i<10?"0"+i:i,n+":"+i},play:function(){var e=Ember.get(this,"soundObject");this.isDestroyed||(e.isPlaying?e.pause():e.play())},loadSoundObjectFromUrl:function(e){Ember.get(this,"hifi").load(e).then(this._setSoundObject.bind(this)).catch(this._handleSoundLoadError.bind(this))},_setSoundObject:function(e){this.isDestroyed||(Ember.set(this,"soundObject",e.sound),this.play())},_handleSoundLoadError:function(e){throw e}})});
define("freshdesk/components/module-tickets/ticket-details/phone-recording/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"xM+3/I+0",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","phone-audio clearfix"],[7],[0,"\\n  "],[6,"div"],[9,"class","phone-audio__left"],[7],[0,"\\n    "],[6,"div"],[9,"class","btn btn--primary play-button text-center cursor-pointer"],[3,"action",[[19,0,[]],"togglePlay"]],[7],[0,"\\n      "],[1,[25,"svg-jar",[[25,"if",[[20,["soundObject","isPlaying"]],"pause","play"],null]],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["initialState"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","phone-audio__right text__infotext text--dark"],[7],[0,"\\n      "],[1,[25,"t",["tickets.phonerecording"],null],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"class","phone-audio__right"],[7],[0,"\\n      "],[6,"div"],[9,"class","pull-left"],[7],[0,"\\n        "],[6,"input"],[9,"type","range"],[10,"style",[25,"html-safe",[[20,["seekStyle"]]],null],null],[10,"value",[20,["soundObject","_position"]],null],[9,"min","0"],[10,"max",[20,["soundObject","duration"]],null],[10,"oninput",[25,"action",[[19,0,[]],"seek"],null],null],[10,"id",[18,"playerId"],null],[9,"step","1"],[7],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","text-right text__infotext pull-left phone-remaining-time text--xsmall"],[7],[0,"\\n        "],[1,[25,"concat",["- ",[20,["remainingTime"]]],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/phone-recording/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/properties-info/component",["exports","freshdesk/mixins/tickets/ticket-prop-mapping","freshdesk/constants/ticket","ember-in-viewport","freshdesk/mixins/marketplace/interface/ticket-properties-info","freshdesk/mixins/tickets/service-task"],function(e,t,s,i,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(i.default,t.default,r.default,c.default,{moment:Ember.inject.service(),store:Ember.inject.service(),classNames:["ticket-details-title-wrapper","ticket-details__item","__module-tickets__ticket-details__properties-info"],classNameBindings:["isNotActionable:is-not-actionable"],hasSla:Ember.computed.reads("currentAccount.hasSla"),showTicketStatusInfo:Ember.computed.or("ticket.{isActionable,archived}"),statusObject:Ember.computed.reads("ticket.statusChoice"),isNotActionable:Ember.computed.not("ticket.isActionable"),customerFeedBack:Ember.computed.reads("ticket.surveyResult.customerFeedBack"),source:Ember.computed.reads("ticket.sourceType"),isSocial:Ember.computed.reads("ticket.isSocial"),isDirectMessage:Ember.computed.reads("ticket.isDirectMessage"),firstResponse:Ember.computed.notEmpty("ticket.stats.firstRespondedAt"),isServiceTask:Ember.computed.equal("ticket.type",s.default.serviceTaskType),now:Ember.computed(function(){return Ember.get(this,"moment").moment().valueOf()}),showFirstResponse:Ember.computed("ticket.isOutboundEmail","firstResponse",function(){return!Ember.get(this,"ticket.isOutboundEmail")&&!Ember.get(this,"firstResponse")}),statusCopy:Ember.computed("statusUpdate","ticket",function(){return Ember.get(this,"statusObject")}),dueByTime:Ember.computed(function(){return Ember.get(this,"ticket.dueBy")}),ticketSourceIcon:Ember.computed("isSocial","isDirectMessage","ticket.sourceIcon",function(){return Ember.get(this,"isSocial")&&Ember.get(this,"isDirectMessage")?Ember.get(this,"source")+"chat":Ember.get(this,"ticket.sourceIcon")}),ticketStatus:Ember.computed(function(){return Ember.get(this,"ticket.status")}),minDate:Ember.computed(function(){return Ember.get(this,"ticket.frDueBy")||Ember.get(this,"ticket.createdAt")}),minDueDate:Ember.computed("ticket.{frDueBy,dueBy}","firstResponse",function(){return Ember.get(this,"now")<=Ember.get(this,"ticket.frDueBy")&&!Ember.get(this,"firstResponse")?Ember.get(this,"ticket.frDueBy"):Ember.get(this,"ticket.dueBy")}),isClosed:Ember.computed("ticketStatus",function(){return Ember.get(this,"ticket.statusChoice.value")==s.default.status.closed}),isResolved:Ember.computed("ticketStatus",function(){return Ember.get(this,"ticket.statusChoice.value")==s.default.status.resolved}),isClosureStatus:Ember.computed("ticketStatus",function(){return Ember.get(this,"isClosed")||Ember.get(this,"isResolved")}),resolvedOnTime:Ember.computed("ticket.{stats,dueBy}",function(){if(Ember.get(this,"ticket.dueBy"))return Ember.get(this,"ticket.stats.statusUpdatedAt")<=Ember.get(this,"ticket.dueBy")?"resolved_on_time":"resolved_late"}),resolutionStatus:Ember.computed("ticket.{stats,dueBy}",function(){return Ember.get(this,"resolvedOnTime")?Ember.get(this,"resolvedOnTime"):"resolved"}),ticketDueStatus:Ember.computed("ticket.dueBy",function(){return Ember.get(this,"now")<=Ember.get(this,"ticket.dueBy")?"due":"overdue"}),firstResponseStatus:Ember.computed("ticket.frDueBy","firstResponse",function(){return Ember.get(this,"now")<=Ember.get(this,"ticket.frDueBy")&&!Ember.get(this,"firstResponse")?"first_response_due":"tooltip.first_response_due"}),firstResponseOverdue:Ember.computed("ticket.frDueBy",function(){return Ember.get(this,"now")>Ember.get(this,"ticket.frDueBy")}),slaTimeStamp:Ember.computed("ticket.stats",function(){return Ember.get(this,"ticket.stats.value")===s.default.status.pending?Ember.get(this,"ticket.stats.pendingSince"):Ember.get(this,"ticket.stats.statusUpdatedAt")}),closureTimeStamp:Ember.computed("ticket.stats",function(){var e=Ember.get(this,"ticket.stats.value");return e===s.default.status.closed?Ember.get(this,"ticket.stats.closedAt"):e===s.default.status.resolved?Ember.get(this,"ticket.stats.resolvedAt"):Ember.get(this,"ticket.stats.statusUpdatedAt")}),associationType:Ember.computed("ticket.{associationType,type}",function(){var e=Ember.get(this,"ticket.associationType"),t=Ember.get(this,"ticket.type");return t&&"ServiceTask"==t.replace(/ /g,"")?t:e?s.default.ticketAssociations[e]:""}),priorityTypeLower:Ember.computed("ticket.priorityType",function(){return Ember.get(this,"ticket.priorityType")?Ember.get(this,"ticket.priorityType").toLowerCase():""}),viewportOptionsOverride:Ember.on("didInsertElement",function(){Ember.setProperties(this,{viewportSpy:!0,viewportScrollSensitivity:1,viewportTolerance:{top:-20,left:0,bottom:0,right:0}})}),statusChange:Ember.observer("ticket.hasDirtyAttributes",function(){Ember.get(this,"ticket.hasDirtyAttributes")||Ember.set(this,"ticketStatus",Ember.get(this,"ticket.status"))}),actions:{changeDuebyTime:function(e){if(""!==e){var t=Ember.get(this,"moment").moment(e).utc().format();Ember.get(this,"ticket").updateTicket({due_by:t}).then(this._changeDuebyTimeSuccessCB.bind(this),this._changeDuebyTimeFailureCB.bind(this))}},saveTags:function(e){Ember.get(this,"saveTags")(e)}},_changeDuebyTimeSuccessCB:function(e){Ember.get(this,"store").pushPayload(e),Ember.set(this,"dueByTime",Ember.get(this,"ticket.dueBy"))},_changeDuebyTimeFailureCB:function(){this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.duebytime.update.error"))}})});
define("freshdesk/components/module-tickets/ticket-details/properties/component",["exports","freshdesk/mixins/tickets/form","freshdesk/mixins/shortcuts/ticket-details/properties","freshdesk/mixins/marketplace/interface/ticket-properties","freshdesk/constants/component-map/custom-fields","freshdesk/utils/custom-form","freshdesk/constants/ticket-form","freshdesk/constants/ticket"],function(e,t,r,i,s,n,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=["position"],m=["internalGroupId","internalAgentId"],u=Ember.Component.extend(r.default,t.default,i.default,{i18n:Ember.inject.service(),store:Ember.inject.service(),eventSources:Ember.inject.service(),currentAccount:Ember.inject.service(),currentUser:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__ticket-details__properties"],ticket:null,detailsSortPriority:a,scrollOffset:-10,internalGroupAgentFNames:m,mkpInterfacePage:"ticketDetails",detailFields:Ember.computed.filterBy("ticketFields","hiddenInDetails",!1),fields:Ember.computed.sort("detailFields","detailsSortPriority"),isTagHidden:Ember.computed.reads("mkpInterface.controlData.tag.hide"),mkpTagDisabled:Ember.computed.reads("mkpInterface.controlData.tag.disable"),currentStatus:Ember.computed.reads("ticket.status"),suggestedProperty:Ember.computed.mapBy("botSuggestion","name"),hasMultipleCompanies:Ember.computed("ticket.{requester,company}",function(){var e=Ember.get(this,"ticket.requester.otherCompanies");if(e&&e.length>0)return!0;var t=parseInt(Ember.get(this,"ticket.company.id"),10),r=parseInt(Ember.get(this,"ticket.requester.company.id"),10);return!(!t||!r||t===r)}),isTagsDisabled:Ember.computed("mkpTagDisabled","currentUser.abilities",function(){var e=Ember.get(this,"currentUser").hasAbility("edit_ticket_properties");if(e){var t=Ember.get(this,"mkpTagDisabled");return void 0!==t&&t}return!e}),submitDisabled:Ember.computed("ticket.{hasDirtyAttributes,isCustomFieldsChanged}",function(){return!(Ember.get(this,"ticket.hasDirtyAttributes")||Ember.get(this,"ticket.isCustomFieldsChanged"))}),formType:Ember.computed("ticket.type","currentAccount.fsmEnabled",function(){var e=Ember.get(this,"ticket.type");return Ember.get(this,"currentAccount.fsmEnabled")&&e===c.default.serviceTaskType?"displayServiceTask":void 0}),formSchema:Ember.computed("formType",function(){var e=Ember.get(this,"formType");return o.default[e]}),assignToLabel:Ember.computed("formSchema.assignToLabel",function(){var e=Ember.get(this,"formSchema.assignToLabel");return e?Ember.get(this,"i18n").t(e):Ember.get(this,"i18n").t("ticket.assignto")}),customTemplate:Ember.computed("ticket.type","formType",function(){return n.default.renderCustomForm(Ember.get(this,"formType"),Ember.get(this,"ticket.type"))}),priority:Ember.computed("ticket.priority","mkpInterface.controlData.dropDownOptionsUpdated",function(){var e=Ember.get(this,"mkpInterface.controlData.mkpFieldChange");if(e&&e.priority){var t=e.priority,r=Ember.get(this,"ticket.priority");return r&&t.includes(r)?r:null}return Ember.get(this,"ticket.priority")}),groupValue:Ember.computed("ticket.group","allGroups",{get:function(){if(Ember.get(this,"allGroups")&&Ember.get(this,"ticket.group")&&Ember.get(this,"allGroups").findBy("id",Ember.get(Ember.get(this,"ticket.group"),"id")))return Ember.get(this,"ticket.group")},set:function(e,t){return t}}),displaySkillField:Ember.computed("groupValue",function(){var e=Ember.get(this,"groupValue");return Ember.isPresent(e)&&Ember.get(e,"skillBasedRoundRobinEnabled")}),disableSkillField:Ember.computed(function(){return!Ember.get(this,"currentUser").hasAbility("editTicketSkill")}),agentValue:Ember.computed("ticket.responder","allAgents",{get:function(){if(Ember.get(this,"allAgents")&&Ember.get(this,"ticket.responder")&&Ember.get(this,"allAgents").findBy("id",Ember.get(Ember.get(this,"ticket.responder"),"id")))return Ember.get(this,"ticket.responder")},set:function(e,t){return t}}),disabled:Ember.computed("currentUser.abilities","ticket.isActionable",function(){return!(Ember.get(this,"currentUser").hasAbility("edit_ticket_properties")&&Ember.get(this,"ticket.isActionable"))}),hasFeatureSharedOwnership:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("shared_ownership")}),actions:{setAgentAndGroup:function(e,t){this._setAgentAndGroup(e,t,"responderId","groupId")},setInternalAgentAndGroup:function(e,t){Ember.setProperties(this,{selectedinternalGroup:t,selectedinternalAgent:e}),this._setAgentAndGroup(e,t,"internalAgentId","internalGroupId")},setPriority:function(e){var t=this.getAttr("ticket");Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"ticket.priority"),e,"ticket","priority"),Ember.setProperties(t,{priority:e})},onEnterKeyTrigger:function(){document.querySelector(".ticket-properties .async-button").click()},onFieldChange:function(e,t,r){s.customFieldTypes.includes(r)&&Ember.set(this,"ticket.isCustomFieldsChanged",!0),"customFields.cf_fsm_appointment_start_time"===t&&this.computeAppointmentEndTime(e)}},willDestroy:function(){this._super.apply(this,arguments),Ember.get(this,"ticket").rollbackAttributes()},_setAgentAndGroup:function(e,t,r,i){var s={},n=t&&Ember.get(t,"id"),o=e&&Ember.get(e,"contact.id");s[i]=n?parseInt(n):null,s[r]=o?parseInt(o):null;var c=this.getAttr("ticket");"responderId"===r&&"groupId"===i&&(Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"ticket.responderId"),s[r],"ticket",r),Ember.get(this,"eventSources").publishFieldChange(Ember.get(this,"ticket.groupId"),s[i],"ticket",i)),Ember.setProperties(c,s)}});u.reopenClass({positionalParams:["ticket"]}),e.default=u});
define("freshdesk/components/module-tickets/ticket-details/properties/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"NaK/Uy+6",block:'{"symbols":["form","field","field"],"statements":[[6,"div"],[9,"class","ticket-properties-wrapper"],[7],[0,"\\n  "],[6,"div"],[9,"class","requestor-filter"],[7],[0,"\\n    "],[6,"div"],[9,"class","form-wrap--ticket-details"],[7],[0,"\\n"],[4,"if",[[20,["refresh"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/status-cards",null,[["ticket","statusUpdate"],[[20,["ticket"]],[20,["statusUpdate"]]]]],false],[0,"\\n        "],[6,"div"],[9,"class","ticket-sidebar-sticky"],[7],[0,"\\n          "],[6,"div"],[9,"class","text--uppercase sticky-text"],[7],[0,"\\n            "],[1,[25,"t",["tickets.details.properties"],null],false],[0,"\\n\\n"],[0,"\\n            "],[1,[25,"module-tickets/ticket-details/freddy-predicted-fields",null,[["ticket","botSuggestion"],[[20,["ticket"]],[20,["botSuggestion"]]]]],false],[0,"\\n\\n"],[4,"if",[[20,["staleTicketProperties"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n                "],[6,"span"],[9,"class","app-icon-btn ticket-sidebar-sticky__refresh-link"],[10,"onclick",[25,"action",[[19,0,[]],[20,["refreshTicketProperties"]]],null],null],[7],[0,"\\n                  "],[1,[25,"svg-jar",["autorefresh"],[["class"],["app-icon--small ticket-sidebar-sticky__refresh-btn"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["ticketPropertiesRefresh"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n                "],[1,[25,"svg-jar",["autorefresh"],[["class"],["app-icon--normal ticket-sidebar-sticky__refresh-icon"]]],false],[0,"\\n              "],[8],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}],[0,"          "],[8],[0,"\\n          "],[6,"div"],[10,"class",[26,["ticket-sidebar-sticky__refresh-text ",[25,"if",[[20,["ticketPropertiesRefresh"]],"ticket-sidebar-sticky__refresh-updating"],null]]]],[7],[0,"\\n            "],[6,"span"],[9,"class","ticket-sidebar-sticky__refresh-text__update"],[7],[0,"\\n"],[4,"if",[[20,["staleTicketProperties"]]],null,{"statements":[[0,"                "],[1,[25,"t",["ticket.details.ticket_propertied_modified_message"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["ticketPropertiesRefresh"]]],null,{"statements":[[0,"                "],[1,[25,"t",["ticket.details.updating"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["autoRefreshedTime"]]],null,{"statements":[[0,"                "],[1,[25,"t",["ticket.details.updated"],null],false],[0,"\\n              "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[0,"            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[25,"not",[[20,["isTagHidden"]]],null]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","ticket-tags"],[7],[0,"\\n            "],[6,"span"],[9,"class","text--xsmall text--semibold pb-4 element-inline"],[7],[1,[25,"t",["ticket.fields.ticket_tags"],null],false],[8],[0,"\\n            "],[1,[25,"app-components/app-tags/create-tag",null,[["tags","onAddFocus","shouldSaveAuto","disableTags","renderInPlace"],[[20,["ticket","tags"]],false,false,[20,["isTagsDisabled"]],false]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"ui-form/form-for",[[20,["ticket"]],[20,["rules"]]],[["startValidate","focusOnError","scrollOffset","onEnterKeyTrigger","disabled"],[[20,["startTicketValidation"]],[20,["focusOnError"]],[20,["scrollOffset"]],[25,"action",[[19,0,[]],"onEnterKeyTrigger"],null],[20,["disabled"]]]],{"statements":[[4,"if",[[20,["customTemplate"]]],null,{"statements":[[4,"module-tickets/ticket-form/custom-form",null,[["formFields","formType","ticketType"],[[20,["formFields"]],[20,["formType"]],[20,["ticket","type"]]]],{"statements":[[0,"              "],[12,"helpdesk/tickets/ticket-details/ticket-properties-fields",[1,3]],[0,"\\n"]],"parameters":[3]},null]],"parameters":[]},{"statements":[[4,"each",[[20,["formFields"]]],null,{"statements":[[4,"unless",[[19,2,["belongsToSection"]]],null,{"statements":[[0,"                "],[12,"helpdesk/tickets/ticket-details/ticket-properties-fields",[1,2]],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]}]],"parameters":[1]},null]],"parameters":[]},{"statements":[[0,"        "],[1,[18,"ui-components/module-loading"],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","property-submit"],[7],[0,"\\n      "],[1,[25,"async-button",null,[["data-test-id","disableWhen","action","default","pending","fulfilled","class"],["ticket-properties-btn",[20,["submitDisabled"]],[25,"action",[[19,0,[]],[20,["updateProperty"]]],null],[25,"t",["ticket.submit.update"],null],[25,"t",["ticket.submit.updating"],null],[25,"if",[[20,["showSubmitSuccessMessage"]],[25,"t",["ticket.submit.updated"],null]],null],"ticket-details-submit btn btn--primary btn--block"]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":true}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/properties/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/recent-sessions/component",["exports","ember-data"],function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=s.default.PromiseObject;e.default=Ember.Component.extend({isSessionsLoaded:Ember.computed.readOnly("recentSessions.isFulfilled"),isSessionsPending:Ember.computed.readOnly("recentSessions.isPending"),hasSessions:Ember.computed.and("recentSessions.{isFulfilled,sessions.length}"),recentSessions:Ember.computed("ticket",function(){return t.create({promise:Ember.get(this,"ticket").getSessions()})})})});
define("freshdesk/components/module-tickets/ticket-details/recent-sessions/session-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/ticket-details/recent-sessions/session-item/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"nTN2K/yC",block:'{"symbols":[],"statements":[[6,"li"],[9,"class","contacts__widget_feed"],[9,"data-test-list-item","recent-session-item"],[7],[0,"\\n  "],[6,"div"],[9,"class","contacts__activity"],[7],[0,"\\n    "],[1,[25,"svg-jar",["play-button-red"],[["class"],["app-icon app-icon--small contacts__activity__icon"]]],false],[0,"\\n    "],[6,"div"],[9,"class","contacts__ticket"],[7],[0,"\\n      "],[6,"a"],[10,"href",[25,"href-to",["helpdesk.tickets.recent_sessions.show",[20,["session","id"]]],null],null],[9,"target","_blank"],[9,"rel","noopener"],[7],[1,[25,"moment-format",[[20,["session","recorded_on"]],"MMM DD, YYYY, hh:mm A"],null],false],[8],[0,"\\n      "],[6,"div"],[9,"class","contacts__status text--xsmall text--antialias"],[7],[0,"\\n        "],[6,"span"],[9,"class","text__infotext"],[7],[0,"\\n          "],[1,[25,"t",["fd.tickets.session-replay.duration"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[1,[20,["session","duration"]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/recent-sessions/session-item/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/recent-sessions/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"AvU5Pt9T",block:'{"symbols":["session"],"statements":[[6,"div"],[9,"data-test-id","recent-sessions"],[7],[0,"\\n"],[4,"if",[[20,["isSessionsLoaded"]]],null,{"statements":[[4,"if",[[20,["hasSessions"]]],null,{"statements":[[0,"      "],[6,"ul"],[9,"class","contacts__feedlist"],[7],[0,"\\n"],[4,"each",[[20,["recentSessions","content","sessions"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/recent-sessions/session-item",null,[["session"],[[19,1,[]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","text-center"],[7],[1,[25,"t",["fd.nodata"],null],false],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isSessionsPending"]]],null,{"statements":[[0,"    "],[1,[18,"ui-components/part-loading"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",["ticket.details.recent-sessions.loading.error"],null],false],[0,"\\n  "]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/recent-sessions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/requester-widget/component",["exports","ember-cp-validations","freshdesk/constants/component-map/contact-fields","freshdesk/constants/component-map/company-fields","freshdesk/mixins/construct-validation","freshdesk/utils/custom-fields/serialize-data","freshdesk/transforms/date-without-time"],function(e,t,s,i,o,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(o.default,{store:Ember.inject.service(),i18n:Ember.inject.service("i18n"),classNames:["__module-tickets__ticket-details__requester-widget"],showCompanyFields:!1,startValidate:!1,showCompanyError:!1,scrollOffset:-250,hasCompany:Ember.computed.notEmpty("ticket.companyId"),sortedContactWidgetFields:Ember.computed.sort("contactWidgetFields","sortField"),sortedCompanyWidgetFields:Ember.computed.sort("companyWidgetFields","sortField"),requester:Ember.computed("contactFormFields",function(){var e=Ember.get(this,"ticket.requester.content"),t=Ember.get(this,"contactRules");return Ember.set(e,"shouldValidate",{customFields:{}}),e.reopen(t)}),deletedCompany:Ember.computed(function(){return Ember.get(this,"hasCompany")&&!Ember.get(this,"ticket.company.content")}),newCompany:Ember.computed(function(){return Ember.get(this,"store").createRecord("company",{customFields:{}})}),company:Ember.computed(function(){return Ember.get(this,"hasCompany")?Ember.get(this,"ticket.company.content"):Ember.get(this,"newCompany")}),companyModel:Ember.computed("company","companyFormFields",function(){var e=Ember.get(this,"company");if(e){var t=Ember.get(this,"companyRules");return Ember.set(e,"shouldValidate",{customFields:{}}),e.reopen(t)}}),sortField:Ember.computed(function(){return["widgetPosition"]}),defaultContactFields:Ember.computed(function(){return["default_name","default_job_title"]}),defaultCompanyFields:Ember.computed(function(){return["default_name"]}),toggleText:Ember.computed("showCompanyFields",function(){if(Ember.get(this,"showCompanyFields"))return Ember.get(this,"i18n").t("ticket.details.requester-widget.hide-company");var e=Ember.get(this,"hasCompany")?"show-company":"add-company";return Ember.get(this,"i18n").t("ticket.details.requester-widget."+e)}),contactFields:Ember.computed(function(){return Ember.get(this,"store").findAll("contact-field")}),companyFields:Ember.computed(function(){return Ember.get(this,"store").findAll("company-field")}),contactWidgetFields:Ember.computed.filter("contactFields",function(e){var t=Ember.get(this,"defaultContactFields");return!Ember.isEmpty(Ember.get(e,"widgetPosition"))||t.includes(Ember.get(e,"type"))}),companyWidgetFields:Ember.computed.filter("companyFields",function(e){var t=Ember.get(this,"defaultCompanyFields");return!Ember.isEmpty(Ember.get(e,"widgetPosition"))||t.includes(Ember.get(e,"type"))}),contactFormFields:Ember.computed.map("sortedContactWidgetFields",function(e){var t=s.default[Ember.get(e,"type")];return t&&(Ember.set(e,"optionValuePath","value"),"custom-component"===t.type&&(Ember.set(e,"componentName",t.componentName),Ember.set(e,"options",t.options)),"select-field"===t.type?Ember.set(e,"componentType","select-box"):"textarea-field"==t.type?Ember.set(e,"componentType","text-area"):Ember.set(e,"componentType",t.type)),e}),companyFormFields:Ember.computed.map("sortedCompanyWidgetFields",function(e){var t=i.default[Ember.get(e,"type")];return t&&(Ember.set(e,"optionValuePath","value"),"select-field"===t.type?Ember.set(e,"componentType","select-box"):"textarea-field"==t.type?Ember.set(e,"componentType","text-area"):Ember.set(e,"componentType",t.type)),e}),contactRules:Ember.computed("contactFormFields",function(){var e=Ember.get(this,"contactFieldRules");return(0,t.buildValidations)(e)}),contactFieldRules:Ember.computed("contactFormFields",function(){var e=this,t={},s=Ember.get(this,"contactFormFields");return s&&s.forEach(function(s){var i=Ember.get(s,"fieldName");t[i]={validators:e.constructValidations(s,i)}}),t}),companyRules:Ember.computed("companyFormFields",function(){var e=Ember.get(this,"companyFieldRules");return(0,t.buildValidations)(e)}),companyFieldRules:Ember.computed("companyFormFields",function(){var e=this,t={},s=Ember.get(this,"companyFormFields");return s&&s.forEach(function(s){var i=Ember.get(s,"fieldName");t[i]={validators:e.constructValidations(s,i)}}),t}),actions:{submit:function(){if(Ember.get(this,"requester.validations.isValid")){var e=Ember.get(this,"ticket"),t=Ember.get(this,"requester"),s=Ember.get(this,"companyModel"),i=this._fetchFieldsData(Ember.get(this,"sortedContactWidgetFields"),t,["default_email"]),o={},n=!0;if(Ember.get(this,"showCompanyFields")){if(s.validate(),n=Ember.get(this,"company.validations.isValid"),o=this._fetchFieldsData(Ember.get(this,"sortedCompanyWidgetFields"),s,["default_name"]),!Ember.get(this,"hasCompany")){var r=Ember.get(this,"company.name");r?o.name=r:(Ember.setProperties(this,{showCompanyError:!0,companyError:Ember.get(this,"i18n").t("field.mandatory.message")}),n=!1)}}else o={};n&&e.updateRequester({contact:i,company:o}).then(this._handleUpdateRequesterResponse.bind(this,e)).catch(this._handleUpdateRequesterFailure.bind(this))}},errorFieldFocus:function(){},cancel:function(){var e=Ember.get(this,"requester"),t=Ember.get(this,"companyModel");e.rollbackAttributes(),t&&t.rollbackAttributes(),this.sendAction("onClose")},toggleCompanyFields:function(){this.toggleProperty("showCompanyFields")},onChange:function(e){if(Ember.set(this,"showCompanyError",!1),e.isNew){var t=Ember.get(this,"newCompany");Ember.set(t,"name",e.value),this._assignCompany(t),Ember.set(this,"companyHint",Ember.get(this,"i18n").t("ticket.company.association.new"))}else Ember.set(this,"selectedCompany",e),Ember.get(this,"store").findRecord("company",e.id).then(this._assignCompany.bind(this)),Ember.set(this,"companyHint",Ember.get(this,"i18n").t("ticket.company.association"))}},_handleUpdateRequesterResponse:function(e,t){if(Ember.get(this,"store").pushPayload(t.requester),t.requester.company&&!Ember.get(this,"hasCompany")){var s=Ember.get(this,"store").peekRecord("company",t.requester.company.id);Ember.get(this,"store").pushPayload({ticket:{id:e.id,company_id:t.requester.company.id}}),Ember.set(this,"ticket.company.content",s)}this.attrs.reloadRequesterWidget(),this.sendAction("onClose"),this.flashMessages.success(Ember.get(this,"i18n").t("contacts.success.update"))},_handleUpdateRequesterFailure:function(){this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.details.requester-widget.failure"))},_assignCompany:function(e){Ember.set(this,"company",e)},_fetchFieldsData:function(e,t,s){var i={};return e.forEach(function(e){if(!s.includes(Ember.get(e,"type"))){var o=Ember.get(e,"name");if(Ember.get(e,"isDefault")){var a=Ember.get(t,o.camelize());if("renewal_date"===o&&a instanceof Date&&!isNaN(a)){var m=new r.default;i[o]=m.serialize(a)}else i[o]=a}else i.custom_fields||(i.custom_fields={}),i.custom_fields[o]=(0,n.parseCFValueByType)(Ember.get(e,"type"),Ember.get(t,"customFields."+o))}}),i}})});
define("freshdesk/components/module-tickets/ticket-details/requester-widget/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"LdQJh38m",block:'{"symbols":["form","field","option","field"],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[1,[25,"svg-jar",["edit-contact"],[["class"],["modal-icons"]]],false],[0," "],[1,[25,"t",["ticket.details.edit-requester-widget"],null],false],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[9,"class","modal-content show"],[7],[0,"\\n"],[4,"ui-form/form-for",[[20,["requester"]],[20,["contactRules"]]],[["scrollOffset","submit","onValidationFailed"],[[20,["scrollOffset"]],[25,"action",[[19,0,[]],"submit"],null],"errorFieldFocus"]],{"statements":[[4,"each",[[20,["contactFormFields"]]],null,{"statements":[[4,"if",[[25,"eq",[[19,4,["type"]],"default_email"],null]],null,{"statements":[[4,"if",[[20,["requester","email"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","input"],[7],[0,"\\n            "],[6,"div"],[9,"class","requester-widget-disabled-field"],[9,"data-test-field","contact"],[7],[0,"\\n              "],[6,"div"],[9,"class","label-name"],[7],[1,[25,"t",["ticket.requester.email"],null],false],[8],[0,"\\n              "],[6,"span"],[9,"class","text__infotext text--semibold"],[7],[1,[20,["requester","email"]],false],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,4,["name"]],"tags"],null]],null,{"statements":[[0,"        "],[1,[25,"ui-components/multi-select",null,[["renderInPlace","selected","class","closeOnSelect","autofocus","initiallyOpened","loadingMessage","validateTag","showCreate","label","data-test-field"],[true,[20,["requester","tags"]],"input multi-select",true,false,false,"",true,[25,"hasabilities",["create_tags"],null],[25,"t",["contactfields.tags"],null],"contact"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,4,["componentType"]],"custom-component"],null]],null,{"statements":[[0,"        "],[1,[25,"ui-form/custom-component",[[19,4,["fieldName"]]],[["options","model","componentName","form"],[[19,4,["options"]],[20,["requester"]],[19,4,["componentName"]],[19,1,["form"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"component",[[25,"concat",["ui-form/",[19,4,["componentType"]]],null],[19,4,["fieldName"]]],[["model","label","placeholder","options","optionLabelPath","optionValuePath","form"],[[20,["requester"]],[19,4,["label"]],[19,4,["label"]],[19,4,["choices"]],"label",[19,4,["optionValuePath"]],[19,1,["form"]]]]],false],[0,"\\n      "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[4]},null],[4,"unless",[[20,["deletedCompany"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"role","button"],[9,"class","requester-widget-expand text__content text--semibold"],[10,"onclick",[25,"action",[[19,0,[]],"toggleCompanyFields"],null],null],[9,"data-test-id","requester-widget-company"],[7],[0,"\\n        "],[1,[18,"toggleText"],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[20,["showCompanyFields"]]],null,{"statements":[[4,"each",[[20,["companyFormFields"]]],null,{"statements":[[4,"if",[[25,"eq",[[19,2,["type"]],"default_name"],null]],null,{"statements":[[0,"            "],[6,"div"],[10,"class",[26,["input ",[25,"unless",[[20,["hasCompany"]],"required"],null]," ",[25,"if",[[20,["showCompanyError"]],"requester-company-error"],null]]]],[7],[0,"\\n              "],[6,"label"],[9,"class","label-field"],[7],[1,[25,"t",["companyfields.name"],null],false],[8],[0,"\\n"],[4,"if",[[20,["hasCompany"]]],null,{"statements":[[0,"                "],[6,"div"],[9,"class","requester-widget-disabled-field"],[9,"data-test-field","company"],[7],[0,"\\n                  "],[6,"span"],[9,"class","text__infotext text--semibold"],[7],[1,[20,["company","name"]],false],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-form/remote-select-field",null,[["showError","error","form","data-test-id","selected","onchange","fieldType","searchField","url","allowInvalid","hint"],[[20,["showCompanyError"]],[20,["companyError"]],[19,1,["form"]],"requester-company-name",[20,["selectedCompany"]],[25,"action",[[19,0,[]],"onChange"],null],"companies","value","/search/autocomplete/companies",false,[20,["companyHint"]]]],{"statements":[[0,"                  "],[1,[19,3,["value"]],false],[0,"\\n"]],"parameters":[3]},null]],"parameters":[]}],[0,"            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"hasabilities",["manage_companies"],null]],null,{"statements":[[0,"            "],[1,[25,"component",[[25,"concat",["ui-form/",[19,2,["componentType"]]],null],[19,2,["fieldName"]]],[["model","label","placeholder","options","optionLabelPath","optionValuePath","form","data-test-field"],[[20,["companyModel"]],[19,2,["label"]],[19,2,["label"]],[19,2,["choices"]],"label",[19,2,["optionValuePath"]],[19,1,["form"]],"company"]]],false],[0,"\\n          "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[2]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"    "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n      "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[9,"data-test-id","cancel-button"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n        "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n        "],[1,[25,"component",[[19,1,["submit"]]],[["data-test-id"],["submit"]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[1]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/requester-widget/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/status-cards/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/marketplace/interface/ticket-properties-info","freshdesk/mixins/tickets/service-task"],function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(s.default,i.default,{moment:Ember.inject.service(),store:Ember.inject.service(),i18n:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["__module-tickets__ticket-details__status-cards"],blinkText:!1,firstResponseOverdue:Ember.computed.reads("ticket.frDueBy"),resolutionDue:Ember.computed.reads("ticket.dueBy"),minDate:Ember.computed.or("ticket.{frDueBy,createdAt}"),firstResponse:Ember.computed.notEmpty("ticket.stats.firstRespondedAt"),isResolved:Ember.computed.equal("ticketStatusClone.value",t.default.status.resolved),isClosed:Ember.computed.equal("ticketStatusClone.value",t.default.status.closed),isClosureStatus:Ember.computed.or("isResolved","isClosed"),isOpen:Ember.computed.equal("ticketStatusClone.value",t.default.status.open),slaStatus:Ember.computed.reads("ticketStatusClone.stop_sla_timer"),hasSla:Ember.computed.reads("currentAccount.hasSla"),hideFirstResponseDue:Ember.computed("currentAccount.features",function(){return Ember.get(this,"currentAccount").hasFeature("hide_first_response_due")}),ticketStatusClone:Ember.computed("statusUpdate",function(){return Ember.get(this,"ticket.statusChoice")}),ticketStatus:Ember.computed("statusUpdate",function(){if(Ember.get(this,"isResolved")){var e="tickets.sla_status."+Ember.get(this,"resolutionStatus");return Ember.get(this,"i18n").t(e)}return Ember.get(this,"ticket.statusChoice.translatedLabel")}),resolutionStatus:Ember.computed("ticket.{stats,dueBy}",function(){return Ember.get(this,"ticket.stats.statusUpdatedAt")<=Ember.get(this,"ticket.dueBy")?"resolved_on_time":"resolved_late"}),showFirstResponse:Ember.computed("ticket.isOutboundEmail","firstResponse","hideFirstResponseDue",function(){return!(Ember.get(this,"ticket.isOutboundEmail")||Ember.get(this,"firstResponse")||Ember.get(this,"slaStatus")||Ember.get(this,"hideFirstResponseDue"))}),showResolutionDue:Ember.computed("showFirstResponse",function(){return(!Ember.get(this,"showFirstResponse")||Ember.get(this,"isOpen"))&&!Ember.get(this,"slaStatus")}),statusTime:Ember.computed("closureTimeStamp",function(){var e=moment(Ember.get(this,"closureTimeStamp")),t=Ember.get(this,"isClosureStatus");if(e.diff(moment.now(),"days")>=-7)return t?e.fromNow():Ember.get(this,"i18n").t("tickets.sla_status.since.time",{time:e.fromNow()});var s=Ember.get(this,"resolutionStatus"),i=void 0;return i=t?"resolved_on_time"==s?"tickets.sla_status.by.time":"tickets.sla_status.on.time":"tickets.sla_status.since.time",Ember.get(this,"i18n").t(i,{time:e.format("DD MMM YYYY, hh:mm a")})}),closureTimeStamp:Ember.computed("ticket.stats",function(){var e=t.default.status,s=e.closed,i=e.resolved,r=Ember.get(this,"ticket.statusChoice");if(r){var u=r.value;return u===s?Ember.get(this,"ticket.stats.closedAt"):u===i?Ember.get(this,"ticket.stats.resolvedAt"):Ember.get(this,"ticket.stats.statusUpdatedAt")}}),frDueState:Ember.computed("firstResponseOverdue",function(){var e=moment(Ember.get(this,"firstResponseOverdue")).valueOf();return this._getStatus(e)}),resDueState:Ember.computed("resolutionDue",function(){var e=moment(Ember.get(this,"resolutionDue")).valueOf();return this._getStatus(e)}),actions:{changeDuebyTime:function(e){if(""!==e){var t=Ember.get(this,"moment").moment(e).utc().format();return Ember.get(this,"ticket").updateTicket({due_by:t}).then(this._changeDuebyTimeSuccessCB.bind(this),this._changeDuebyTimeFailureCB.bind(this))}}},_getStatus:function(e){var t=Ember.get(this,"moment").moment().valueOf();return t>e-36e5&&t<e?"critical":t>e?"overdue":"safe"},_changeDuebyTimeSuccessCB:function(e){var t=this;return Ember.set(this,"blinkText",!0),Ember.run.later(function(){Ember.set(t,"blinkText",!1)},600),Ember.get(this,"store").pushPayload(e)},_changeDuebyTimeFailureCB:function(){return this.flashMessages.danger(Ember.get(this,"i18n").t("ticket.duebytime.update.error"))}})});
define("freshdesk/components/module-tickets/ticket-details/status-cards/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"l+5uHgE1",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","status-cards-container"],[7],[0,"\\n  "],[6,"p"],[9,"class","text--semibold text--default mb-0"],[9,"data-test-id","ticket-status"],[7],[0,"\\n    "],[1,[18,"ticketStatus"],false],[0,"\\n  "],[8],[0,"\\n"],[4,"unless",[[20,["isOpen"]]],null,{"statements":[[0,"    "],[6,"p"],[9,"class","mb-0 mt-4 text--default"],[9,"data-test-id","closure-timestamp"],[7],[0,"\\n      "],[1,[18,"statusTime"],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["isServiceTask"]],[20,["isOpen"]]],null]],null,{"statements":[[4,"if",[[20,["appointmentEndTime"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","status-card text--default"],[9,"data-test-id","status-card"],[7],[0,"\\n        "],[6,"p"],[10,"class",[25,"concat",["status-title text--semibold text--xsmall ",[20,["appointmentTimeState"]]],null],null],[9,"data-test-id","service-task-title"],[7],[0,"\\n          "],[1,[25,"t",["tickets.details.servicetask.appointment"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"span"],[9,"data-test-id","appointment-time"],[7],[0,"\\n          "],[1,[25,"moment-format",[[20,["appointmentEndTime"]],"by ddd, DD MMM YYYY, hh:mm A"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[20,["hasSla"]],[25,"not",[[20,["isClosureStatus"]]],null]],null]],null,{"statements":[[4,"if",[[20,["showFirstResponse"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","status-card text--default"],[9,"data-test-id","status-card"],[7],[0,"\\n          "],[6,"p"],[10,"class",[25,"concat",["status-title text--semibold text--xsmall ",[20,["frDueState"]]],null],null],[9,"data-test-id","status-title"],[7],[0,"\\n            "],[1,[25,"t",["fd.frdue"],null],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"span"],[9,"data-test-id","first-response-due"],[7],[0,"\\n            "],[1,[25,"moment-format",[[20,["firstResponseOverdue"]],"by ddd, DD MMM YYYY, hh:mm A"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showResolutionDue"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","status-card text--default"],[9,"data-test-id","status-card"],[7],[0,"\\n          "],[6,"p"],[10,"class",[25,"concat",["status-title text--semibold text--xsmall ",[20,["resDueState"]]],null],null],[9,"data-test-id","status-title"],[7],[0,"\\n            "],[6,"span"],[10,"class",[25,"if",[[20,["blinkText"]],"blink-text"],null],null],[7],[1,[25,"t",["fd.resdue"],null],false],[8],[0,"\\n"],[4,"if",[[25,"and",[[25,"hasabilities",["edit_ticket_properties"],null],[25,"not",[[20,["hideTicketDueBy"]]],null],[25,"not",[[20,["ticketStatusClone","stop_sla_timer"]]],null]],null]],null,{"statements":[[4,"app-components/menu-date-picker",null,[["dateSelectAction","defaultDate","positionLeft","minDate","maxDate","renderInPlace"],[[25,"action",[[19,0,[]],"changeDuebyTime"],null],[20,["resolutionDue"]],true,[20,["minDate"]],[20,["maxDate"]],false]],{"statements":[[0,"                "],[6,"span"],[9,"class","date-edit btn--text-transparent"],[7],[0,"\\n                  "],[6,"span"],[10,"class",[26,["text--xsmall ",[25,"if",[[20,["blinkText"]],"blink-text"],null]]]],[9,"data-test-id","edit-button"],[7],[1,[25,"t",["ticket.editduedate"],null],false],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"          "],[8],[0,"\\n          "],[6,"span"],[9,"data-test-id","resolution-due"],[10,"class",[25,"if",[[20,["blinkText"]],"blink-text"],null],null],[7],[0,"\\n            "],[1,[25,"moment-format",[[20,["resolutionDue"]],"by ddd, DD MMM YYYY, hh:mm A"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/status-cards/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/summary/component",["exports","freshdesk/utils/object-filter","freshdesk/mixins/tickets/editor-attachment"],function(t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend(n.default,{store:Ember.inject.service(),eventSources:Ember.inject.service(),classNames:["__module-tickets__ticket-details__summary"],bodyText:Ember.computed.reads("noteModel.body"),hasBodyText:Ember.computed.bool("bodyText.length"),noteModel:Ember.computed(function(){return Ember.Object.create()}),actions:{discardConversation:function(){this.clearAttachments(),this.sendAction("toggleSummary")},sendConversation:function(){var t=Ember.get(this,"noteModel"),n=["body","user_id","attachment_ids","attachments"],s=(0,e.default)(t,n);return this.clearAttachments(),this._sendConversation(s)},onSubmitConversation:function(){document.getElementById("send-and-set").disabled||this.send("sendConversation")},onInsertAttachment:function(t){Ember.get(this,"noteModel")&&Ember.set(this,"noteModel.attachment_ids",t)},contentChanged:function(t){Ember.set(this,"noteModel.body",t)}},_sendConversation:function(t){var e=Ember.get(this,"ticket"),n=this._submitSummaryFailure.bind(this);return Ember.get(e,"inlineAttachmentIds")&&Ember.set(t,"inline_attachment_ids",Ember.get(e,"inlineAttachmentIds")),e.updateSummary(t).then(this._submitSummaryCB.bind(this)).catch(n)},_submitSummaryCB:function(t){Ember.get(this,"ticket.inlineAttachmentIds")&&Ember.set(this,"ticket.inlineAttachmentIds",[]);var e={};return e.summary=t.ticket_summary,Ember.get(this,"store").pushPayload(e),this.sendAction("toggleSummary"),t},_submitSummaryFailure:function(){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.submitfailure"))}})});
define("freshdesk/components/module-tickets/ticket-details/summary/summary-details/component",["exports","freshdesk/mixins/bubble-action","freshdesk/mixins/manage-lightbox","freshdesk/mixins/anchor-link","freshdesk/utils/blank-array"],function(e,t,n,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["albumName:data-album"];e.default=Ember.Component.extend(i.default,t.default,n.default,{store:Ember.inject.service(),classNames:["__module-tickets__ticket-details__summary__summary-details"],attributeBindings:r,classNameBindings:["collapseDesc:activities-description"],isEditing:!1,enableBtnAction:!1,displayDeleteConversation:!1,anchorLinkContainer:".ticket-note-typography a",allowRemoveAttachment:!0,dynamicAttachmentsIds:(0,s.default)(),conversationId:Ember.computed.readOnly("conversation.id"),isAgent:Ember.computed.or("conversation.user.{isAgent,deletedAgent}"),addedAttachments:Ember.computed.setDiff("dynamicAttachmentsIds","attachmentInternalList"),removedAttachments:Ember.computed.setDiff("attachmentInternalList","dynamicAttachmentsIds"),noteUserIsAgent:Ember.computed.reads("conversation.user.isAgent"),showLastEditInfo:Ember.computed("isEditing,conversation.lastEditedUserId,conversation.lastEditedAt",function(){return!Ember.get(this,"isEditing")&&null!=Ember.get(this,"conversation.lastEditedUserId")&&null!=Ember.get(this,"conversation.lastEditedAt")}),attachmentInternalList:Ember.computed.map("conversation.attachments",function(e){return parseInt(Ember.get(e,"id"))}),albumName:Ember.computed("conversationId",function(){return"note_"+Ember.get(this,"conversationId")}),canEditConversation:Ember.computed("isEditing,noteUserIsAgent",function(){var e=Ember.get(this,"currentUser").hasAbility("editNote")||Ember.get(this,"currentUser.id")==Ember.get(this,"conversation.userId"),t=Ember.get(this,"isEditing"),n=Ember.get(this,"noteUserIsAgent");return!t&&e&&n}),canDeleteConversation:Ember.computed(function(){var e=Ember.get(this,"isEditing"),t=Ember.get(this,"currentUser").hasAbility("edit_conversation");return Ember.get(this,"noteUserIsAgent")&&!e&&t}),canPerformAction:Ember.computed("canEditConversation","canDeleteConversation","ticket",function(){return Ember.get(this,"ticket.isActionable")&&(Ember.get(this,"canEditConversation")||Ember.get(this,"canDeleteConversation"))}),didRender:function(){this._super.apply(this,arguments),Ember.get(this,"isEditing")||(this.removeInlineImages(),this.addInlineImages())},didInsertElement:function(){this._super.apply(this,arguments),this.sanitizeAnchors()},actions:{attachToResponse:function(e){Ember.get(this,"attachToResponse")(e)},initiateEdit:function(){this.send("doToggleSet")},initiateDelete:function(){this.toggleProperty("displayDeleteConversation")},doToggleSet:function(){this.toggleProperty("isEditing")},contentChanged:function(e){Ember.set(this,"conversation.body",e),Ember.set(this,"enableBtnAction",!0)},onInsertAttachment:function(e){Ember.set(this,"dynamicAttachmentsIds",e)},removeAttachment:function(e){this.bubbleAction("removeAttachment",e)},noteUpdate:function(){var e=Ember.get(this,"conversation"),t=Ember.get(this,"addedAttachments"),n=Ember.get(this,"removedAttachments"),i=Ember.get(this,"store"),s=[],r=Ember.get(this,"ticket");n.length>0&&n.forEach(function(e){var t=i.peekRecord("attachment",e);s.push(t.destroyRecord())}),Ember.setProperties(e,{attachmentIds:t});var a={body:Ember.get(this,"conversation.body"),attachment_ids:t};if(Ember.get(e,"inlineAttachmentIds")&&Ember.set(a,"inline_attachment_ids",Ember.get(e,"inlineAttachmentIds")),Ember.get(e,"hasDirtyAttributes"))if(s.length){var o=Ember.RSVP.Promise.all(s),c=this._noteUpdateCB.bind(this);o.then(function(){r.updateSummary(a).then(c)})}else Ember.get(this,"ticket").updateSummary(a).then(this._noteUpdateCB.bind(this))},cancel:function(){Ember.get(this,"conversation").rollbackAttributes(),this.send("doToggleSet")},delete:function(){var e=this._deleteSuccess.bind(this),t=this._deleteFailure.bind(this);Ember.get(this,"conversation").unloadRecord(),Ember.get(this,"ticket").deleteSummary().then(e).catch(t)}},click:function(e){"img"===e.target.nodeName.toLowerCase()&&e.target.classList.contains("inline-image")&&this.openInlineImage(e.target.src)},_deleteSuccess:function(){this.removeAlbum(),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("ticket.summary.delete.success"))},_deleteFailure:function(e){Ember.get(this,"flashMessages").danger({title:Ember.get(this,"i18n").t("ticket.summary.delete.error"),description:e.message})},_noteUpdateCB:function(e){Ember.get(this,"conversation.inlineAttachmentIds")&&Ember.set(this,"conversation.inlineAttachmentIds",[]);var t={};t.summary=e.ticket_summary,Ember.get(this,"store").pushPayload(t),this.send("doToggleSet")}})});
define("freshdesk/components/module-tickets/ticket-details/summary/summary-details/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"yGxtctGT",block:'{"symbols":["dropdown"],"statements":[[6,"div"],[9,"class","summary-details"],[7],[0,"\\n  "],[6,"div"],[9,"class","summary-icon"],[7],[0,"\\n    "],[6,"span"],[9,"class","app-icon app-icon--summary"],[7],[0,"\\n      "],[1,[25,"svg-jar",["summary"],[["class","data-test-id"],["app-icon app-icon--white","summary-icon"]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[10,"class",[26,["summary-content ",[25,"if",[[20,["isEditing"]],"edit-summary"],null]]]],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-details__item__header conversation-header clearfix"],[7],[0,"\\n      "],[6,"div"],[9,"class","container p0"],[7],[0,"\\n        "],[6,"div"],[9,"class","col-md-6 pl-0"],[7],[0,"\\n          "],[6,"div"],[9,"class","summary-header"],[7],[1,[25,"t",["tickets.action.summary"],null],false],[8],[0,"\\n          "],[6,"div"],[9,"class","text__content text--small clearfix"],[7],[0,"\\n            "],[6,"span"],[9,"class","text__infotext pull-left"],[7],[1,[25,"t",["tickets.conversations.action.summary"],null],false],[0," "],[8],[0,"\\n            "],[6,"span"],[9,"data-test-id","summary-added-by"],[7],[0,"\\n              "],[1,[25,"app-components/user-link",null,[["user","class"],[[20,["conversation","user"]],"pull-left"]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","col-md-6 ticket-details-action-wrapper"],[7],[0,"\\n"],[4,"if",[[20,["canPerformAction"]]],null,{"statements":[[4,"unless",[[20,["isInActivity"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","ticket-details-action pull-right"],[7],[0,"\\n"],[4,"basic-dropdown",null,[["class","renderInPlace","horizontalPosition"],["app-dropdown-group",true,"right"]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"                    "],[6,"button"],[10,"aria-label",[25,"t",["tickets.more"],null],null],[9,"class","hint--rounded hint--top dropdown-toggle app-icon-btn app-icon-btn--transparent"],[9,"data-test-actions","more-actions"],[7],[0,"\\n                      "],[1,[25,"svg-jar",["more"],[["class"],["app-icon--medium"]]],false],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"                    "],[6,"ul"],[9,"class","dropdown-menu dropdown-normal app-dropdown"],[10,"onclick",[25,"action",[[19,0,[]],[19,1,["actions","close"]]],null],null],[7],[0,"\\n                      "],[6,"li"],[7],[0,"\\n"],[4,"if",[[20,["canEditConversation"]]],null,{"statements":[[0,"                          "],[6,"a"],[9,"role","button"],[9,"data-test-conversation-actions","edit-summary"],[10,"onClick",[25,"action",[[19,0,[]],"initiateEdit",[20,["conversation"]]],null],null],[10,"aria-label",[25,"t",["fd.edit"],null],null],[9,"class","app-dropdown__item"],[7],[0,"\\n                            "],[1,[25,"t",["fd.edit"],null],false],[0,"\\n                          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"                      "],[8],[0,"\\n                      "],[6,"li"],[7],[0,"\\n"],[4,"if",[[20,["canDeleteConversation"]]],null,{"statements":[[0,"                          "],[6,"a"],[9,"role","button"],[9,"data-test-conversation-actions","delete"],[10,"onClick",[25,"action",[[19,0,[]],"initiateDelete"],null],null],[10,"aria-label",[25,"t",["fd.delete"],null],null],[9,"class","app-dropdown__item"],[7],[0,"\\n                            "],[1,[25,"t",["fd.delete"],null],false],[0,"\\n                          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"                      "],[8],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"unless",[[20,["isEditing"]]],null,{"statements":[[0,"            "],[6,"span"],[9,"class","text-right text__infotext"],[7],[0,"\\n              "],[1,[25,"ui-components/time-ago",null,[["dateTime","data-test-id"],[[20,["conversation","createdAt"]],"summary-created-at"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"],[4,"if",[[20,["showLastEditInfo"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","text__infotext secondary-info"],[7],[0,"\\n            "],[1,[25,"t",["tickets.conversation.last-edit-info"],null],false],[0,"\\n            "],[6,"span"],[9,"data-test-id","summary-last-edited-by"],[7],[0,"\\n              "],[1,[25,"app-components/user-link",null,[["user"],[[20,["conversation","lastEditedUser"]]]]],false],[0,"\\n            "],[8],[0,"\\n            "],[1,[25,"ui-components/time-ago",null,[["dateTime","data-test-id"],[[20,["conversation","lastEditedAt"]],"summary-edited-at"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-details__item__content"],[7],[0,"\\n      "],[6,"div"],[9,"class","text__content"],[7],[0,"\\n"],[4,"unless",[[25,"or",[[20,["isEditing"]],[25,"and",[[20,["collapseDesc"]],[20,["isInActivity"]]],null]],null]],null,{"statements":[[0,"          "],[6,"div"],[9,"class","ticket-note-typography"],[9,"data-test-conversation","conversation-text"],[7],[0,"\\n"],[4,"collab-context",null,[["class","data-note-id","openSidebar"],["ticket_note",[20,["conversationId"]],[20,["openCollab"]]]],{"statements":[[1,[25,"html-safe",[[20,["conversation","body"]]],null],false]],"parameters":[]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"],[4,"if",[[20,["isEditing"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","edit-not-editor"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["cancel","update","contentChanged","value","placeholder","externalAttachments","inlineSubmission","autofocus","showFooter","onInsertAttachment","customClass","onSubmitConversation","onEscape","skipFirstSendAction","model"],[[25,"action",[[19,0,[]],"cancel"],null],[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"action",[[19,0,[]],"contentChanged"],null],[20,["conversation","body"]],[25,"t",["summary.add_summary"],null],[20,["conversation","attachments"]],true,true,true,[25,"action",[[19,0,[]],"onInsertAttachment"],null],"editor-edit-note",[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"action",[[19,0,[]],"cancel"],null],false,[20,["conversation"]]]],{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n              "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"cancel"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n              "],[1,[25,"async-button",null,[["action","default","pending","class"],[[25,"action",[[19,0,[]],"noteUpdate"],null],[25,"t",["form.update"],null],[25,"t",["form.updating"],null],"btn btn--primary"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"],[4,"unless",[[25,"or",[[20,["isEditing"]],[25,"and",[[20,["collapseDesc"]],[20,["isInActivity"]]],null]],null]],null,{"statements":[[4,"if",[[20,["conversation","attachments"]]],null,{"statements":[[0,"    "],[1,[25,"app-components/attachment-thumb",null,[["attachments","albumName","allowRemove","allowAddToResponse","attachToResponse"],[[20,["conversation","attachments"]],[20,["albumName"]],[20,["allowRemoveAttachment"]],[20,["allowAddToResponse"]],[25,"action",[[19,0,[]],"attachToResponse"],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["displayDeleteConversation"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["summary.delete.title"],null],[25,"t",["summary.delete.savelabel"],null],[25,"action",[[19,0,[]],"delete"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["displayDeleteConversation"]]],null]],null]]],{"statements":[[0,"    "],[1,[25,"t",["summary.delete.message"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/summary/summary-details/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/summary/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Kl3DeDMV",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","summary fadeIn"],[7],[0,"\\n  "],[6,"span"],[9,"class","app-icon app-icon--summary"],[7],[0,"\\n    "],[1,[25,"svg-jar",["summary"],[["class"],["app-icon app-icon--white"]]],false],[0,"\\n  "],[8],[0," "],[1,[25,"t",["tickets.action.summary"],null],false],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__editor"],[9,"data-test-id","adding-summary"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["placeholder","value","ticket","attachmentValue","onInsertAttachment","onRemoveAttachment","showCannedResponse","showCannedResponseTip","showSolution","showAttachments","isSurveyEnabled","contentChanged","isLoading","autofocus","showFooter","source","skipFirstSendAction","onSubmitConversation","onEscape","model"],["",[20,["bodyText"]],[20,["ticket"]],[20,["computedAttachments"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null],true,true,true,true,false,[25,"action",[[19,0,[]],"contentChanged"],null],false,true,true,"summary",false,[25,"action",[[19,0,[]],"onSubmitConversation"],null],[25,"action",[[19,0,[]],"discardConversation"],null],[20,["ticket"]]]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n        "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","label","pendingLabel","disableSubmit","onSend","data-test-id"],[false,[25,"t",["common.save"],null],[25,"t",["common.saving"],null],[25,"not",[[20,["hasBodyText"]]],null],[25,"action",[[19,0,[]],"sendConversation"],null],"save-summary"]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/summary/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"fBBz8g65",block:'{"symbols":["wrapper","sideBar","app","data","conversation"],"statements":[[4,"page-layout/page-wrapper",null,[["id","contentSidebarEnabled","class"],["ticket-details",[20,["showProprertiesPane"]],"ticket-details content-widget-wrap"]],{"statements":[[4,"component",[[19,1,["content-widget"]]],null,{"statements":[[4,"component",[[19,1,["content-left"]]],[["class"],[[20,["ticketActionableClass"]]]],{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","fetchDataTask","queryParams","placeholderType","appRenderState","renderCallback"],[0,"fetchTicket",[20,["fetchTicket"]],[20,["queryParams"]],"description-card",[20,["appRenderState"]],[25,"action",[[19,0,[]],"ticketFetchCallback"],null]]],{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","appRenderState","asyncRender","loaderRequired"],[2,"ticketBackgroundApps",[20,["appRenderState"]],false,false]],{"statements":[[0,"          "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","context","pageType"],["ticket_background",[20,["ticket","id"]],"ticket"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[25,"module-tickets/ticket-details/top-navigation",null,[["ticket","showAction","closeTicket","showEdit","delete","markAsSpam","merge","showTimeEntryForm","showExecuteSenario","showhideActivity","markUnSpam","restoreTicket","deleteTicketForever","onTicketChange","agentsViewing","agentsReplying","showTicketReply","expandCollab","totalCollabMessages","unreadCollabMessages","scenarioWatchers","isEditable","hideEditButtonTd","hideSpamButtonTd","disableEditButtonTd","initiateEditPage","appRenderState"],[[20,["ticket"]],[25,"action",[[19,0,[]],"showAction"],null],[25,"action",[[19,0,[]],"closeTicket"],null],[25,"action",[[19,0,[]],"showEdit"],null],[25,"action",[[19,0,[]],"delete"],null],[25,"action",[[19,0,[]],"markAsSpam"],null],[25,"action",[[19,0,[]],"merge"],null],[25,"action",[[19,0,[]],"showTimeEntryForm"],null],[25,"action",[[19,0,[]],"toggleProp","showSenarios"],null],[25,"action",[[19,0,[]],"showhideActivity"],null],[25,"action",[[19,0,[]],"markUnSpam"],null],[25,"action",[[19,0,[]],"restoreTicket"],null],[25,"action",[[19,0,[]],"deleteTicketForever"],null],[25,"action",[[19,0,[]],"onTicketChange"],null],[20,["agentsViewing"]],[20,["agentsReplying"]],[20,["showTicketReply"]],"openCollab",[20,["collabMessages"]],[20,["collabUnreadMessages"]],[20,["scenarioWatchers"]],[20,["isEditable"]],[20,["hideEditButtonTd"]],[20,["hideSpamButtonTd"]],[20,["disableEditButtonTd"]],[25,"action",[[19,0,[]],"showEditPage"],null],[20,["appRenderState"]]]]],false],[0,"\\n\\n"],[4,"if",[[20,["isReverseOrder"]]],null,{"statements":[[0,"          "],[6,"div"],[9,"id","scroll-to-bottom"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/auto-refresh/conversation",null,[["ticket","conversationCount","fetchNewConversations"],[[20,["ticket"]],[20,["autoRefreshConversationCount"]],[25,"action",[[19,0,[]],"fetchAndScrollToLatestConversations"],null]]]],false],[0,"\\n\\n        "],[6,"div"],[9,"class","ticket-details-wrapper"],[7],[0,"\\n          "],[6,"div"],[9,"class","ticket-info"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["showSpamAlert"]],[25,"not",[[20,["ticket","spam"]]],null]],null]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","spam-alert"],[9,"data-test-id","spam-alert-container"],[7],[0,"\\n                "],[1,[25,"ui-components/quick-tips",null,[["type","title","linkText","linkAction","onClose"],["error",[25,"t",["ticket.spam-alert.title"],null],[25,"t",["condition.mark_as_spam"],null],[25,"action",[[19,0,[]],"markAsSpam",[20,["ticket"]]],null],[25,"action",[[19,0,[]],[25,"toggle",["showSpamAlert",[19,0,[]]],null]],null]]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"div"],[9,"class","ticket-header-container"],[7],[0,"\\n              "],[6,"div"],[9,"class","ticket-header mr-4"],[7],[0,"\\n                "],[1,[25,"svg-jar",[[20,["ticket","sourceIcon"]]],[["class"],["app-icon app-icon--large"]]],false],[0,"\\n                "],[6,"span"],[9,"class","ticket-subject-heading text--semibold text--dark"],[7],[0,"\\n                  "],[1,[20,["ticket","subject"]],false],[0,"\\n"],[4,"if",[[20,["userAgent"]]],null,{"statements":[[0,"                    "],[1,[25,"module-tickets/ticket-details/meta-info",null,[["meta","userAgent"],[[20,["meta"]],[20,["userAgent"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                "],[8],[0,"\\n                "],[6,"div"],[9,"class","ticket-created-info text--default text--dark"],[7],[0,"\\n                  "],[1,[25,"app-components/contact-popover",null,[["user","class","outboundEmail"],[[20,["ticket","userContact"]],"text--default text--semibold",[20,["ticket","isOutboundEmail"]]]]],false],[0,"\\n                  "],[6,"span"],[9,"data-test-id","ticket-source"],[7],[1,[20,["ticket","sourceLabel"]],false],[8],[0,"\\n"],[4,"if",[[25,"not",[[20,["isOutboundEmail"]]],null]],null,{"statements":[[4,"if",[[20,["createdBy","name"]]],null,{"statements":[[0,"                      "],[6,"span"],[9,"class","created-by text--dark"],[7],[0,"\\n                        "],[1,[25,"t",["fd.createdby"],null],false],[0," "],[1,[20,["createdBy","name"]],false],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"                    "],[1,[25,"app-components/contact-popover",null,[["user","class","outboundEmail"],[[20,["ticket","requester"]],"text--semibold",true]]],false],[0,"\\n"]],"parameters":[]}],[0,"                "],[8],[0,"\\n              "],[8],[0,"\\n\\n"],[4,"if",[[20,["associationType"]]],null,{"statements":[[0,"                "],[6,"div"],[9,"class","association-tag"],[7],[0,"\\n                  "],[1,[25,"svg-jar",[[20,["associationType"]]],[["class"],[[25,"concat",["app-icon app-icon--normal ",[20,["associationType"]]],null]]]],false],[0,"\\n                  "],[6,"p"],[9,"class","text--semibold text--dark text--xsmall mb-0 association-type"],[9,"data-test-id","association-text"],[7],[1,[18,"associationText"],false],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","clearfix"],[7],[0,"\\n                "],[1,[25,"app-components/ticket-status",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"div"],[9,"class","mt-8 element-inline"],[7],[0,"\\n"],[4,"if",[[20,["ticket","spam"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","tag tag--status ellipsis tag--spam"],[7],[0,"\\n                    "],[1,[25,"t",["tickets.spam"],null],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ticket","deleted"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","tag tag--status ellipsis tag--deleted"],[7],[0,"\\n                    "],[1,[25,"t",["tickets.deleted"],null],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ticket","archived"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","tag tag--status ellipsis tag--archived"],[7],[0,"\\n                    "],[1,[25,"t",["tickets.archived"],null],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[20,["ticket","archiveTicket"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"data-test-div","archive-linked-ticket-alert"],[9,"class","archive-warning text--dark"],[7],[0,"\\n                "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon archive-warning--icon app-icon--smallsecondary app-icon--warning"]]],false],[0,"\\n                "],[6,"span"],[9,"aria-labelledby","archive-warning helptext"],[9,"class","archive-warning--help-text text--default"],[7],[0,"\\n                  "],[1,[25,"t",["ticket.details.archive_ticket_text"],null],false],[0,"\\n                  "],[4,"link-to",["helpdesk.tickets.show",[20,["ticket","archiveTicket","id"]]],null,{"statements":[[1,[25,"t",["ticket.details.archive_ticket_link"],null],false]],"parameters":[]},null],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["ticket","archived"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"data-test-div","archived-alert"],[9,"class","archive-warning text--dark"],[7],[0,"\\n                "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon archive-warning--icon app-icon--smallsecondary app-icon--warning"]]],false],[0,"\\n                "],[6,"span"],[9,"aria-labelledby","archive-warning helptext"],[9,"class","archive-warning--help-text text--default"],[7],[0,"\\n                  "],[6,"span"],[9,"class","text--semibold"],[7],[1,[25,"t",["tickets.details.archived_ticket"],null],false],[0," "],[8],[0,"\\n                  "],[1,[25,"t",["ticket.details.archive_ticket_info"],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[8],[0,"\\n\\n          "],[6,"div"],[10,"class",[25,"if",[[20,["isReverseOrder"]],"reverse-order"],null],null],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["ticket","isActionable"]],[20,["isReverseOrder"]]],null]],null,{"statements":[[0,"              "],[6,"div"],[7],[0,"\\n"],[0,"                "],[12,"application/ticket-details/ticket-action-buttons",[1]],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"div"],[7],[0,"\\n              "],[1,[25,"module-tickets/ticket-details/description",null,[["ticket","ticketFields","initiateEditPage","showAction","isInActivity","hideForwardOption","openCollab","ticketSourceText","allowAddToResponse","attachToResponse","emailFailureDetails","summaryEditor","isEditable","hideEditButtonTd","disableEditButtonTd","userContact"],[[20,["ticket"]],[20,["ticketFields"]],[25,"action",[[19,0,[]],"showEditPage"],null],[25,"action",[[19,0,[]],"showAction"],null],[20,["showActivity"]],[20,["hideForwardOption"]],[25,"action",[[19,0,[]],"openCollab"],null],[20,["ticket","sourceLabel"]],[20,["allowAddToResponse"]],[25,"action",[[19,0,[]],"attachToResponse"],null],[25,"action",[[19,0,[]],"emailFailureDetails"],null],[20,["summaryEditor"]],[20,["isEditable"]],[20,["hideEditButtonTd"]],[20,["disableEditButtonTd"]],[20,["userContact"]]]]],false],[0,"\\n            "],[8],[0,"\\n\\n"],[4,"if",[[20,["botEmailSupport"]]],null,{"statements":[[0,"              "],[6,"div"],[7],[0,"\\n                "],[1,[25,"module-tickets/ticket-details/bot-response",null,[["articles","ticket","isBotResponseSuccessful"],[[20,["ticket","botResponse","articles"]],[20,["ticket"]],[20,["isBotResponseSuccessful"]]]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n\\n"],[4,"if",[[20,["showActivity"]]],null,{"statements":[[0,"              "],[6,"div"],[7],[0,"\\n"],[4,"prioritized-fetch",null,[["renderPriority","taskName","appRenderState","fetchDataTask","showInlineLoader","triggerOutOfOrder"],[1,"fetchActivities",[20,["appRenderState"]],[20,["fetchActivities"]],true,[20,["refreshConverstions"]]]],{"statements":[[0,"                  "],[1,[25,"module-tickets/ticket-details/activities-pagination",null,[["items","ticket","totalCount","ticketFields","fetchNextActivity","isReverseOrder","emailFailureDetails"],[[20,["ticket","activities"]],[20,["ticket"]],[20,["totalActivitiesCount"]],[20,["ticketFields"]],[20,["fetchActivities"]],[20,["isReverseOrder"]],[25,"action",[[19,0,[]],"emailFailureDetails"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"div"],[7],[0,"\\n"],[4,"unless",[[20,["isHavingTotalConversations"]]],null,{"statements":[[0,"                  "],[1,[25,"ui-components/load-more-with-count",null,[["loadMoreAction","itemsCount","moreLabel","count"],[[25,"action",[[19,0,[]],"fetchOlderConversations"],null],[20,["conversations","length"]],[25,"t",["tickets.view_more_conversations"],null],[20,["totalConversationsCount"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n\\n              "],[6,"div"],[7],[0,"\\n"],[4,"each",[[25,"sort-by",[[20,["sortBy"]],[20,["ticket","conversations"]]],null]],null,{"statements":[[4,"if",[[25,"eq",[[20,["firstConversationInResponse"]],[19,5,["id"]]],null]],null,{"statements":[[0,"                    "],[6,"div"],[9,"class","conversation-divider"],[9,"id","new-conversations"],[7],[0,"\\n                      "],[6,"span"],[7],[0," "],[1,[25,"t",["ticket.details.new_conversations"],null],false],[0," "],[8],[0,"\\n                    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[25,"module-tickets/ticket-details/conversation",null,[["conversation","displayUndoButton","undoSendLocalNote","isInActivity","onConversationDelete","ticket","replyToFacebookComment","emailFailureDetails","openCollab","allowAddToResponse","attachToResponse","navAlertFeatureOn","showAction","setUndoneNote","tipDone","nerData","installedApps","latestConversationId","undoSendTip","undoneId","hideForwardOption"],[[19,5,[]],[20,["displayUndoButton"]],[20,["undoSendLocalNote"]],false,[25,"action",[[19,0,[]],"onConversationDelete"],null],[20,["ticket"]],[25,"action",[[19,0,[]],"replyToFacebookComment"],null],[25,"action",[[19,0,[]],"emailFailureDetails"],null],[25,"action",[[19,0,[]],"openCollab"],null],[20,["allowAddToResponse"]],[25,"action",[[19,0,[]],"attachToResponse"],null],true,[25,"action",[[19,0,[]],"showAction"],null],[25,"action",[[19,0,[]],"setUndoneNote"],null],[25,"action",[[19,0,[]],"tipDone"],null],[20,["nerData"]],[20,["installedApps"]],[20,["latestConversationId"]],[20,["undoSendTip"]],[20,["undoneId"]],[20,["hideForwardOption"]]]]],false],[0,"\\n"]],"parameters":[5]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[20,["showBroadcastedMessage"]]],null,{"statements":[[0,"              "],[6,"div"],[7],[0,"\\n                "],[1,[25,"module-tickets/ticket-details/broadcasted-message",null,[["ticket","broadcast","insertBroadcastToReply"],[[20,["ticket"]],[20,["broadcastedMessage"]],[25,"action",[[19,0,[]],"insertBroadcastToReply"],null]]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n\\n            "],[1,[25,"interactivity-beacon",null,[["routeInteractive","model"],[true,[20,["ticket"]]]]],false],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[4,"if",[[20,["botAutoSuggestion"]]],null,{"statements":[[0,"                "],[1,[25,"module-tickets/ticket-details/bot-auto-suggestion",null,[["articles","close","ticket","isBotResponseSuccessful","insertDataToReply"],[[20,["ticket","botResponse","articles"]],[25,"action",[[19,0,[]],"closeModel"],null],[20,["ticket"]],[20,["isBotResponseSuccessful"]],[25,"action",[[19,0,[]],"insertDataToReply"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[6,"div"],[7],[0,"\\n"],[0,"                "],[12,"application/ticket-details/ticket-actions",[1]],[0,"\\n"],[4,"unless",[[20,["isReverseOrder"]]],null,{"statements":[[0,"                  "],[6,"div"],[9,"id","scroll-to-bottom"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["sidebar"]]],[["class","isSidebarExpanded"],["multiple-widget-slider",[20,["isSidebarExpanded"]]]],{"statements":[[4,"if",[[20,["showProprertiesPane"]]],null,{"statements":[[4,"component",[[19,1,["content-sidebar"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","ticket-properties pull-left"],[7],[0,"\\n"],[4,"prioritized-fetch",null,[["renderPriority","taskName","asyncRender","fetchDataTask","placeholderType","renderCallback","triggerOutOfOrder","appRenderState"],[1,"renderTicketProperty",[20,["isFreddyPrediction"]],[20,["fetchBotSuggestion"]],"list-card",[25,"action",[[19,0,[]],"registerControlsCallback"],null],[20,["reloadPropertiesView"]],[20,["appRenderState"]]]],{"statements":[[0,"            "],[1,[25,"module-tickets/ticket-details/properties",[[20,["ticket"]]],[["startTicketValidation","ticketFields","refresh","botSuggestion","focusOnError","staleTicketProperties","ticketPropertiesRefresh","autoRefreshedTime","refreshTicketProperties","reloadRightNavView","showSubmitSuccessMessage","statusUpdate","updateProperty"],[[20,["startTicketValidation"]],[20,["ticketFields"]],[20,["refresh"]],[25,"if",[[20,["isFreddyPrediction"]],[19,4,["content"]]],null],[20,["focusOnError"]],[20,["staleTicketProperties"]],[20,["ticketPropertiesRefresh"]],[20,["autoRefreshedTime"]],[25,"action",[[19,0,[]],"refreshTicketProperties"],null],[20,["reloadRightNavView"]],[20,["showSubmitSuccessMessage"]],[20,["propertyUpdate"]],[25,"action",[[19,0,[]],"updateProperty"],null]]]],false],[0,"\\n"]],"parameters":[4]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"app-components/widget-sidebar",null,[["ticket","widgetAction","showHideSidebar","showExpandCollapseBtn","widgetsExpanded"],[[20,["ticket"]],[25,"action",[[19,0,[]],"widgetAction"],null],[19,1,["showHideSidebar"]],[20,["ticketPresent"]],[20,["isSidebarExpanded"]]]],{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","appRenderState","asyncRender","placeholderType"],[2,"renderTicketWidgets",[20,["appRenderState"]],false,"requester-card"]],{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon","isActionEnabled","actionLabel","minimized"],["requester-info",[25,"t",["tickets.requester.info"],null],"info",[20,["requesterWidgetEditAllowed"]],[25,"t",["fd.edit"],null],false]],{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/widgets/requester-info",null,[["ticket","isRequesterWidget","isVisible","reload"],[[20,["ticket"]],true,true,[20,["reloadRequesterWidget"]]]]],false],[0,"\\n\\n          "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","context","pageType","renderMkpApp"],["ticket_requester_info",[20,["ticket","id"]],"ticket",[20,["renderMkpApp"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[4,"if",[[20,["sessionReplayEnabled"]]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon","minimized"],["recent-sessions",[25,"t",["fd.recent_sessions"],null],"session-replay-drawer",false]],{"statements":[[0,"              "],[1,[25,"module-tickets/ticket-details/recent-sessions",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"and",[[25,"hasfeature",["link_tickets"],null],[20,["isNotParentOrChild"]]],null]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon"],["link-tickets",[25,"t",["tickets.ticket_associations.link_tickets.title"],null],"insert-link"]],{"statements":[[0,"              "],[1,[25,"module-tickets/ticket-details/widgets/associate-tickets",null,[["ticket","associateTicketsSlider","primeTicketDetails","linkTickets"],[[20,["ticket"]],[25,"action",[[19,0,[]],"associateTickets"],null],[20,["primeTicketDetails"]],true]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"and",[[25,"hasfeature",["parent_child_tickets"],null],[20,["isNotTrackerOrRelated"]]],null]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon"],["add-child-tickets",[25,"t",["tickets.ticket_associations.parent_child.title"],null],"parent-child"]],{"statements":[[0,"              "],[1,[25,"module-tickets/ticket-details/widgets/associate-tickets",null,[["ticket","associateTicketsSlider","primeTicketDetails","addChild"],[[20,["ticket"]],[25,"action",[[19,0,[]],"associateTickets"],null],[20,["primeTicketDetails"]],true]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["showServiceTaskWidget"]]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon"],["add-service-tasks",[25,"t",["tickets.ticket_associations.service_task.title"],null],"service-task"]],{"statements":[[0,"              "],[1,[25,"module-tickets/ticket-details/widgets/service-task",null,[["ticket","associateTicketsSlider","primeTicketDetails"],[[20,["ticket"]],[25,"action",[[19,0,[]],"associateTickets"],null],[20,["primeTicketDetails"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["hasTimesheetsFeatureAndAbility"]]],null,{"statements":[[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon"],["time-entries",[25,"t",["timer.title"],null],"add-timer"]],{"statements":[[4,"if",[[20,["refresh"]]],null,{"statements":[[0,"                "],[1,[25,"module-tickets/ticket-details/widgets/time-entries",null,[["ticket","showTimeEntryForm","timerAppActivated","deleteTimeEntry","startStopTimer","reload"],[[20,["ticket"]],[25,"action",[[19,0,[]],"showTimeEntryForm"],null],[20,["timerAppActivated"]],[25,"action",[[19,0,[]],"deleteTimeEntry"],null],[25,"action",[[19,0,[]],"startStopTimer"],null],[20,["reloadTimeEntries"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,2,["addWidget"]]],[["widgetId","label","icon"],["todo-list",[25,"t",["fd.todo"],null],"todo"]],{"statements":[[0,"            "],[1,[25,"app-components/to-do",null,[["modelObj","type","autofocus","placeholder"],[[20,["ticket"]],"ticket",true,[25,"t",["dashboard.todo-placeholder"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[0,"\\n"],[4,"each",[[20,["installedApps"]]],null,{"statements":[[4,"if",[[25,"and",[[25,"is-falcon-ready",[[19,3,["name"]]],null],[25,"view-integ-apps",[[19,3,["displayOption"]],[20,["integAppViewOption"]]],null]],null]],null,{"statements":[[0,"              "],[1,[25,"integration-apps",null,[["appDetails","requester","ticket","sideBar"],[[19,3,[]],[20,["ticket","requester"]],[20,["ticket"]],[19,2,[]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[3]},null],[0,"\\n          "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","sideBar","context","pageType"],["ticket_sidebar",[19,2,[]],[20,["ticket","id"]],"ticket"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]},null]],"parameters":[1]},null],[0,"\\n\\n"],[4,"prioritized-fetch",null,[["renderPriority","taskName","appRenderState","asyncRender","loaderRequired"],[1,"renderTicketmodals",[20,["appRenderState"]],false,false]],{"statements":[[0,"  "],[12,"application/ticket-details/show-scenerios",[]],[0,"\\n"],[0,"  "],[12,"application/ticket-details/add-time",[]],[0,"\\n"],[0,"  "],[12,"application/ticket-details/requester-widget",[]],[0,"\\n"],[4,"if",[[20,["displaySplitTicket"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["tickets.action.split_ticket"],null],"Split",[25,"action",[[19,0,[]],"splitTicket"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["displaySplitTicket"]]],null]],null]]],{"statements":[[0,"      "],[1,[25,"t",["confirmations.split_ticket"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showDiscardDraftPopup"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["confirmations.discard_draft.title"],null],[25,"t",["fd.discard"],null],[25,"action",[[19,0,[]],"deleteDraft"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["showDiscardDraftPopup"]]],null]],null]]],{"statements":[[0,"      "],[1,[25,"t",["confirmations.discard_draft"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["displayDeleteTicket"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["ticket.actions.delete.confirmation.title"],null],[25,"t",["ticket.actions.delete.confirmation.savelabel"],null],[25,"action",[[19,0,[]],"delete",[20,["ticket"]]],null],[25,"action",[[19,0,[]],"deleteTicketConfirmationToggle"],null]]],{"statements":[[0,"      "],[1,[25,"t",["ticket.actions.delete.confirmation.message"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n\\n"],[4,"if",[[20,["displayEditTicket"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","outSideClick","closeOnEscapse","showModalClose"],[[25,"action",[[19,0,[]],"closeOverlay"],null],[25,"action",[[19,0,[]],"outSideClick"],null],false,true]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-content"],[9,"id","edit-ticket-page"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-form",null,[["data","close","showCcField","allowContactCreate","editTicket","refreshAction"],[[20,["editTicketData"]],[25,"action",[[19,0,[]],"closeOverlay"],null],false,true,true,[20,["refreshAction"]]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showFailureDetails"]]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/email-failure",null,[["ticket","toggleEmailFailure","showAction","failedEmailsPromise","unblockedEmails"],[[20,["ticket"]],[25,"action",[[19,0,[]],"toggleEmailFailure"],null],[25,"action",[[19,0,[]],"showAction"],null],[20,["failedEmailsPromise"]],[20,["unblockedEmails"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showAttachmentRequired"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["cancelDataTestId","confirmDataTestId","title","saveLabel","cancelLabel","save","close"],["attachment-reminder-cancel","attachment-reminder-confirm",[25,"t",["ticket.details.attachment.title"],null],[25,"t",["ticket.details.attachment.confirm"],null],[25,"t",["ticket.details.attachment.cancel"],null],[25,"action",[[19,0,[]],"closeConfirmDialog"],null],[25,"action",[[19,0,[]],"closeConfirmDialogCancel"],null]]],{"statements":[[0,"      "],[1,[25,"html-safe",[[25,"t",["ticket.details.attachment.content"],[["intents"],[[20,["positiveIntents"]]]]]],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"  "],[1,[25,"app-components/inline-manual-triggers",null,[["imTriggerClass"],["ticket-details-im"]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":true}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/broadcast/component",["exports","freshdesk/mixins/tickets/ticket-action"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend(e.default,{showSubmit:Ember.computed.reads("ticket.notActionable"),relatedTicketsCount:Ember.computed.reads("ticket.associatedTicketsCount"),bodyText:Ember.computed.reads("noteModel.body"),hasBodyText:Ember.computed.bool("bodyText.length"),hasAttachments:Ember.computed.notEmpty("noteModel.attachment_ids"),enableBrodcast:Ember.computed.or("hasAttachments","hasBodyText"),scrollToAttachment:Ember.computed.not("currentUser.latestNotesFirst"),noteModel:Ember.computed(function(){return Ember.Object.create()}),actions:{discardConversation:function(){this.sendAction("discardConversation")},sendBroadcast:function(){var t=Ember.get(this,"noteModel"),e=[];return e.push(this._sendConversation(t)),Ember.RSVP.Promise.all(e.compact())},contentChanged:function(t){Ember.set(this,"noteModel.body",t)}},_sendConversation:function(t){return Ember.get(this,"ticket.inlineAttachmentIds")&&Ember.set(t,"inline_attachment_ids",Ember.get(this,"ticket.inlineAttachmentIds")),Ember.get(this,"sendConversation")(t)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/broadcast/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"0r1mltnq",block:'{"symbols":[],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields ticket-action__header"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","ticket","onChange"],["broadcast",[20,["ticket"]],[25,"action",[[19,0,[]],"onChange"],null]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__notetype"],[7],[0,"\\n      "],[6,"span"],[9,"class","text--small muted"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.related_list.label"],[["count"],[[20,["relatedTicketsCount"]]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__editor"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["placeholder","value","ticket","showCannedResponse","showSolution","showAttachments","contentChanged","isLoading","showFooter","autofocus","fixedHeight","source","scrollToAttachment","model","wrapDefaultFont"],["",[20,["bodyText"]],[20,["ticket"]],true,true,false,[25,"action",[[19,0,[]],"contentChanged"],null],[20,["isLoading"]],true,true,332,"broadcast",[20,["scrollToAttachment"]],[20,["ticket"]],true]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n        "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","label","pendingLabel","disableSubmit","onSend"],[false,[25,"t",["tickets.action.broadcast"],null],[25,"t",["tickets.action.broadcasting"],null],[25,"not",[[20,["enableBrodcast"]]],null],[25,"action",[[19,0,[]],"sendBroadcast"],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/broadcast/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/ecommerce-reply/component",["exports","freshdesk/utils/object-filter","freshdesk/mixins/tickets/ticket-action","freshdesk/mixins/tickets/editor-attachment","freshdesk/mixins/shortcuts/ticket-details/ticket-editor"],function(e,t,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(n.default,o.default,s.default,{quickReply:!1,showAttachmentBtn:!0,bodyText:Ember.computed.alias("replyModel.body"),hasBodyText:Ember.computed.bool("bodyText.length"),replyModel:Ember.computed(function(){var e=Ember.get(this,"currentUser.id");return Ember.Object.create({agent_id:e,body:null})}),actions:{discardConversation:function(){this.sendAction("discardConversation")},onInsertAttachment:function(e){this._onInsertAttachment(e)},sendConversation:function(e){var n=Ember.get(this,"replyModel"),s=["agent_id","body","attachment_ids"],o=(0,t.default)(n,s);return this._sendConversation(o,e)}},_onInsertAttachment:function(e){Ember.get(this,"replyModel")&&Ember.set(this,"replyModel.attachment_ids",e)},_sendConversation:function(e,t){return Ember.get(this,"sendConversation")(e,t)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/ecommerce-reply/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Vx0hv1Gz",block:'{"symbols":[],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","ticket","onChange","quickReply"],["reply",[20,["ticket"]],[25,"action",[[19,0,[]],"onChange"],null],[20,["quickReply"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__ecommerce"],[7],[0,"\\n      "],[1,[25,"svg-jar",["ecommerce"],[["class"],["app-icon--small app-icon--topalign"]]],false],[0,"\\n      "],[6,"span"],[7],[1,[20,["ticket","ebayAccountName"]],false],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field text__infotext ticket-action__label"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__email ticket-action__requester"],[7],[1,[20,["ticket","requesterName"]],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-replying",null,[["agentsReplying"],[[20,["agentsReplying"]]]]],false],[0,"\\n"],[4,"ui-form/editor/social-editor",null,[["value","ticket","showAttachmentBtn","onInsertAttachment","onRemoveAttachment"],[[20,["bodyText"]],[20,["ticket"]],[20,["showAttachmentBtn"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null]]],{"statements":[[0,"    "],[6,"div"],[7],[0,"\\n      "],[6,"button"],[9,"data-test-id","discard-draft-ecommerce"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn discard-draft app-icon-btn"],[7],[0,"\\n        "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","reply-btn"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","disableSubmit","onSend"],[[25,"and",[[25,"not",[[20,["quickReply"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"not",[[20,["hasBodyText"]]],null],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/ecommerce-reply/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/facebook-reply/component",["exports","freshdesk/utils/object-filter","freshdesk/mixins/tickets/ticket-action","freshdesk/mixins/shortcuts/ticket-details/ticket-editor"],function(e,t,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(o.default,n.default,{quickReply:!1,bodyText:Ember.computed.alias("replyModel.body"),hasBodyText:Ember.computed.bool("bodyText.length"),replyModel:Ember.computed(function(){var e=Ember.get(this.currentUser,"id");return Ember.Object.create({agent_id:e,body:null})}),actions:{discardConversation:function(){this.sendAction("discardConversation")},sendConversation:function(e){var o=Ember.get(this,"replyModel"),n=["agent_id","note_id","body"],i=(0,t.default)(o,n),s=[];return s.push(this._sendConversation(i,e)),Ember.RSVP.Promise.all(s.compact())}},_sendConversation:function(e,t){return Ember.get(this,"sendConversation")(e,t)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/facebook-reply/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"zqxa5DNZ",block:'{"symbols":[],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","ticket","onChange","quickReply"],["reply",[20,["ticket"]],[25,"action",[[19,0,[]],"onChange"],null],[20,["quickReply"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__fbpagename"],[7],[0,"\\n      "],[1,[25,"svg-jar",["facebook"],[["class"],["app-icon--small app-icon--topalign fb-icon"]]],false],[0,"\\n      "],[6,"span"],[7],[1,[20,["ticket","facebookPageName"]],false],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field text__infotext ticket-action__label"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__email ticket-action__requester"],[7],[1,[20,["ticket","requesterName"]],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-replying",null,[["agentsReplying"],[[20,["agentsReplying"]]]]],false],[0,"\\n"],[4,"ui-form/editor/social-editor",null,[["value","ticket"],[[20,["bodyText"]],[20,["ticket"]]]],{"statements":[[0,"    "],[6,"div"],[7],[0,"\\n      "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn discard-draft app-icon-btn"],[7],[0,"\\n        "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","reply-btn"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","disableSubmit","onSend"],[[25,"and",[[25,"not",[[20,["quickReply"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"not",[[20,["hasBodyText"]]],null],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/facebook-reply/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/forward/component",["exports","freshdesk/mixins/email-config","freshdesk/mixins/tickets/ticket-action","freshdesk/mixins/check-model-modified","freshdesk/mixins/tickets/collapsible-email","freshdesk/utils/object-filter","freshdesk/mixins/tickets/editor-attachment","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/shortcuts/ticket-details/ticket-editor","freshdesk/mixins/slash-commands/config","freshdesk/utils/delete-keys-from-object","freshdesk/utils/normalized-quoted-data"],function(e,t,r,o,i,a,s,c,n,m,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,r.default,i.default,s.default,c.default,o.default,n.default,m.default,{marketplace:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),navigationAlert:Ember.inject.service("navigation-alert"),eventSources:Ember.inject.service(),showCc:!1,showBcc:!1,displayLength:null,quotedData:null,maxCount:50,isSlashCommandShown:!1,isFocusBcc:!1,fromModified:!1,textForAction:"tickets.action.forward",textForActionPending:"tickets.action.forwarding",conversationType:"forward",hasAttachments:Ember.computed.notEmpty("forwardModel.attachment_ids"),enableForward:Ember.computed.or("hasBodyText","hasAttachments"),bodyText:Ember.computed.reads("forwardModel.body"),quotedText:Ember.computed.reads("forwardModel.quoted_text"),attachmentValue:Ember.computed.reads("forwardModel.attachments"),hasBodyText:Ember.computed.bool("bodyText.length"),hasToEmails:Ember.computed.bool("forwardModel.to_emails.length"),autofocusEditor:Ember.computed.bool("selectedTo.length"),autofocusEmail:Ember.computed.not("autofocusEditor"),showCcField:Ember.computed.or("showCc","hasCc"),showBccField:Ember.computed.or("showBcc","hasBcc"),selectedCcEmails:Ember.computed.mapBy("filtedCcEmail","email"),selectedBccEmails:Ember.computed.mapBy("filteredBccEmail","email"),selectedToEmails:Ember.computed.mapBy("filteredToEmail","email"),showSubmit:Ember.computed.reads("ticket.notActionable"),showCollapsedEmail:Ember.computed.bool("selectedTo.length"),enableBtnAction:Ember.computed.and("enableForward","hasToEmails"),cloudAttachments:Ember.computed.alias("forwardedCloudFiles"),scrollToAttachment:Ember.computed.not("currentUser.latestNotesFirst"),forwardModel:Ember.computed("model.content","mkpInterface.controlData.{cc.value,bcc.value,to.value}","mkpFromEmail",function(){var e=Ember.get(this,"model.content");if(!e)return e;var t=Ember.get(this,"mkpFromEmail.replyEmail")||Ember.get(this,"mkpFromEmail.reply_email");t&&!Ember.get(this,"fromModified")&&Ember.set(e,"from_email",t);var r=Ember.get(this,"mkpInterface.controlData.bcc.value");if(r){var o=r.map(function(e){return Ember.get(e,"email")});e.bcc_emails=o}var i=Ember.get(this,"mkpInterface.controlData.cc.value");if(i){var a=i.map(function(e){return Ember.get(e,"email")});e.cc_emails=a}var s=Ember.get(this,"mkpInterface.controlData.to.value");if(s){var c=s.map(function(e){return Ember.get(e,"email")});e.to_emails=c}return e}),forwardQuotedData:Ember.computed("quotedData","forwardModel.{quoted_text,body}",function(){return(0,d.default)(Ember.get(this,"quotedText"),Ember.get(this,"forwardModel.body"),Ember.get(this,"quotedData"))}),forwardedCloudFiles:Ember.computed.map("forwardModel.cloud_files",function(e){var t={};return Ember.get(this,"cloudFileAttrs").forEach(function(r){return t[r]=e[r.decamelize()]}),Ember.get(this,"store").createRecord("cloudFile",t)}),isLoading:Ember.computed("model.isPending",function(){var e=Ember.get(this,"model"),t=Ember.get(e,"isPending");return!t&&Ember.get(this,"navAlertFeatureOn")&&this.initNavAlertRelatedAttrsInComponent(Ember.get(e,"content")),t}),filtedCcEmail:Ember.computed("selectedCc.[]",function(){var e=Ember.get(this,"selectedCc");return this.getValidEmail(e)}),filteredBccEmail:Ember.computed("selectedBcc.[]",function(){var e=Ember.get(this,"selectedBcc");return this.getValidEmail(e)}),filteredToEmail:Ember.computed("selectedTo.[]",function(){var e=Ember.get(this,"selectedTo");return this.getValidEmail(e)}),selectedCc:Ember.computed("model.isPending","mkpInterface.controlData.cc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.cc.value");return e||[]},set:function(e,t){return t}}),_selectedBcc:Ember.computed.map("forwardModel.bcc_emails",function(e){return{email:e,details:e}}),selectedBcc:Ember.computed("model.isPending","mkpInterface.controlData.bcc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.bcc.value");return e||Ember.get(this,"_selectedBcc")},set:function(e,t){return t}}),selectedTo:Ember.computed("model.isPending","mkpInterface.controlData.to.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.to.value");return e&&Ember.get(this,"forwardModel")?e:[]},set:function(e,t){return t}}),hasCc:Ember.computed("selectedCc",function(){return Boolean(Ember.get(this,"selectedCc.length"))}),hasBcc:Ember.computed("selectedBcc",function(){return Boolean(Ember.get(this,"selectedBcc.length"))}),allEmail:Ember.computed("selectedToEmails.[]","selectedCcEmail.[]","selectedBccEmail.[]",function(){return[].concat(Ember.get(this,"selectedToEmails")||[],Ember.get(this,"selectedCcEmail")||[],Ember.get(this,"selectedBccEmail")||[])}),init:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").on("fromUpdated",this.fromUpdated.bind(this)),Ember.get(this,"marketplace").on("activeEmailConfigUpdated",this.activeEmailConfigUpdated.bind(this)),Ember.get(this,"activeEmailConfigTask").perform()},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").off("activeEmailConfigUpdated"),Ember.get(this,"marketplace").off("fromUpdated")},actions:{contentChanged:function(e,t){Ember.set(this,"forwardModel.body",e),Ember.get(this,"navAlertFeatureOn")&&this.setNavAlertOnChange(Ember.get(this,"forwardModel"),t)},discard:function(){this.clearAttachments(),Ember.get(this,"discardConversation")()},sendConversation:function(e){var t=this;if(this.checkMinToError())return new Ember.RSVP.Promise(function(e){e({error:!0})});var r=Ember.get(this,"forwardModel");Ember.get(this,"mkpInterface.controlData.ticketAttachments.hide")&&Ember.set(r,"attachment_ids",[]);var o=["body","full_text","include_quoted_text","include_original_attachments","attachment_ids","cloud_files","from_email","to_emails","cc_emails","bcc_emails"],i=["include_surveymonkey_link","send_survey","cloud_files"];this.setCloudFiles(r);var s=(0,a.default)(r,o);if(s.include_original_attachments=!1,!s.from_email){var c=Ember.get(this,"defaultFromEmail.replyEmail");s.from_email=c}s.body=Ember.get(this,"forwardQuotedData.bodyText"),Ember.get(this,"forwardQuotedData.quoteRemoved")?s.include_quoted_text=!1:s.full_text=Ember.get(this,"forwardQuotedData.fullText");var n={eventName:"submitForward"};this.events.publish("submitForward",n),this.clearAttachments();var m=Object.assign({},s);m=(0,l.default)(m,i);var d=[];return d.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.forward",data:m}).then(function(){return t._sendConversation(s,e)}).catch(function(e){return t._mkpPublishEventError(e)})),Ember.RSVP.Promise.all(d.compact())},discardConversation:function(){Ember.get(this,"isSlashCommandShown")||this.send("checkAndProceedToDiscard")},onSubmitConversation:function(e){document.getElementById("send-and-set").disabled||(this.send("sendConversation"),this.disableEditor())},onInsertAttachment:function(e){Ember.get(this,"model.then")&&Ember.get(this,"model").then(this._onInsertAttachment.bind(this,e))},clearCc:function(){Ember.set(this,"forwardModel.cc_emails",[]),Ember.set(this,"showCc",!1),Ember.set(this,"selectedCc",[]),Ember.set(this,"mkpInterface.controlData.cc.value",[])},clearBcc:function(){Ember.set(this,"forwardModel.bcc_emails",[]),Ember.set(this,"showBcc",!1),Ember.set(this,"selectedBcc",[]),Ember.set(this,"mkpInterface.controlData.bcc.value",[])},togglecc:function(){Ember.set(this,"showCc",!0)},togglebcc:function(){Ember.set(this,"showBcc",!0),Ember.set(this,"isFocusBcc",!0)},onEditorFocus:function(){var e=Ember.get(this,"selectedToEmails");if(!Ember.isEmpty(e))return void Ember.set(this,"showCollapsedEmail",!0);Ember.set(this,"showCollapsedEmail",!1)},onClickCollapsedEmail:function(){Ember.set(this,"showCollapsedEmail",!1)},onChange:function(e){this.clearAttachments(),this.sendAction("changeAction",e.id)},onChangeFrom:function(e){var t=Ember.get(e,"replyEmail")||Ember.get(e,"reply_email");Ember.setProperties(this,{fromEmail:e,"forwardModel.from_email":t,fromModified:!0})},onChangeTo:function(e){Ember.set(this,"selectedTo",e);var t=Ember.get(this,"selectedToEmails");Ember.set(this,"forwardModel.to_emails",t),Ember.set(this,"showCollapsedEmail",!1),this.checkMaxEmailError()},onChangeCc:function(e){Ember.set(this,"selectedCc",e);var t=Ember.get(this,"selectedCcEmails");Ember.set(this,"forwardModel.cc_emails",t),this.checkMaxEmailError()},onChangeBcc:function(e){Ember.set(this,"selectedBcc",e);var t=Ember.get(this,"selectedBccEmails");Ember.set(this,"forwardModel.bcc_emails",t),this.checkMaxEmailError()},getQuoted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ember.set(this,"quotedData",e)}},willDestroy:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").off("fromUpdated")},checkMinToError:function(){return 0===Ember.get(this,"selectedTo.length")?(this.sendAction("showError","minToError"),!0):(this.sendAction("removeError","minToError"),!1)},checkMaxEmailError:function(){var e=Ember.get(this,"selectedTo.length"),t=Ember.get(this,"selectedCc.length"),r=Ember.get(this,"selectedBcc.length"),o=Ember.get(this,"maxCount");e>o||t>o||r>o?this.sendAction("showError","maxEmail"):this.sendAction("removeError","maxEmail")},getValidEmail:function(e){var t=Ember.get(this,"maxCount");return e.slice(0,t).filter(function(e){return void 0===e.valid||!0===e.valid})},_sendConversation:function(e,t){return this.clearCloudAttachments(),Ember.get(this,"navigationAlert").resetAllValuesForComponent(Ember.get(this,"navigationObjectId")),Ember.get(this,"sendConversation")(e,t)},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.forward",e)},_onInsertAttachment:function(e){Ember.get(this,"forwardModel")&&Ember.set(this,"forwardModel.attachment_ids",e)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/forward/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"fQtMFc8W",block:'{"symbols":["option","email","option","email","option","email"],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__fields ticket-action__header"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","isContentChanged","navigationObjectId","ticket","onChange"],[[20,["conversationType"]],[20,["isContentChanged"]],[20,["navigationObjectId"]],[20,["ticket"]],[25,"action",[[19,0,[]],"onChange"],null]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[10,"class",[26,["ticket-action__field ticket-action__from ",[25,"if",[[20,["mkpInterface","controlData","from","hide"]],"hide"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.from"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__email ticket-action__from-email ellipsis"],[7],[0,"\\n"],[4,"if",[[20,["emailConfigLoaded"]]],null,{"statements":[[4,"if",[[25,"gt",[[20,["customGlobalEmailConfig","length"]],1],null]],null,{"statements":[[0,"            "],[1,[25,"app-components/from-email",null,[["disabled","isEditor","fromOptions","selectedEmailConfig","onchange"],[[20,["mkpInterface","controlData","from","disable"]],true,[20,["customGlobalEmailConfig"]],[20,["filteredSelectedEmail"]],[25,"action",[[19,0,[]],"onChangeFrom"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__fromemail"],[7],[0,"\\n              "],[6,"span"],[9,"class","from-email-name"],[7],[1,[25,"if",[[20,["showAgent"]],[20,["agentName"]],[20,["customGlobalEmailConfig","firstObject","name"]]],null],false],[8],[0,"\\n              "],[6,"span"],[9,"class","from-email"],[7],[0,"("],[1,[20,["customGlobalEmailConfig","firstObject","replyEmail"]],false],[0,")"],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"ui-components/toggle-view",null,[["showDefault"],[false]],{"statements":[[0,"    "],[6,"div"],[10,"class",[26,["ticket-action__email--collapsed ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","to","hide"]],"hide"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__email mt-4"],[9,"id","collapsed-email"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/collapsed-email",null,[["onClick","wrapperId","displayLength","cc","bcc","to"],[[25,"action",[[19,0,[]],"onClickCollapsedEmail"],null],"ticket-action",[20,["displayLength"]],[20,["selectedCcEmails"]],[20,["selectedBccEmails"]],[20,["selectedToEmails"]]]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__copyemail"],[10,"onclick",[25,"action",[[19,0,[]],"onClickCollapsedEmail"],null],null],[7],[0,"\\n        "],[6,"span"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null],null],[7],[0,"\\n          "],[6,"span"],[9,"class","cc-count"],[7],[4,"if",[[20,["selectedCc","length"]]],null,{"statements":[[1,[20,["selectedCc","length"]],false]],"parameters":[]},null],[8],[0,"\\n          "],[1,[25,"t",["fd.cc"],null],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"span"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null],null],[7],[0,"\\n          "],[6,"span"],[9,"class","bcc-count"],[7],[4,"if",[[20,["selectedBcc","length"]]],null,{"statements":[[1,[20,["selectedBcc","length"]],false]],"parameters":[]},null],[8],[0,"\\n          "],[1,[25,"t",["fd.bcc"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[10,"class",[26,["ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","to","hide"]],"hide"],null]]]],[9,"data-test-forward-to",""],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","to","disable"]]],null,{"statements":[[0,"          "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedTo"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","display__email"],[7],[1,[19,6,["details"]],false],[8],[0,"\\n"]],"parameters":[6]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-form/remote-select-field",null,[["selected","onchange","multiple","maxcount","allowCreate","autofocus","url"],[[20,["selectedTo"]],[25,"action",[[19,0,[]],"onChangeTo"],null],true,[20,["maxCount"]],true,[20,["autofocusEmail"]],"/search/autocomplete/requesters"]],{"statements":[[0,"            "],[1,[19,5,["details"]],false],[0,"\\n"]],"parameters":[5]},null]],"parameters":[]}],[0,"      "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__copyemail"],[7],[0,"\\n"],[4,"if",[[25,"not",[[20,["showCcField"]]],null]],null,{"statements":[[0,"          "],[6,"span"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null],null],[9,"data-test-cc-btn",""],[10,"onclick",[25,"action",[[19,0,[]],"togglecc"],null],null],[7],[0,"\\n            "],[1,[25,"t",["fd.cc"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"not",[[20,["showBccField"]]],null]],null,{"statements":[[0,"          "],[6,"span"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null],null],[9,"data-test-bcc-btn",""],[10,"onclick",[25,"action",[[19,0,[]],"togglebcc"],null],null],[7],[0,"\\n            "],[1,[25,"t",["fd.bcc"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n\\n"],[4,"if",[[25,"or",[[20,["showCcField"]],[20,["showBccField"]]],null]],null,{"statements":[[4,"if",[[20,["showCcField"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,["ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null]]]],[9,"data-test-cc",""],[7],[0,"\\n          "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.cc"],null],false],[0,": "],[8],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","cc","disable"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n              "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedCc"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","display__email"],[7],[1,[19,4,["details"]],false],[8],[0,"\\n"]],"parameters":[4]},null],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"ui-form/remote-select-field",null,[["selected","onchange","multiple","allowCreate","maxcount","autofocus","url"],[[20,["selectedCc"]],[25,"action",[[19,0,[]],"onChangeCc"],null],true,true,[20,["maxCount"]],true,"/search/autocomplete/requesters"]],{"statements":[[0,"                "],[1,[19,3,["details"]],false],[0,"\\n"]],"parameters":[3]},null],[0,"            "],[8],[0,"\\n"],[4,"if",[[20,["selectedCc","length"]]],null,{"statements":[[0,"              "],[6,"div"],[10,"class",[26,["ticket-action__field ticket-action__clear ",[25,"if",[[20,["mkpInterface","controlData","cc","disable"]],"hide"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"clearCc"],null],null],[7],[1,[25,"t",["fd.clearcc"],null],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showBccField"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,["ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null]]]],[9,"data-test-bcc",""],[7],[0,"\\n          "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.bcc"],null],false],[0,": "],[8],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","bcc","disable"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n              "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedBcc"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","display__email"],[7],[1,[19,2,["details"]],false],[8],[0,"\\n"]],"parameters":[2]},null],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"ui-form/remote-select-field",null,[["selected","onchange","maxcount","multiple","allowCreate","autofocus","url"],[[20,["selectedBcc"]],[25,"action",[[19,0,[]],"onChangeBcc"],null],[20,["maxCount"]],true,true,[20,["isFocusBcc"]],"/search/autocomplete/requesters"]],{"statements":[[0,"                "],[1,[19,1,["details"]],false],[0,"\\n"]],"parameters":[1]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]}],[4,"if",[[20,["selectedBcc","length"]]],null,{"statements":[[0,"            "],[6,"div"],[10,"class",[26,["ticket-action__field ticket-action__clear ",[25,"if",[[20,["mkpInterface","controlData","bcc","disable"]],"hide"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"clearBcc"],null],null],[7],[1,[25,"t",["fd.clearbcc"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}],[0,"\\n  "],[6,"div"],[9,"class","ticket__editor"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["placeholder","value","shortcutenabled","ticket","onFocus","attachmentValue","cloudAttachments","onInsertAttachment","onRemoveAttachment","quotedText","showCannedResponse","showCannedResponseTip","showCannedForm","showSolution","contentChanged","isLoading","getQuoted","showFooter","autofocus","fixedHeight","source","scrollToAttachment","onSubmitConversation","onEscape","isSlashCommandShown","enableSlashCommands","isValidMkpPlaceholder","model","wrapDefaultFont"],["",[20,["bodyText"]],[20,["enableBtnAction"]],[20,["ticket"]],[25,"action",[[19,0,[]],"onEditorFocus"],null],[20,["computedAttachments"]],[20,["cloudAttachments"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null],[20,["quotedText"]],true,true,true,true,[25,"action",[[19,0,[]],"contentChanged"],null],[20,["isLoading"]],[25,"action",[[19,0,[]],"getQuoted"],null],true,false,332,"forward",[20,["scrollToAttachment"]],[25,"action",[[19,0,[]],"onSubmitConversation"],null],[25,"action",[[19,0,[]],"discardConversation"],null],[20,["isSlashCommandShown"]],true,true,[20,["model"]],true]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n        "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"checkAndProceedToDiscard"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","label","pendingLabel","disableSubmit","externalPending","onSend"],[[25,"and",[[25,"eq",[[20,["conversationType"]],"forward"],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"t",[[20,["textForAction"]]],null],[25,"t",[[20,["textForActionPending"]]],null],[25,"or",[[25,"not",[[20,["enableBtnAction"]]],null],[20,["disableSubmitExternal"]]],null],[20,["disableSubmitExternal"]],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/forward/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/multi-email/component",["exports","freshdesk/utils/blank-array"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({ajax:Ember.inject.service(),value:null,selected:(0,t.default)(),selectedObserver:Ember.observer("selected.[]",function(){var e=this.getAttr("requiredField"),t=Ember.get(this,"selected"),s=e?t.mapBy(e):t;return Ember.set(this,"value",s),s}),actions:{createOptions:function(e){var t={details:e,email:e};Ember.get(this,"selected").pushObject(t)},search:function(e){return Ember.get(this,"ajax").request("/search/autocomplete/requesters?q="+e).then(this._handleSearchResponse.bind(this))}},_handleSearchResponse:function(e){return e.results}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/multi-email/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"N6+vbdX+",block:'{"symbols":["options","term"],"statements":[[4,"ui-form/select-field",null,[["options","allowCreate","selected","multiple","onchange","search","oncreate"],[[20,["options"]],true,[20,["selected"]],[20,["multiple"]],[25,"action",[[19,0,[]],[25,"mut",[[20,["selected"]]],null]],null],[25,"action",[[19,0,[]],"search"],null],[25,"action",[[19,0,[]],"createOptions"],null]]],{"statements":[[0,"  "],[1,[19,1,["details"]],false],[0,"\\n"]],"parameters":[1,2]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/multi-email/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/notes/component",["exports","freshdesk/mixins/tickets/ticket-action","freshdesk/mixins/check-model-modified","freshdesk/utils/object-filter","freshdesk/mixins/tickets/editor-attachment","freshdesk/mixins/marketplace/interface/ticket-actions-notes","freshdesk/utils/blank-array","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/shortcuts/ticket-details/ticket-editor","freshdesk/mixins/slash-commands/config"],function(e,t,n,i,r,o,s,a,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=[{id:"public",label:"tickets.action.public",icon:"globe-fill",description:"tickets.action.public.subtext",translate:!0},{id:"private",label:"tickets.action.private",icon:"lock-fill",description:"tickets.action.private.subtext",translate:!0}];e.default=Ember.Component.extend(t.default,r.default,o.default,a.default,n.default,c.default,m.default,{ticketFields:Ember.inject.service("ticket-fields"),marketplace:Ember.inject.service(),eventSources:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),navigationAlert:Ember.inject.service("navigation-alert"),notes:d,mkpToAddress:null,quickReply:!1,isSlashCommandShown:!1,hasBodyText:Ember.computed.bool("bodyText.length"),hasAttachments:Ember.computed.notEmpty("noteModel.attachment_ids"),enableNote:Ember.computed.or("hasBodyText","hasAttachments"),agents:Ember.computed.reads("ticketFields.agents"),isPrivateNote:Ember.computed.equal("noteType.id","private"),cloudAttachments:(0,s.default)(),scrollToAttachment:Ember.computed.not("currentUser.latestNotesFirst"),replyNote:Ember.computed.reads("mkpInterface.controlData.replyNote"),noteOptions:Ember.computed.reads("mkpInterface.controlData.replyNote.noteOptions"),dropDownOptions:Ember.computed("noteOptions","isPublicNote",function(){var e=Ember.get(this,"noteOptions");return e?Ember.get(this,"notes").filter(function(t){return e.includes(t.id)}):Ember.get(this,"notes")}),noteType:Ember.computed("isPublicNote","isDefaultTypePublic",function(){var e=Ember.get(this,"isPublicNote");return void 0===e&&(e=Ember.get(this,"isDefaultTypePublic")),e?d[0]:d[1]}),noteModel:Ember.computed(function(){var e=Ember.Object.create();return Ember.get(this,"navAlertFeatureOn")&&this.initNavAlertRelatedAttrsInComponent(),e}),noteTypeIcon:Ember.computed("noteType",function(){return Ember.get(this,"noteType.icon")}),noteTypeDescription:Ember.computed("noteType",function(){return Ember.get(this,"noteType.description")}),bodyText:Ember.computed("emailErrorNoteData","noteModel.body",function(){var e=Ember.get(this,"noteModel.body");return e||(e=Ember.get(this,"emailErrorNoteData")),e}),selected:Ember.computed("ticket","mkpToAddress",function(){var e=Ember.get(this,"currentUser.id"),t=Ember.get(this,"ticket.responderId"),n=Ember.get(this,"replyNote"),i=n?Ember.get(n,"toAddress"):null;if(i){var r=i.replace(/ /g,"").split(",");return Ember.get(this,"agents").filter(function(e){return r.includes(Ember.get(e,"contact.email"))})}if(""!==i&&t&&t!==e){return[Ember.get(this,"store").peekRecord("agent",t)]}return[]}),actions:{discard:function(){this.clearAttachments(),this.sendAction("discardConversation")},sendConversation:function(e){var t=this,n=Ember.get(this,"noteModel"),r=Ember.get(this,"isPrivateNote");Ember.set(n,"private",r),Ember.get(this,"mkpInterface.controlData.ticketAttachments.hide")&&Ember.set(n,"attachment_ids",[]);var o=Ember.get(this,"emailErrorNoteData");Ember.get(this,"noteModel.body")||(o?Ember.set(this,"noteModel.body",o):Ember.set(this,"noteModel.body","<div><br></div>")),this.setCloudFiles(n);var s=["body","user_id","attachment_ids","attachments","cloud_files","incoming","notify_emails","private"],a=(0,i.default)(n,s),c=Ember.get(this,"ticket.responder"),m=Ember.get(c,"contact.email"),d=Ember.get(this,"selected").map(function(e){return Ember.get(e,"contact.email")})||[];m&&d.concat(m),Ember.set(a,"notify_emails",d);var l={eventName:"submitNote"};this.events.publish("submitNote",l),this.clearAttachments();var u=[];return u.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.addNote"}).then(function(){return t._sendConversation(a,e)}).catch(function(e){return t._mkpPublishEventError(e)})),Ember.RSVP.Promise.all(u.compact())},discardConversation:function(){Ember.get(this,"isSlashCommandShown")||this.send("checkAndProceedToDiscard")},onSubmitConversation:function(e){document.getElementById("send-and-set").disabled||(this.send("sendConversation",e),this.disableEditor())},onInsertAttachment:function(e){Ember.get(this,"noteModel")&&Ember.set(this,"noteModel.attachment_ids",e)},contentChanged:function(e,t){Ember.set(this,"noteModel.body",e),Ember.get(this,"navAlertFeatureOn")&&this.setNavAlertOnChange(Ember.get(this,"noteModel"),t)},onChange:function(e){this.clearAttachments(),this.sendAction("changeAction",e.id)},onChangeAgent:function(e){var t=e.map(function(e){return Ember.get(e,"contact.email")});Ember.set(this,"selected",e),Ember.set(this,"noteModel.notify_emails",t)},onChangeNoteType:function(e){Ember.set(this,"noteType",e);var t="public"!==e.id;Ember.set(this,"noteModel.private",t)},searchNameEmail:function(e,t){t=t.toLowerCase();var n=Ember.get(e,"name").toLowerCase().indexOf(t);return-1==n?Ember.get(e,"contact.email").toLowerCase().indexOf(t):n}},_sendConversation:function(e,t){return Ember.get(this,"navigationAlert").resetAllValuesForComponent(Ember.get(this,"navigationObjectId")),Ember.get(this,"sendConversation")(e,t)},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.addNote",e)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/notes/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"EduEhg1t",block:'{"symbols":["agent","d"],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields ticket-action__header"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","ticket","isContentChanged","navigationObjectId","onChange","quickReply"],["notes",[20,["ticket"]],[20,["isContentChanged"]],[20,["navigationObjectId"]],[25,"action",[[19,0,[]],"onChange"],null],[20,["quickReply"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__notetype"],[9,"data-test-note-type",""],[7],[0,"\\n"],[4,"ui-components/drop-down",null,[["selected"],[[25,"if",[[20,["isPublicNote"]],"public","private"],null]]],{"statements":[[4,"component",[[19,2,["trigger"]]],null,{"statements":[[0,"          "],[6,"span"],[10,"class",[26,["ticket-action__notetypewrapper ",[25,"if",[[20,["isPrivateNote"]],"ticket-action__private vertical-align"],null]]]],[7],[0,"\\n            "],[1,[25,"svg-jar",[[20,["noteTypeIcon"]]],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n          "],[8],[0,"\\n          "],[6,"span"],[9,"data-test-id","note-type"],[9,"class","muted"],[7],[1,[25,"t",[[20,["noteTypeDescription"]]],null],false],[8],[0,"\\n          "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[25,"component",[[19,2,["content"]]],[["options","title","onChange"],[[20,["dropDownOptions"]],[25,"t",["tickets.action.notes.title"],null],[25,"action",[[19,0,[]],"onChangeNoteType"],null]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"data-test-notify-to",""],[9,"class","ticket-action__fields can-edit"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["ticket.details.actions.notifyTo"],null],false],[0,": "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"ui-form/select-field",null,[["options","search","multiple","selected","matcher","onchange"],[[20,["agents"]],false,true,[20,["selected"]],[25,"action",[[19,0,[]],"searchNameEmail"],null],[25,"action",[[19,0,[]],"onChangeAgent"],null]]],{"statements":[[0,"        "],[1,[19,1,["name"]],false],[0," ("],[1,[19,1,["contact","email"]],false],[0,")\\n"]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__editor"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["placeholder","value","shortcutenabled","ticket","quickReply","attachmentValue","onInsertAttachment","onRemoveAttachment","showCannedResponse","showCannedResponseTip","showCannedForm","showSolution","showAttachments","isSurveyEnabled","contentChanged","isLoading","autofocus","showFooter","fixedHeight","source","scrollToAttachment","skipFirstSendAction","onSubmitConversation","onEscape","isSlashCommandShown","enableSlashCommands","isValidMkpPlaceholder","cloudAttachments","model","wrapDefaultFont"],["",[20,["bodyText"]],[20,["hasBodyText"]],[20,["ticket"]],[20,["quickReply"]],[20,["computedAttachments"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[20,["isSurveyEnabled"]],[25,"action",[[19,0,[]],"contentChanged"],null],[20,["isLoading"]],true,true,332,"note",[20,["scrollToAttachment"]],false,[25,"action",[[19,0,[]],"onSubmitConversation"],null],[25,"action",[[19,0,[]],"discardConversation"],null],[20,["isSlashCommandShown"]],true,true,[20,["cloudAttachments"]],[20,["model"]],true]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-action__btn"],[7],[0,"\\n        "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"checkAndProceedToDiscard"],null],null],[9,"class","btn btn--secondary"],[7],[1,[25,"t",["form.cancel"],null],false],[8],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","label","pendingLabel","disableSubmit","externalPending","onSend"],[[25,"and",[[25,"not",[[20,["quickReply"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"t",["tickets.action.notes"],null],[25,"t",["tickets.action.addingnotes"],null],[25,"not",[[20,["enableNote"]]],null],[20,["disableSubmitExternal"]],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n  "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-replying",null,[["agentsReplying"],[[20,["agentsReplying"]]]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/notes/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/reply-to-forward/component",["exports","freshdesk/components/module-tickets/ticket-details/ticket-actions/forward/component","freshdesk/mixins/email-config","freshdesk/mixins/tickets/ticket-action","freshdesk/mixins/tickets/collapsible-email","freshdesk/utils/object-filter","freshdesk/mixins/integrations/attachment-apps","freshdesk/components/module-tickets/ticket-details/ticket-actions/forward/template"],function(e,t,r,o,n,i,a,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend(r.default,o.default,n.default,a.default,{marketplace:Ember.inject.service(),eventSources:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),layout:c.default,textForAction:"tickets.action.reply_to_forward",textForActionPending:"tickets.action.replying_to_forward",conversationType:"reply",ccInModel:Ember.computed.map("forwardModel.cc_emails",function(e){return{email:e,details:e}}),bccInModel:Ember.computed.map("forwardModel.bcc_emails",function(e){return{email:e,details:e}}),toEmailInModel:Ember.computed.map("forwardModel.to_emails",function(e){return{email:e,details:e}}),selectedCc:Ember.computed("ccInModel","mkpInterface.controlData.cc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.cc.value");if(e){var t=e.map(function(e){return Ember.get(e,"email")});return Ember.set(this,"forwardModel.cc_emails",t),e}return Ember.get(this,"ccInModel")},set:function(e,t){return t}}),selectedBcc:Ember.computed("bccInModel","mkpInterface.controlData.bcc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.bcc.value");if(e){var t=e.map(function(e){return Ember.get(e,"email")});return Ember.set(this,"forwardModel.bcc_emails",t),e}return Ember.get(this,"bccInModel")},set:function(e,t){return t}}),selectedTo:Ember.computed("toEmailInModel","mkpInterface.controlData.to.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.to.value");return e&&Ember.get(this,"forwardModel")?(Ember.set(this,"forwardModel.to_emails",e.map(function(e){return Ember.get(e,"email")})),e):Ember.get(this,"toEmailInModel")},set:function(e,t){return t}}),actions:{sendConversation:function(){var e=this;if(this.checkMinToError())return new Ember.RSVP.Promise(function(e){e({error:!0})});var t=Ember.get(this,"forwardModel");Ember.get(this,"mkpInterface.controlData.ticketAttachments.hide")&&Ember.set(t,"attachment_ids",[]);var r=["body","full_text","include_quoted_text","attachment_ids","cloud_files","from_email","to_emails","cc_emails","bcc_emails"];this.setCloudFiles(t);var o=(0,i.default)(t,r);if(!o.from_email){var n=Ember.get(this,"defaultFromEmail.replyEmail");o.from_email=n}o.body=Ember.get(this,"forwardQuotedData.bodyText"),Ember.get(this,"forwardQuotedData.quoteRemoved")||(o.full_text=Ember.get(this,"forwardQuotedData.fullText"));var a=[];return a.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.sendReply"}).then(function(){return e._sendConversation(o)}).catch(function(t){return e._mkpPublishEventError(t)})),Ember.RSVP.Promise.all(a.compact())}},_sendConversation:function(e){return Ember.get(this,"navigationAlert").resetAllValuesForComponent(Ember.get(this,"navigationObjectId")),Ember.get(this,"sendConversation")(e)},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.reply",e)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/reply/component",["exports","freshdesk/mixins/email-config","freshdesk/mixins/tickets/collapsible-email","freshdesk/utils/object-filter","freshdesk/mixins/tickets/editor-attachment","freshdesk/utils/blank-array","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/shortcuts/ticket-details/ticket-editor","freshdesk/mixins/slash-commands/config","freshdesk/utils/delete-keys-from-object","freshdesk/utils/normalized-quoted-data"],function(e,t,r,i,c,s,n,a,o,m,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=["body","full_text","user_id","attachment_ids","cloud_files","from_email","cc_emails","bcc_emails","send_survey","include_surveymonkey_link","post_to_forum_topic"],u=["include_surveymonkey_link","send_survey","cloud_files"];e.default=Ember.Component.extend(t.default,r.default,c.default,n.default,a.default,o.default,{marketplace:Ember.inject.service(),draft:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),eventSources:Ember.inject.service(),classNames:["__module-tickets__ticket-details__ticket-actions__reply"],showCollapsedEmail:!0,quickReply:!1,quotedData:null,showCc:!1,showBcc:!1,isUndoSendReply:!1,displayLength:1,maxCount:50,isSlashCommandShown:!1,fromModified:!1,showCcField:Ember.computed.or("showCc","hasCc"),showBccField:Ember.computed.or("showBcc","hasBcc"),bodyText:Ember.computed.reads("replyModel.body"),hasAttachments:Ember.computed.notEmpty("replyModel.attachment_ids"),hasBodyText:Ember.computed.bool("bodyText.length"),enableReply:Ember.computed.or("hasAttachments","hasBodyText"),attachmentValue:Ember.computed.reads("replyModel.attachments"),isCustomerReported:Ember.computed.not("ticket.requester.isAgent"),showSurvey:Ember.computed.and("currentAccount.includeSurveyManually","isCustomerReported"),showPostToForum:Ember.computed.notEmpty("ticket.ticketTopic"),selectedCcEmail:Ember.computed.mapBy("filtedCcEmail","email"),selectedBccEmail:Ember.computed.mapBy("filteredBccEmail","email"),cloudAttachments:(0,s.default)(),deleteQuotedText:Ember.computed.readOnly("mkpInterface.controlData.deleteQuotedText.click"),scrollToAttachment:Ember.computed.not("currentUser.latestNotesFirst"),isDraftSaving:Ember.computed.bool("draftSaveStatus.isSaving"),isDraftSaved:Ember.computed.bool("draftSaveStatus.isSaved"),draftSaveStatus:Ember.computed("draft.draftSaveStatus",function(){var e=Ember.getProperties(this,"draft","ticket"),t=e.draft.draftSaveStatus,r=void 0===t?[]:t,i=e.ticket.id;return r.find(function(e){return e.id==="reply_"+i})}),replyModel:Ember.computed("model.content","mkpInterface.controlData.{bcc.value,cc.value}","mkpFromEmail",function(){var e=Ember.get(this,"model.content");if(!e)return e;var t=Ember.get(this,"mkpFromEmail.replyEmail")||Ember.get(this,"mkpFromEmail.reply_email");t&&!Ember.get(this,"fromModified")&&Ember.set(e,"from_email",t);var r=Ember.get(this,"mkpInterface.controlData.bcc.value");if(r){var i=r.map(function(e){return Ember.get(e,"email")});e.bcc_emails=i}var c=Ember.get(this,"mkpInterface.controlData.cc.value");if(c){var s=c.map(function(e){return Ember.get(e,"email")});e.cc_emails=s}return e}),quotedText:Ember.computed("replyModel.quoted_text","deleteQuotedText",function(){return Ember.get(this,"deleteQuotedText")?null:Ember.get(this,"replyModel.quoted_text")}),hasImageAnnotationFeature:Ember.computed("currentAccount.accountData","quickReply",function(){return Ember.get(this,"currentAccount")&&Ember.get(this,"currentAccount").hasFeature("image_annotation")&&!Ember.get(this,"quickReply")}),isLoading:Ember.computed("model.isPending",function(){return Ember.get(this,"model.isPending")||!1}),filtedCcEmail:Ember.computed("selectedCc.[]",function(){var e=Ember.get(this,"selectedCc");return this.getValidEmail(e)}),filteredBccEmail:Ember.computed("selectedBcc.[]",function(){var e=Ember.get(this,"selectedBcc");return this.getValidEmail(e)}),toEmail:Ember.computed("ticket.requester",function(){var e=Ember.get(this,"ticket.senderEmail")||Ember.get(this,"ticket.requester.email"),t=Ember.get(this,"ticket.requester.name");return[e||t]}),ccInTicket:Ember.computed.map("ticket.replyCcEmails",function(e){return{email:e,details:e}}),ccInDraftOrUndoneNote:Ember.computed.map("replyModel.cc_emails",function(e){return{email:e,details:e}}),selectedCc:Ember.computed("hasDraft","ccInTicket","ccInDraftOrUndoneNote","mkpInterface.controlData.cc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.cc.value");return e||(Ember.get(this,"hasDraft")||Ember.get(this,"isUndoSendReply")||Ember.get(this,"ccInDraftOrUndoneNote").length>0?Ember.get(this,"ccInDraftOrUndoneNote"):Ember.get(this,"ccInTicket"))},set:function(e,t){return t}}),_selectedBcc:Ember.computed.map("replyModel.bcc_emails",function(e){return{email:e,details:e}}),selectedBcc:Ember.computed("model.isPending","mkpInterface.controlData.bcc.value",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.bcc.value");return e||Ember.get(this,"_selectedBcc")},set:function(e,t){return t}}),hasCc:Ember.computed("selectedCc",function(){return Boolean(Ember.get(this,"selectedCc.length"))}),hasBcc:Ember.computed("selectedBcc",function(){return Boolean(Ember.get(this,"selectedBcc.length"))}),allEmail:Ember.computed("replyModel.{cc_emails,bcc_emails}",function(){return[].concat(Ember.get(this,"toEmail"),Ember.get(this,"selectedCcEmail"),Ember.get(this,"selectedBccEmail"))}),replyQuotedData:Ember.computed("quotedData","replyModel.{quoted_text,body}",function(){return(0,l.default)(Ember.get(this,"quotedText"),Ember.get(this,"replyModel.body"),Ember.get(this,"quotedData"))}),init:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").on("fromUpdated",this.fromUpdated.bind(this)),Ember.get(this,"marketplace").on("activeEmailConfigUpdated",this.activeEmailConfigUpdated.bind(this)),Ember.get(this,"activeEmailConfigTask").perform()},willDestroyElement:function(){this._super.apply(this,arguments),Ember.get(this,"marketplace").off("activeEmailConfigUpdated"),Ember.get(this,"marketplace").off("fromUpdated")},actions:{contentChanged:function(e){var t=Ember.get(this,"replyModel");Ember.isPresent(t)&&Ember.set(this,"replyModel.body",e),this._saveDraft()},discardConversation:function(){Ember.get(this,"isSlashCommandShown")||this.sendAction("discardConversation")},clearCc:function(){Ember.set(this,"showCc",!1),Ember.set(this,"replyModel.cc_emails",[]),Ember.set(this,"selectedCc",[])},clearBcc:function(){Ember.set(this,"selectedBcc",[]),Ember.set(this,"showBcc",!1),Ember.set(this,"replyModel.bcc_emails",[])},togglecc:function(){Ember.set(this,"showCc",!0)},togglebcc:function(){Ember.set(this,"showBcc",!0)},onClickCollapsedEmail:function(){Ember.set(this,"showCollapsedEmail",!1)},onEditorFocus:function(){Ember.set(this,"showCollapsedEmail",!0)},onChange:function(e){this.clearAttachments(),this.sendAction("changeAction",e.id)},updateSurvey:function(e){Ember.set(this,"replyModel.send_survey",e)},updateSurveyMonkey:function(e){Ember.set(this,"replyModel.include_surveymonkey_link",Number(e))},onChangeCc:function(e){Ember.set(this,"selectedCc",e);var t=Ember.get(this,"selectedCcEmail");Ember.set(this,"replyModel.cc_emails",t),Ember.set(this,"selectedCc",e),this.checkMaxEmailError()},onChangeBcc:function(e){Ember.set(this,"selectedBcc",e);var t=Ember.get(this,"selectedBccEmail");Ember.set(this,"replyModel.bcc_emails",t),this.checkMaxEmailError()},onChangeFrom:function(e){var t=Ember.get(e,"replyEmail")||Ember.get(e,"reply_email");Ember.setProperties(this,{fromEmail:e,"replyModel.from_email":t,fromModified:!0})},getQuoted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ember.set(this,"quotedData",e),this._saveDraft()},onInsertAttachment:function(e){Ember.get(this,"model.then")&&Ember.get(this,"model").then(this._onInsertAttachment.bind(this,e))},sendConversation:function(e){var t=this,r=Ember.get(this,"replyModel");Ember.get(this,"mkpInterface.controlData.ticketAttachments.hide")&&Ember.set(r,"attachment_ids",[]),this.setCloudFiles(r);var c=(0,i.default)(r,d);if(!c.from_email){var s=Ember.get(this,"defaultFromEmail.replyEmail");c.from_email=s}c.body=Ember.get(this,"replyQuotedData.bodyText"),Ember.get(this,"replyQuotedData.quoteRemoved")||(c.full_text=Ember.get(this,"replyQuotedData.fullText"));var n=Object.assign({},c);n=(0,m.default)(n,u),Ember.set(n,"to_email",Ember.get(this,"toEmail"));var a=[];return a.push(Ember.get(this,"marketplace").publishEvent({event:"ticket.sendReply",data:n}).then(function(){return t._sendConversation(c,e)}).catch(function(e){return t._mkpPublishEventError(e)})),Ember.RSVP.Promise.all(a.compact())},onSubmitConversation:function(e){document.getElementById("send-and-set").disabled||(this.send("sendConversation",e),this.disableEditor())}},willDestroy:function(){this._super.apply(this,arguments),this.clearAttachments(),Ember.get(this,"marketplace").off("fromUpdated")},_onInsertAttachment:function(e){Ember.get(this,"replyModel")&&(Ember.set(this,"replyModel.attachment_ids",e),this._saveDraft())},_saveDraft:function(){var e=Ember.get(this,"replyModel");if(!Ember.get(this,"isLoading")&&e){var t=["body","quoted_text","cc_emails","bcc_emails","from_email","attachment_ids"],r=(0,i.default)(e,t),c=Ember.get(this,"replyQuotedData"),s=c?Ember.get(c,"quoteRemoved"):null,n=Ember.$("<div>"+r.body+"</div>").find(".freshdesk_quote").length;(s||n)&&Ember.set(r,"quoted_text",null),Ember.get(this,"ticket.inlineAttachmentIds")&&Ember.set(this,"model.inlineAttachmentIds",Ember.get(this,"ticket.inlineAttachmentIds")),Ember.get(this,"model.inlineAttachmentIds")&&Ember.set(r,"inline_attachment_ids",Ember.get(this,"model.inlineAttachmentIds")),r.body&&this.sendAction("saveDraft",r)}},checkMaxEmailError:function(){var e=Ember.get(this,"selectedCc.length"),t=Ember.get(this,"selectedBcc.length"),r=Ember.get(this,"maxCount");e>r||t>r?this.sendAction("showError","maxEmail"):this.sendAction("removeError","maxEmail")},getValidEmail:function(e){var t=Ember.get(this,"maxCount");return e.slice(0,t).filter(function(e){return void 0===e.valid||!0===e.valid})},_sendConversation:function(e,t){return Ember.get(this,"sendConversation")(e,t)},_mkpPublishEventError:function(e){return Ember.get(this,"eventSources").errorHandler("marketplace.errors.tickets.reply",e)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/reply/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"VZOnVwNd",block:'{"symbols":["option","email","option","email"],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[9,"data-test-id","reply-action"],[7],[0,"\\n\\n  "],[6,"div"],[9,"class","ticket-action__fields ticket-action__header"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","ticket","onChange","quickReply"],["reply",[20,["ticket"]],[25,"action",[[19,0,[]],"onChange"],null],[20,["quickReply"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[10,"class",[26,["ticket-action__field ticket-action__from ",[25,"if",[[20,["mkpInterface","controlData","from","hide"]],"hide"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__label"],[7],[1,[25,"t",["fd.from"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__email ticket-action__from-email ellipsis"],[7],[0,"\\n"],[4,"if",[[20,["emailConfigLoaded"]]],null,{"statements":[[4,"if",[[25,"gt",[[20,["customGlobalEmailConfig","length"]],1],null]],null,{"statements":[[0,"            "],[1,[25,"app-components/from-email",null,[["disabled","isEditor","fromOptions","selectedEmailConfig","onchange"],[[20,["mkpInterface","controlData","from","disable"]],true,[20,["customGlobalEmailConfig"]],[20,["filteredSelectedEmail"]],[25,"action",[[19,0,[]],"onChangeFrom"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","hint--rounded hint--top-right element-flex"],[10,"aria-label",[20,["customGlobalEmailConfig","firstObject","replyEmail"]],null],[7],[0,"\\n              "],[6,"div"],[9,"class","ticket-action__fromemail ellipsis"],[7],[0,"\\n                "],[6,"span"],[9,"class","from-email-name"],[7],[1,[25,"if",[[20,["showAgent"]],[20,["agentName"]],[20,["customGlobalEmailConfig","firstObject","name"]]],null],false],[8],[0,"\\n                "],[6,"span"],[9,"class","from-email"],[7],[0,"("],[1,[20,["customGlobalEmailConfig","firstObject","replyEmail"]],false],[0,")"],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-replying",null,[["agentsReplying"],[[20,["agentsReplying"]]]]],false],[0,"\\n"],[4,"ui-components/toggle-view",null,[["showDefault"],[false]],{"statements":[[0,"    "],[6,"div"],[10,"class",[26,["ticket-action__email--collapsed ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","to","hide"]],"hide"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__email ticket-action__requester"],[9,"id","collapsed-email"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/collapsed-email",null,[["onClick","wrapperId","displayLength","cc","bcc","to"],[[25,"action",[[19,0,[]],"onClickCollapsedEmail"],null],"ticket-action",[20,["displayLength"]],[20,["selectedCcEmail"]],[20,["selectedBccEmail"]],[20,["toEmail"]]]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__copyemail"],[10,"onclick",[25,"action",[[19,0,[]],"onClickCollapsedEmail"],null],null],[7],[0,"\\n        "],[6,"span"],[10,"onclick",[25,"action",[[19,0,[]],"togglecc"],null],null],[9,"role","button"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null],null],[7],[6,"span"],[9,"class","cc-count"],[7],[4,"if",[[20,["selectedCc","length"]]],null,{"statements":[[1,[20,["selectedCc","length"]],false]],"parameters":[]},null],[8],[0," "],[1,[25,"t",["fd.cc"],null],false],[8],[0,"\\n        "],[6,"span"],[10,"onclick",[25,"action",[[19,0,[]],"togglebcc"],null],null],[9,"role","button"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null],null],[7],[6,"span"],[9,"class","bcc-count"],[7],[4,"if",[[20,["selectedBcc","length"]]],null,{"statements":[[1,[20,["selectedBcc","length"]],false]],"parameters":[]},null],[8],[0," "],[1,[25,"t",["fd.bcc"],null],false],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[10,"class",[26,["ticket-action__fields ",[25,"if",[[20,["mkpInterface","controlData","to","hide"]],"hide"],null]]]],[9,"data-test-requester",""],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__field ticket-action__email ticket-action__requester ellipsis"],[7],[0,"\\n        "],[1,[18,"toEmail"],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","ticket-action__copyemail"],[7],[0,"\\n"],[4,"if",[[25,"not",[[20,["showCcField"]]],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"data-test-cc-btn",""],[10,"onclick",[25,"action",[[19,0,[]],"togglecc"],null],null],[9,"role","button"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null],null],[7],[1,[25,"t",["fd.cc"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"not",[[20,["showBccField"]]],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"data-test-bcc-btn",""],[10,"onclick",[25,"action",[[19,0,[]],"togglebcc"],null],null],[9,"role","button"],[10,"class",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null],null],[7],[1,[25,"t",["fd.bcc"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n\\n"],[4,"if",[[25,"or",[[20,["showCcField"]],[20,["showBccField"]]],null]],null,{"statements":[[4,"if",[[20,["showCcField"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,["ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","cc","hide"]],"hide"],null]]]],[9,"data-test-cc",""],[7],[0,"\\n          "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.cc"],null],false],[0,": "],[8],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","cc","disable"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n              "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedCc"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","display__email"],[7],[1,[19,4,["details"]],false],[8],[0,"\\n"]],"parameters":[4]},null],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"ui-form/remote-select-field",null,[["selected","onchange","multiple","allowCreate","maxcount","autofocus","url"],[[20,["selectedCc"]],[25,"action",[[19,0,[]],"onChangeCc"],null],true,true,[20,["maxCount"]],true,"/search/autocomplete/requesters"]],{"statements":[[0,"                "],[1,[19,3,["details"]],false],[0,"\\n"]],"parameters":[3]},null],[0,"            "],[8],[0,"\\n"],[4,"if",[[20,["selectedCc","length"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"role","button"],[10,"class",[26,["ticket-action__field ticket-action__clear ",[25,"if",[[20,["mkpInterface","controlData","cc","disable"]],"hide"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"clearCc"],null],null],[7],[1,[25,"t",["fd.clearcc"],null],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showBccField"]]],null,{"statements":[[0,"        "],[6,"div"],[10,"class",[26,["ticket-action__fields can-edit ",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null]]]],[9,"data-test-bcc",""],[7],[0,"\\n          "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.bcc"],null],false],[0,": "],[8],[0,"\\n          "],[6,"div"],[9,"class","ticket-action__field ticket-action__email"],[7],[0,"\\n"],[4,"if",[[20,["mkpInterface","controlData","bcc","disable"]]],null,{"statements":[[0,"              "],[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["selectedBcc"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","display__email"],[7],[1,[19,2,["details"]],false],[8],[0,"\\n"]],"parameters":[2]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-form/remote-select-field",null,[["selected","onchange","multiple","maxcount","autofocus","url"],[[20,["selectedBcc"]],[25,"action",[[19,0,[]],"onChangeBcc"],null],true,[20,["maxCount"]],false,"/search/autocomplete/requesters"]],{"statements":[[0,"                "],[1,[19,1,["details"]],false],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]}],[0,"          "],[8],[0,"\\n"],[4,"if",[[20,["selectedBcc","length"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"role","button"],[10,"class",[26,["ticket-action__field ticket-action__clear ",[25,"if",[[20,["mkpInterface","controlData","bcc","hide"]],"hide"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"clearBcc"],null],null],[7],[1,[25,"t",["fd.clearbcc"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}],[0,"  "],[6,"div"],[9,"class","ticket__editor-reply"],[7],[0,"\\n"],[4,"ui-form/editor/ticket-editor",null,[["placeholder","shortcutenabled","value","bodyTextForInsert","ticket","quickReply","onFocus","attachmentValue","onInsertAttachment","onRemoveAttachment","quotedText","showCannedResponse","showCannedResponseTip","showCannedForm","showSolution","showAttachments","showPostToForum","showSurvey","updateSurvey","updateSurveyMonkey","isSurveyEnabled","contentChanged","isLoading","getQuoted","showFooter","fixedHeight","source","scrollToAttachment","autofocus","clearFileCache","insertBroadcast","broadcastedMessage","onSubmitConversation","onEscape","isSlashCommandShown","hasImageAnnotationFeature","enableSlashCommands","isValidMkpPlaceholder","cloudAttachments","installedApps","model","wrapDefaultFont"],["",true,[20,["bodyText"]],[20,["bodyTextForInsert"]],[20,["ticket"]],[20,["quickReply"]],[25,"action",[[19,0,[]],"onEditorFocus"],null],[20,["computedAttachments"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null],[20,["quotedText"]],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[25,"not",[[20,["quickReply"]]],null],[20,["showPostToForum"]],[20,["showSurvey"]],[25,"action",[[19,0,[]],"updateSurvey"],null],[25,"action",[[19,0,[]],"updateSurveyMonkey"],null],[20,["isSurveyEnabled"]],[25,"action",[[19,0,[]],"contentChanged"],null],[20,["isLoading"]],[25,"action",[[19,0,[]],"getQuoted"],null],true,332,"reply",[20,["scrollToAttachment"]],true,true,[20,["insertBroadcast"]],[20,["broadcastedMessage"]],[25,"action",[[19,0,[]],"onSubmitConversation"],null],[25,"action",[[19,0,[]],"discardConversation"],null],[20,["isSlashCommandShown"]],[20,["hasImageAnnotationFeature"]],true,true,[20,["cloudAttachments"]],[20,["installedApps"]],[20,["model"]],true]],{"statements":[[0,"      "],[6,"div"],[9,"class","ticket-action__btn reply-btn-wrapper"],[7],[0,"\\n        "],[6,"div"],[9,"class","draft-status text--antialias"],[7],[0,"\\n"],[4,"if",[[20,["isDraftSaving"]]],null,{"statements":[[0,"            "],[1,[25,"t",["ticket.details.draft.saving"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isDraftSaved"]]],null,{"statements":[[0,"            "],[1,[25,"t",["ticket.details.draft.saved"],null],false],[0,"\\n          "]],"parameters":[]},null]],"parameters":[]}],[0,"        "],[8],[0,"\\n        "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn discard-draft app-icon-btn"],[9,"data-test-button","discard-conversation"],[7],[0,"\\n          "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","reply-btn"],[7],[0,"\\n          "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","disableSubmit","externalPending","onSend"],[[25,"and",[[25,"not",[[20,["quickReply"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"not",[[20,["enableReply"]]],null],[20,["disableSubmitExternal"]],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/reply/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/change-actions/component",["exports","freshdesk/constants/ticket"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[{id:"reply",label:"tickets.action.reply"},{id:"notes",label:"tickets.action.addnote"},{id:"forward",label:"tickets.action.forward"},{id:"broadcast",label:"tickets.action.broadcast"}];e.default=Ember.Component.extend({currentUser:Ember.inject.service(),navigationAlert:Ember.inject.service("navigation-alert"),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__ticket-details__ticket-actions__shared__change-actions"],quickReply:!1,previousSelected:null,isTrackerTicket:Ember.computed.equal("ticket.associationType",t.default.associationType.tracker),relatedTicketsCount:Ember.computed.reads("ticket.associatedTicketsCount"),twitterBlocked:Ember.computed("ticket.source","currentAccount.config.social.twitter_app_blocked",function(){return Ember.get(this,"currentAccount.config.social.twitter_app_blocked")&&Ember.get(this,"ticket.source")===t.TWITTER_SOURCE}),actionState:Ember.computed("navigationAlert.actionState",function(){var e=this;Ember.run.later(function(){var t=Ember.get(e,"navigationAlert.actionState"),r=Ember.get(e,"previousSelected");t&&r&&(Ember.set(e,"type",Ember.get(e,"previousSelected")),Ember.set(e,"navigationAlert.actionState",Ember.get(e,"navigationAlert.notProgressing")),Ember.set(e,"previousSelected",null))})}),privilegedTicketActions:Ember.computed("twitterBlocked",function(){var e=this,t=Ember.get(this,"twitterBlocked"),i=Ember.get(this,"isTrackerTicket"),a=Ember.get(this,"relatedTicketsCount"),c=function(t,r,i){return t.id===r&&Ember.get(e,"currentUser").hasAbility(i)};return r.filter(function(r){var o=Ember.get(e,"mkpInterface");return!(!c(r,"forward","forward_ticket")||Ember.get(e,"quickReply")||Ember.get(o,"controlData.replyNote.hideForward")||Ember.get(o,"controlData.replyNote.disableForward"))||(!(!c(r,"reply","reply_ticket")||t||Ember.get(o,"controlData.replyNote.hideReply")||Ember.get(o,"controlData.replyNote.disableReply"))||("notes"===r.id&&!Ember.get(o,"controlData.replyNote.hideNote")&&!Ember.get(o,"controlData.replyNote.disableNote")||(!(!(c(r,"broadcast","reply_ticket")&&i&&a)||Ember.get(e,"quickReply"))||void 0)))})}),label:Ember.computed("type",function(){return"tickets.action."+this.getAttr("type")}),actions:{onChange:function(e,t){Ember.get(this,"isContentChanged")&&"reply"!=t?(Ember.set(this,"previousSelected",t),Ember.get(this,"navigationAlert").showNavAlert(Ember.get(this,"navigationObjectId"),this,this.actions.navAlertProceedCB,this.actions.navAlertDiscardCB,e)):this.send("navAlertProceedCB",e)},navAlertProceedCB:function(e){this.attrs.onChange(e)},navAlertDiscardCB:function(){Ember.set(this,"navigationAlert.actionState",Ember.get(this,"navigationAlert.inProgress"))}}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/change-actions/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"wREIRb1a",block:'{"symbols":["d"],"statements":[[4,"ui-components/drop-down",null,[["actionState","selected"],[[20,["actionState"]],[20,["type"]]]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"    "],[1,[25,"svg-jar",[[20,["type"]]],[["class"],[[25,"concat",["app-icon app-icon--small app-icon--topalign ",[20,["type"]]],null]]]],false],[0,"\\n    "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"  "],[1,[25,"component",[[19,1,["content"]]],[["options","onChange"],[[20,["privilegedTicketActions"]],[25,"action",[[19,0,[]],"onChange"],null]]]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/change-actions/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/collapsed-email/component",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({classNames:["__module-tickets__ticket-details__ticket-actions__shared__collapsed-email"],showLeftEmail:!1,allEmailLength:Ember.computed.readOnly("allEmails.length"),toLength:Ember.computed.readOnly("to.length"),ccLength:Ember.computed.readOnly("cc.length"),bccLength:Ember.computed.readOnly("bcc.length"),displayEmailLength:Ember.computed.readOnly("displayEmail.length"),allEmails:Ember.computed("to","cc","bcc",function(){return[].concat(this.getAttr("to")||[],this.getAttr("cc")||[],this.getAttr("bcc")||[])}),displayEmail:Ember.computed("allEmails","displayLength",function(){var t=Ember.get(this,"allEmails"),e=Ember.get(this,"displayLength");return t.slice(0,e)}),leftEmail:Ember.computed("allEmailLength","displayEmailLength",function(){return Ember.get(this,"allEmailLength")-Ember.get(this,"displayEmailLength")}),leftToCount:Ember.computed("toLength","displayEmailLength",function(){return Ember.get(this,"to.length")-Ember.get(this,"displayEmailLength")}),leftCcCount:Ember.computed("toLength","ccLength","displayEmailLength",function(){var t=Ember.get(this,"displayEmailLength"),e=Ember.get(this,"ccLength"),l=Ember.get(this,"toLength");return t<=l?e:e-(t-l)}),leftBccCount:Ember.computed("toLength","ccLength","bccLength","displayEmailLength",function(){var t=Ember.get(this,"displayEmailLength"),e=Ember.get(this,"toLength"),l=Ember.get(this,"ccLength"),i=Ember.get(this,"bccLength");return t<=e+l?i:i-(t-(e+l))}),showMore:Ember.computed("displayEmailLength","allEmailLength",function(){return Ember.get(this,"allEmailLength")>Ember.get(this,"displayEmailLength")}),click:function(){this.sendAction("onClick")}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/collapsed-email/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"iSAQSpgs",block:'{"symbols":["email"],"statements":[[6,"span"],[9,"id","display__emails"],[9,"class","display__emails"],[7],[0,"\\n"],[4,"each",[[20,["displayEmail"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"class","display__email"],[7],[1,[19,1,[]],false],[8],[0,"\\n"]],"parameters":[1]},null],[8],[0,"\\n"],[6,"span"],[9,"class","display__more"],[7],[0,"\\n"],[4,"if",[[20,["leftEmail"]]],null,{"statements":[[0,"    +"],[1,[18,"leftEmail"],false],[0," "],[1,[25,"t",["fd.expand.collapse.more"],null],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["showMore"]],[20,["showLeftEmail"]]],null]],null,{"statements":[[0,"    (\\n"],[4,"if",[[25,"gt",[[20,["leftToCount"]],0],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","dis_email"],[7],[1,[18,"leftToCount"],false],[0," "],[1,[25,"t",["fd.to"],null],false],[0," "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"gt",[[20,["leftCcCount"]],0],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","dis_email"],[7],[1,[18,"leftCcCount"],false],[0," cc "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"gt",[[20,["leftBccCount"]],0],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","dis_email"],[7],[1,[18,"leftBccCount"],false],[0," bcc"],[8],[0,"\\n"]],"parameters":[]},null],[0,"    )\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/collapsed-email/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/error-message/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/error-message/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"8aKnOr22",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","error-block error-block--replysection"],[7],[0,"\\n  "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon app-icon--small app-icon--error app-icon--topalign"]]],false],[0,"\\n  "],[1,[18,"message"],false],[0,"\\n\\n"],[4,"if",[[20,["clearError"]]],null,{"statements":[[0,"    "],[6,"button"],[9,"class","pull-right"],[3,"action",[[19,0,[]],[20,["clearError"]]]],[7],[0,"\\n      ×\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/error-message/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/hide-action/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"",actions:{hideAction:function(){this.attrs.hideAction()}}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/hide-action/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"i9qrRhw4",block:'{"symbols":[],"statements":[[6,"a"],[10,"onclick",[25,"action",[[19,0,[]],"hideAction"],null],null],[10,"aria-label",[25,"t",["fd.discard"],null],null],[9,"class","ticketaction__delete hint--rounded hint--bottom app-icon-btn"],[7],[0,"\\n  "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/hide-action/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({ticketFields:Ember.inject.service(),i18n:Ember.inject.service(),classNames:["__module-tickets__ticket-details__ticket-actions__shared__send-and-set"],canSetStatus:!1,_status:Ember.computed.reads("ticketFields.statusChoices"),isPending:Ember.computed.or("pendingState","externalPending"),disableBtn:Ember.computed.or("isPending","disableSubmit"),contentLength:Ember.computed.reads("status.length"),label:Ember.computed(function(){return Ember.get(this,"i18n").t("ticket.submit.send")}),pendingLabel:Ember.computed(function(){return Ember.get(this,"i18n").t("ticket.submit.sending")}),status:Ember.computed.filter("_status",function(e){return 2!==Ember.get(e,"value")}),actions:{send:function(e){Ember.set(this,"pendingState",!0),this.onClick(e)},onOpen:function(){Ember.set(this,"keyboardPriority",2),Ember.set(this,"keyboardFirstResponder",!0)},onClose:function(){Ember.set(this,"activeItem",0),Ember.set(this,"keyboardPriority",0),Ember.set(this,"keyboardFirstResponder",!1)}},onClick:function(e){var t=this;Ember.get(this,"onSend")(e).finally(function(){Ember.set(t,"pendingState",!1)})},calculatePosition:function(e,t){var n=e.getBoundingClientRect(),i=n.top,s=n.height,r=t.getBoundingClientRect(),o=r.height,c={};return i+250>window.innerHeight&&(c.top=-(o+s/2)),{style:c}}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/sub-options/component",["exports","freshdesk/mixins/shortcuts/navigation-list"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(t.default,{i18n:Ember.inject.service(),tagName:"",currentIndex:0,enterDebounceTime:1e3,contentLength:Ember.computed.reads("status.length"),label:Ember.computed(function(){return Ember.get(this,"i18n").t("ticket.submit.send")}),rowElements:Ember.computed("keyboardPriority",function(){return document.querySelectorAll(".send-and-set-dropdown .dropdown-normal .app-dropdown__item")}),parentEle:Ember.computed("keyboardPriority",function(){return document.querySelector(".send-and-set-dropdown .dropdown-normal")}),boundingClientRect:Ember.computed("parentEle",function(){return Ember.get(this,"parentEle").getBoundingClientRect()}),actions:{send:function(e){this.sendAction("sendConversationWithSatatus",e)},currentItem:function(e){var t=Ember.get(this,"activeItem");if("enter"==e){var n=Ember.get(this,"status"),r=Ember.get(this,"currentIndex");this.send("send",n[r].value)}else Ember.set(this,"currentIndex",t),this.scrollElement(t,e)}},scrollElement:function(e,t){var n=Ember.get(this,"rowElements")[e],r=Ember.get(this,"boundingClientRect").top+0,o=window.innerHeight-Ember.get(this,"boundingClientRect").bottom+20,i=Ember.$(Ember.get(this,"parentEle")).scrollTop(),s=Ember.get(this,"parentEle").clientHeight/2,d=void 0;d="moveDown"==t?i+s:i-s,Ember.get(this,"scroller").scrollVertical(n,{parent:".send-and-set-dropdown .dropdown-normal",scrollOnlyIfInvisible:!0,offsetTop:parseInt(r),offsetHeight:-parseInt(o),duration:500,scrollTo:d})}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/sub-options/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"H9rNsP6i",block:'{"symbols":["s","index"],"statements":[[4,"each",[[20,["status"]]],null,{"statements":[[0,"  "],[6,"li"],[10,"class",[26,["app-dropdown__item ",[25,"if",[[25,"eq",[[19,2,[]],[20,["activeItem"]]],null],"list--active"],null]]]],[9,"data-test-id","send-and-set"],[7],[0,"\\n    "],[6,"a"],[10,"data-test-link",[26,["dropdown-submit-",[19,1,["translatedLabel"]]]]],[10,"onclick",[25,"action",[[19,0,[]],"send",[19,1,["value"]]],null],null],[9,"href","javascript:void(0)"],[9,"class","send-and-set-item"],[9,"draggable","false"],[7],[0,"\\n      "],[1,[18,"label"],false],[0," "],[1,[25,"t",["tickets.and_set_as"],null],false],[0," "],[1,[19,1,["translatedLabel"]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[1,2]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/sub-options/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"jRAqw9D8",block:'{"symbols":["dropdown"],"statements":[[6,"div"],[9,"class","btn-group send-and-set"],[7],[0,"\\n  "],[6,"button"],[9,"type","button"],[9,"data-test-id","submit"],[9,"id","send-and-set"],[10,"disabled",[25,"if",[[20,["disableBtn"]],"disabled"],null],null],[9,"class","btn btn--primary"],[10,"onclick",[25,"action",[[19,0,[]],"send",null],null],null],[7],[0,"\\n"],[4,"if",[[20,["isPending"]]],null,{"statements":[[0,"      "],[1,[18,"pendingLabel"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[18,"label"],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[4,"if",[[20,["canSetStatus"]]],null,{"statements":[[4,"basic-dropdown",null,[["horizontalPosition","renderInPlace","data-test-id","calculatePosition","onOpen","onClose"],["center",true,"btn-dropdown",[20,["calculatePosition"]],[25,"action",[[19,0,[]],"onOpen"],null],[25,"action",[[19,0,[]],"onClose"],null]]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["tabindex","class"],["0","send-and-set-trigger trigger-shortcuts"]],{"statements":[[0,"        "],[6,"div"],[9,"class","btn-group dropup"],[7],[0,"\\n          "],[6,"button"],[9,"type","button"],[10,"disabled",[25,"if",[[20,["disableBtn"]],"disabled"],null],null],[9,"class","btn btn--primary trigger-shortcuts dropdown-toggle set-btn"],[7],[0,"\\n            "],[6,"span"],[9,"class","caret"],[7],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown send-and-set-dropdown"]],{"statements":[[0,"        "],[6,"ul"],[9,"class","dropdown-normal"],[10,"onclick",[25,"action",[[19,0,[]],[19,1,["actions","close"]]],null],null],[7],[0,"\\n          "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set/sub-options",null,[["label","sendConversationWithSatatus","status","onSend"],[[20,["label"]],[25,"action",[[19,0,[]],"send"],null],[20,["status"]],[20,["onSend"]]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/shared/send-and-set/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/twitter-reply/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/tickets/ticket-action","freshdesk/utils/object-filter","freshdesk/mixins/tickets/editor-attachment","freshdesk/utils/count-twitter-characters","ember-inject-scripts"],function(e,t,r,i,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=[{id:"dm",label:"ticket.details.twitter.dm",icon:"dm"},{id:"mention",label:"ticket.details.twitter.mention",icon:"mention"}];e.default=Ember.Component.extend(r.default,n.default,{store:Ember.inject.service(),ajax:Ember.inject.service(),currentAccount:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),messageType:c,isFocused:!1,quickReply:!1,requesterTwitterId:Ember.computed.reads("ticket.requester.twitterId"),isDirectMessage:Ember.computed.reads("ticket.isDirectMessage"),bodyText:Ember.computed.alias("replyModel.body"),tweetType:Ember.computed.alias("ticket.tweet.tweet_type"),hasBodyText:Ember.computed.bool("bodyText.length"),selectedHandle:Ember.computed("ticket.responderTwitterHandle","mkpInterface.controlData.from.value",function(){var e=Ember.get(this,"mkpInterface.controlData.from.value");if(e&&!Ember.get(this,"isDirectMessage")){e=e.startsWith("@")?e.substring(1):e;return Ember.get(this,"store").peekAll("twitter-handle").findBy("screenName",e)||Ember.get(this,"ticket.responderTwitterHandle")}return Ember.get(this,"ticket.responderTwitterHandle")}),replyModel:Ember.computed(function(){var e=Ember.get(this,"selectedMessageType.id"),t=parseInt(Ember.get(this,"selectedHandle.id")),r=Ember.get(this,"requesterTwitterId"),i=Ember.get(this,"ticket"),n=Ember.get(i,"conversations"),s=[];n&&(n=n.sortBy("id"),n.reverse().forEach(function(e){if(Ember.get(e,"incoming")){var t=Ember.get(e,"user"),r=Ember.get(t,"twitterId");r&&-1===s.indexOf(r)&&s.push(r)}})),-1===s.indexOf(r)&&s.push(r);var o="";return s.forEach(function(e){o+="@"+e+" "}),Ember.Object.create({tweet_type:e,twitter_handle_id:t,body:o})}),twitterHandles:Ember.computed(function(){return Ember.get(this,"store").peekAll("twitter-handle")}),selectedMessageType:Ember.computed({get:function(){return"dm"===Ember.get(this,"tweetType")?c[0]:c[1]},set:function(e,t){return t}}),maxCount:Ember.computed("selectedMessageType",function(){return"dm"===Ember.get(this,"selectedMessageType.id")?t.default.twitter.dm.textCount:t.default.twitter.tweet.textCount}),attachmentConfig:Ember.computed("selectedMessageType",function(){return"dm"===Ember.get(this,"selectedMessageType.id")?t.default.twitter.dm.attachment:t.default.twitter.tweet.attachment}),showAttachmentBtn:Ember.computed("tweetType",function(){var e=Ember.get(this,"tweetType");return"dm"===e&&Ember.get(this,"currentAccount").launched("twitter_dm_outgoing_attachment")||"mention"===e&&Ember.get(this,"currentAccount").launched("twitter_mention_outgoing_attachment")}).readOnly(),bodyTextLength:Ember.computed("replyModel.body",function(){var e=Ember.get(this,"replyModel.body");return(0,s.default)(e)}),canSkipFollwerCheck:Ember.computed("isDirectMessage","selectedMessageType.id",function(){return Ember.get(this,"isDirectMessage")||"mention"===Ember.get(this,"selectedMessageType.id")}),maxErrorObserver:Ember.observer("replyModel.body","selectedMessageType","selectedHandle",function(){var e=Ember.get(this,"bodyTextLength"),t=Ember.get(this,"maxCount"),r=Ember.get(this,"selectedMessageType.id"),i=e>t;this.checkDmCharacterLimit(i,r),this.checkMentionCharacterLimit(i,r)}),init:function(){this._super.apply(this,arguments),window.twttr?this.checkFollowing():(0,o.default)("https://fassetsblue.freshdesk.com/production/a/assets/external-js/twitter-text-3.0.1-4a2366f0bbb1605faacc6877502883c4.js").then(this.checkFollowing.bind(this))},actions:{changeAgentHandle:function(e,t){t.actions.close();var r=Ember.get(e,"id"),i=Ember.get(this,"replyModel");Ember.set(i,"twitter_handle_id",parseInt(r)),Ember.set(this,"selectedHandle",e),this.checkFollowing()},onChangeTweetType:function(e){var t=Ember.get(this,"replyModel");Ember.set(this,"selectedMessageType",e),Ember.set(t,"tweet_type",e.id),this.checkFollowing()},discardConversation:function(){this.sendAction("discardConversation")},onInsertAttachment:function(e){this._onInsertAttachment(e)},sendConversation:function(e){var t=[],r=Ember.get(this,"selectedMessageType.id"),n=Ember.get(this,"bodyText");if("mention"!==r||!this.checkRequesterHandlePresentInBody(n)){var s=Ember.get(this,"replyModel"),o=["body","tweet_type","twitter_handle_id","attachment_ids"],c=(0,i.default)(s,o);t.push(this._sendConversation(c,e))}return Ember.RSVP.Promise.all(t.compact())}},checkFollowing:function(){if(this.sendAction("removeError","twitterUnfollwer"),!Ember.get(this,"canSkipFollwerCheck")){var e=Ember.get(this,"selectedHandle"),t=Ember.get(this,"ticket.requester.twitterId"),r={screen_name:t};e.checkFollowing(r).then(this._handleCheckFollowingResponse.bind(this))}},_handleCheckFollowingResponse:function(e){if(!e.data.following)return void this.sendAction("showError","twitterUnfollwer")},_onInsertAttachment:function(e){Ember.get(this,"replyModel")&&Ember.set(this,"replyModel.attachment_ids",e)},_sendConversation:function(e,t){return Ember.get(this,"sendConversation")(e,t)},checkDmCharacterLimit:function(e,t){e&&"dm"===t?this.sendAction("showError","maxDmTwitterCount"):this.sendAction("removeError","maxDmTwitterCount")},checkMentionCharacterLimit:function(e,t){e&&"mention"===t?this.sendAction("showError","maxMentionTwitterCount"):this.sendAction("removeError","maxMentionTwitterCount")},checkRequesterHandlePresentInBody:function(e){var t=window.twttr.txt.extractMentions(e),r=Ember.get(this,"requesterTwitterId");return-1===t.indexOf(r)?(this.sendAction("showError","requesterHandleRequired"),!0):(this.sendAction("removeError","requesterHandleRequired"),!1)}})});
define("freshdesk/components/module-tickets/ticket-details/ticket-actions/twitter-reply/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"sT+F/ln5",block:'{"symbols":["d","d","options","dropdown","option"],"statements":[[6,"div"],[10,"class",[26,["ticket-action ",[25,"unless",[[20,["quickReply"]],"ticket-action__showpage"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__profilepic"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["currentUser","record","contact"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__switch"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/change-actions",null,[["type","onChange","quickReply"],["reply",[25,"action",[[19,0,[]],"onChange"],null],[20,["quickReply"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__replyhandle"],[7],[0,"\\n"],[4,"if",[[25,"eq",[[20,["twitterHandles","length"]],1],null]],null,{"statements":[[0,"        "],[1,[25,"svg-jar",["twitter"],[["class"],["app-icon app-icon--small app-icon--topalign twitter-icon"]]],false],[0,"\\n        "],[1,[25,"twitter-handle",[[20,["selectedHandle","screenName"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"ui-components/drop-down",null,[["selected"],[[20,["selectedHandle"]]]],{"statements":[[4,"component",[[19,2,["trigger"]]],null,{"statements":[[0,"            "],[1,[25,"svg-jar",["twitter"],[["class"],["app-icon app-icon--small app-icon--topalign twitter-icon"]]],false],[0,"\\n            "],[6,"span"],[9,"class","twitterreply__handle"],[7],[1,[25,"twitter-handle",[[20,["selectedHandle","screenName"]]],null],false],[8],[0,"\\n            "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall"]]],false],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,2,["content"]]],[["options"],[[20,["twitterHandles"]]]],{"statements":[[4,"each",[[19,3,[]]],null,{"statements":[[0,"              "],[6,"div"],[10,"onclick",[25,"action",[[19,0,[]],"changeAgentHandle",[19,5,[]],[19,4,[]]],null],null],[10,"class",[26,["dropdown__option ",[25,"if",[[25,"eq",[[19,5,["id"]],[20,["selectedHandle","id"]]],null],"selected"],null]]]],[7],[0,"\\n                "],[1,[25,"twitter-handle",[[19,5,["screenName"]]],null],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[5]},null]],"parameters":[3,4]},null]],"parameters":[2]},null]],"parameters":[]}],[0,"    "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__tweettype"],[7],[0,"\\n"],[4,"ui-components/drop-down",null,[["selected"],[[20,["tweetType"]]]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"          "],[1,[25,"svg-jar",[[20,["selectedMessageType","id"]]],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n          "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall"]]],false],[0,"\\n          "],[6,"span"],[9,"class","muted"],[7],[1,[25,"t",[[20,["selectedMessageType","label"]]],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[25,"component",[[19,1,["content"]]],[["options","title","onChange"],[[20,["messageType"]],[25,"t",["ticket.details.postas"],null],[25,"action",[[19,0,[]],"onChangeTweetType"],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n    "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-replying",null,[["agentsReplying"],[[20,["agentsReplying"]]]]],false],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","ticket-action__fields"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__label text__infotext"],[7],[1,[25,"t",["fd.to"],null],false],[0,": "],[8],[0,"\\n    "],[6,"div"],[9,"class","ticket-action__field ticket-action__email ticket-action__requester"],[7],[1,[20,["ticket","requester","twitterId"]],false],[8],[0,"\\n  "],[8],[0,"\\n\\n"],[4,"ui-form/editor/social-editor",null,[["value","maxCount","ticket","showAttachmentBtn","sourceType","messageType","attachmentConfig","onInsertAttachment","onRemoveAttachment"],[[20,["bodyText"]],[20,["maxCount"]],[20,["ticket"]],[20,["showAttachmentBtn"]],"twitter",[20,["tweetType"]],[20,["attachmentConfig"]],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[25,"action",[[19,0,[]],"onRemoveAttachment"],null]]],{"statements":[[0,"    "],[6,"div"],[7],[0,"\\n      "],[6,"button"],[9,"data-test-id","discard-draft-twitter"],[10,"onclick",[25,"action",[[19,0,[]],"discardConversation"],null],null],[9,"class","btn discard-draft app-icon-btn"],[7],[0,"\\n        "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","reply-btn"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/ticket-actions/shared/send-and-set",null,[["canSetStatus","disableSubmit","onSend"],[[25,"and",[[25,"not",[[20,["quickReply"]]],null],[25,"hasabilities",["edit_ticket_properties"],null]],null],[25,"not",[[25,"and",[[25,"eq",[[20,["hasBodyText"]],true],null],[25,"lte",[[20,["bodyTextLength"]],[20,["maxCount"]]],null]],null]],null],[25,"action",[[19,0,[]],"sendConversation"],null]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/ticket-actions/twitter-reply/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/top-navigation/component",["exports","ember-local-storage","freshdesk/mixins/filter-list/controller/filter-query-methods","freshdesk/constants/ticket","freshdesk/mixins/shortcuts/ticket-details/top-navigation","freshdesk/mixins/filter-list/ticket-filter-defaults"],function(e,t,i,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(c.default,i.default,s.default,{store:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),shortcutsTooltip:Ember.inject.service(),marketplace:Ember.inject.service(),eventSources:Ember.inject.service(),currentUser:Ember.inject.service(),currentAccount:Ember.inject.service(),showActivity:!1,miniList:!0,updatePgnObj:!1,showConfirmDialog:!1,actionTriggered:"",ticketParamsCache:(0,t.storageFor)("tickets-list/query-params"),recentlyViewedCache:(0,t.storageFor)("tickets-list/recently-viewed"),filterId:Ember.computed.reads("ticketParamsCache.filter"),perPage:Ember.computed.reads("ticketParamsCache.perPage"),page:Ember.computed.reads("ticketParamsCache.page"),ticketList:Ember.computed.reads("recentlyViewedCache.resourceList"),ticketsCount:Ember.computed.reads("recentlyViewedCache.resourceCount"),filterTitle:Ember.computed.reads("recentlyViewedCache.resourceListLabel"),filterQueryModified:Ember.computed.reads("recentlyViewedCache.resourceListModified"),currentResource:Ember.computed.reads("ticket.id"),activitiesSwitcher:Ember.computed.or("ticket.{isActionable,archived}"),hidePagination:Ember.computed.reads("ticket.archived"),hideDeleteButtonTd:Ember.computed.readOnly("mkpInterface.controlData.ticketDeleteBtn.hide"),disableDeleteButtonTd:Ember.computed.readOnly("mkpInterface.controlData.ticketDeleteBtn.disable"),hideAddNoteButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideNote"),disableAddNoteButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableNote"),hideReplyButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideReply"),disableReplyButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableReply"),hideForwardButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.hideForward"),disableForwardButtonTd:Ember.computed.readOnly("mkpInterface.controlData.replyNote.disableForward"),showArchiveDelete:Ember.computed.and("hasDeleteTicketAbility","ticket.archived"),showArchivePrint:Ember.computed.reads("ticket.archived"),twitterBlocked:Ember.computed("ticket.source",function(){return Ember.get(this,"currentAccount.config.social.twitter_app_blocked")&&Ember.get(this,"ticket.source")===r.TWITTER_SOURCE}),hasDeleteTicketAbility:Ember.computed("currentUser",function(){return Ember.get(this,"currentUser").hasAbility("delete_ticket")}),hasEditTicketAbility:Ember.computed("currentUser",function(){return Ember.get(this,"currentUser").hasAbility("edit_ticket_properties")}),hasWatcherFeature:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("add_watcher")}),hasTimesheetsFeature:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("timesheets")}),isStatusResolved:Ember.computed("ticket.status",function(){return Ember.get(this,"ticket.status")==r.default.status.resolved}),canConvertToTopic:Ember.computed("ticket",function(){var e=Ember.isEmpty(Ember.get(this,"ticket.ticketTopic")),t=Ember.get(this,"ticket.requesterId"),i=Ember.get(Ember.get(this,"store").peekRecord("contact",t),"active");return Ember.get(this,"currentUser").hasAbility("create_topic")&&Ember.get(this,"currentAccount").hasFeature("forums")&&e&&i}),mergeLabel:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType"),t=Ember.get(this,"i18n").t("tickets.ticket_associations.ticket_actions.mergebtnlabel"),i=Ember.get(this,"i18n").t("tickets.merge");return e?t:i}),isTicketClosable:Ember.computed("ticket.updatedAt",function(){var e=!(Ember.get(this,"ticket.isMarkedClosed")&&!Ember.get(this,"isStatusResolved"));return Ember.get(this,"hasEditTicketAbility")&&e}),saveButtonLabel:Ember.computed("actionTriggered",function(){var e=Ember.get(this,"actionTriggered");return"delete"===e?Ember.get(this,"showArchiveDelete")?Ember.get(this,"i18n").t("tickets.ticket_associations.ticket_actions.delete_forever"):Ember.get(this,"i18n").t("tickets.ticket_associations.ticket_actions."+e+"_button"):Ember.get(this,"i18n").t("tickets.ticket_associations.ticket_actions."+e)}),associationType:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType");return e?r.default.ticketAssociations[e]:""}),isTrackerNormalDelete:Ember.computed("associationType","actionTriggered",function(){var e="tracker"===Ember.get(this,"associationType"),t=Ember.get(this,"ticket.associatedTicketsCount"),i="delete"===Ember.get(this,"actionTriggered");return e&&!t&&i}),isScenarioWarning:Ember.computed("actionTriggered","associationType",function(){var e="parent"===Ember.get(this,"associationType"),t="scenario"===Ember.get(this,"actionTriggered");return e&&t}),actions:{openCollab:function(){this.sendAction("expandCollab",{scrollToBottom:!0})},showAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ember.get(this,"showAction")(e,t)},closeTicket:function(e){var t=this;Ember.set(this,"closeDisableWhen",!0),Ember.get(this,"marketplace").publishEvent({event:"ticket.closeTicketClick"}).then(function(){return t._closeTicket(e)}).catch(function(e){return t._closeTicketError(e)})},showTimeEntryForm:function(){var e=Ember.get(this,"ticket");this.showTimeEntryForm(null,e)},showEdit:function(e){this.attrs.showEdit(e)},delete:function(){Ember.set(this,"showConfirmDialog",!0),Ember.set(this,"actionTriggered","delete")},markAsSpam:function(){var e=Ember.get(this,"ticket"),t=Ember.get(this,"associationType"),i="related"===t||"child"===t,r="parent"===t||"tracker"===t;i||r&&Ember.get(e,"associatedTicketsCount")?(Ember.set(this,"showConfirmDialog",!0),Ember.set(this,"actionTriggered","spam")):Ember.get(this,"markAsSpam")(e)},showExecuteSenario:function(){"parent"===Ember.get(this,"associationType")?(Ember.set(this,"showConfirmDialog",!0),Ember.set(this,"actionTriggered","scenario")):this.sendAction("showExecuteSenario")},confirmAction:function(e){var t=this,i=Ember.get(this,"ticket");switch(Ember.set(this,"showConfirmDialog",!1),e){case"delete":Ember.get(this,"marketplace").publishEvent({event:"ticket.deleteTicketClick"}).then(function(){return t._deleteTicket(i)}).catch(function(e){return t._mkpPublishEventError("marketplace.errors.tickets.delete",e)});break;case"spam":Ember.get(this,"markAsSpam")(i);break;case"scenario":this.sendAction("showExecuteSenario")}},showhideActivity:function(e,t){Ember.set(this,"showActivity",e),this.attrs.showhideActivity(e,t)},pageChanged:function(){this.toggleShowHideActivity()},toggleShowHideActivity:function(){var e=Ember.get(this,"ticket"),t=Ember.get(this,"showActivity");this.send("showhideActivity",!t,e)},onTicketChange:function(e){this.attrs.onTicketChange(e)},onPageChange:function(e){var t=this.ticketParams(),i=Ember.get(this,"page")+e;t.page=i,Ember.set(this,"ticketParamsCache.page",i),this.fetchFilterListContent(t).then(this._onPageChangeCB.bind(this,e)),this.fetchMeta(t)},loadMiniListTickets:function(e){var t=this,i=Ember.get(this,"store"),r=e.filter(function(e){return!i.hasRecordForId("ticket",e)});if(r.length>0){var c={include:"requester,stats",ids:r.join(","),exclude:"custom_fields"};return i.query("ticket",c).then(function(){var r=e.filter(function(e){return i.hasRecordForId("ticket",e)});Ember.set(t,"recentlyViewedCache.resourceList",r)})}return{}},focusSelected:function(){this.scrollMinilist(50)},editTicket:function(){Ember.get(this,"disableEditButtonTd")||this.sendAction("initiateEditPage")}},scrollMinilist:function(e){var t=this;Ember.run.later(function(){var e=Ember.$('.tickets__list[data-ticket-id="'+Ember.get(t,"ticket.id")+'"]');e.length>0&&e[0].scrollIntoView({block:"end",behavior:"smooth"})},e)},_setCloseDisableWhen:function(){Ember.set(this,"closeDisableWhen",!1)},_onPageChangeCB:function(e,t){var i=Ember.get(t,"length");if(i>0){var r=e>0?0:i-1,c=t.objectAt(r);c&&this.attrs.onTicketChange(Ember.get(c,"id"))}},ticketParams:function(){var e=Ember.get(this,"ticketParamsCache");return Ember.getProperties(e,"filter","page","perPage","orderBy","orderType","queryHash")},_closeTicket:function(e){Ember.get(this,"closeTicket")(e).then(this._setCloseDisableWhen.bind(this))},_closeTicketError:function(e){Ember.set(this,"closeDisableWhen",!1),this._mkpPublishEventError("marketplace.errors.tickets.close",e)},_deleteTicket:function(e){Ember.get(this,"delete")(e)},_mkpPublishEventError:function(e,t){Ember.get(this,"eventSources").errorHandler(e,t)}})});
define("freshdesk/components/module-tickets/ticket-details/top-navigation/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"fUzArWyA",block:'{"symbols":["hashObj","dropdown"],"statements":[[6,"div"],[7],[0,"\\n  "],[1,[25,"app-components/app-maintitle",null,[["title","titleroute","breadcrumb","ticket","titleModified"],[[25,"if",[[20,["filterTitle"]],[25,"truncate",[[20,["filterTitle"]],25,true],null],"Tickets"],null],"helpdesk.tickets",[20,["ticket","id"]],[20,["ticket"]],[20,["filterQueryModified"]]]]],false],[0,"\\n\\n"],[4,"ember-wormhole",null,[["to"],["mainactionbar"]],{"statements":[[0,"    "],[6,"div"],[9,"class","page-actions__left"],[7],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[4,"if",[[20,["hasWatcherFeature"]]],null,{"statements":[[0,"          "],[1,[25,"module-tickets/ticket-details/add-watcher",null,[["ticket","scenarioWatchers"],[[20,["ticket"]],[20,["scenarioWatchers"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n        "],[6,"div"],[9,"class","btn-group reply-bar-top"],[7],[0,"\\n"],[4,"if",[[25,"and",[[25,"hasabilities",["reply_ticket"],null],[20,["showTicketReply"]]],null]],null,{"statements":[[0,"            "],[6,"button"],[9,"data-test-email-action","reply"],[10,"aria-label",[20,["shortcutsTooltip","tickets","reply"]],null],[10,"onclick",[25,"action",[[19,0,[]],"showAction","reply"],null],null],[10,"class",[26,[[25,"if",[[20,["twitterBlocked"]],"disabled"],null]," top-reply-btn btn btn-collapse app-icon-btn app-icon-btn--text hint--rounded hint--bottom ",[25,"if",[[20,["hideReplyButtonTd"]],"hide"],null]," "]]],[10,"disabled",[25,"if",[[20,["disableReplyButtonTd"]],true,false],null],null],[7],[0,"\\n              "],[1,[25,"svg-jar",["reply"],[["class"],["app-icon top-reply-btn-icon"]]],false],[0," "],[1,[25,"t",["tickets.action.reply"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"          "],[6,"button"],[9,"data-test-note-action","add"],[10,"onclick",[25,"action",[[19,0,[]],"showAction","notes"],null],null],[10,"aria-label",[20,["shortcutsTooltip","tickets","addNote"]],null],[10,"class",[26,["btn btn-collapse app-icon-btn app-icon-btn--text hint--rounded hint--bottom ",[25,"if",[[20,["hideAddNoteButtonTd"]],"hide"],null]," "]]],[10,"disabled",[25,"if",[[20,["disableAddNoteButtonTd"]],true,false],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["addnote"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.action.notes"],null],false],[0,"\\n          "],[8],[0,"\\n\\n"],[4,"if",[[25,"hasabilities",["forward_ticket"],null]],null,{"statements":[[0,"            "],[6,"button"],[9,"data-test-email-action","forward"],[10,"aria-label",[20,["shortcutsTooltip","tickets","forward"]],null],[10,"onclick",[25,"action",[[19,0,[]],"showAction","forward","description"],null],null],[10,"class",[26,["btn btn-collapse app-icon-btn app-icon-btn--text hint--rounded hint--bottom ",[25,"if",[[20,["hideForwardButtonTd"]],"hide"],null]," "]]],[10,"disabled",[25,"if",[[20,["disableForwardButtonTd"]],true,false],null],null],[7],[0,"\\n              "],[1,[25,"svg-jar",["forward"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.action.forward"],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n\\n"],[4,"if",[[20,["isTicketClosable"]]],null,{"statements":[[4,"async-button",null,[["click","disableWhen","data-test-actions","aria-label","class"],[[25,"action",[[19,0,[]],"closeTicket"],[["allowedKeys"],["shift"]]],[20,["closeDisableWhen"]],"close",[25,"t",["tickets.shift_close"],null],"hint--rounded hint--bottom app-icon-btn app-icon-btn--text hint--rounded hint--bottom"]],{"statements":[[0,"            "],[1,[25,"svg-jar",["close-ticket"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.close"],null],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"and",[[25,"not",[[20,["ticket","associationType"]]],null],[25,"hasabilities",["merge_or_split_ticket"],null]],null]],null,{"statements":[[0,"          "],[6,"button"],[10,"aria-label",[25,"t",["fd.merge"],null],null],[9,"data-test-actions","merge"],[9,"class","app-icon-btn app-icon-btn--text"],[3,"action",[[19,0,[]],[20,["merge"]],[20,["ticket"]]]],[7],[0,"\\n            "],[1,[25,"svg-jar",["merge"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.merge"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"hasabilities",["delete_ticket"],null]],null,{"statements":[[0,"          "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"delete",[20,["ticket"]]],null],null],[10,"aria-label",[20,["shortcutsTooltip","tickets","delete"]],null],[9,"data-test-actions","tktDelete"],[10,"class",[26,["app-icon-btn app-icon-btn--text hint--rounded hint--bottom ",[25,"if",[[20,["hideDeleteButtonTd"]],"hide"],null]]]],[10,"disabled",[25,"if",[[20,["disableDeleteButtonTd"]],true,false],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.delete"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"prioritized-fetch",null,[["renderPriority","taskName","appRenderState","asyncRender","loaderRequired"],[2,"ticketTopNavigationApps",[20,["appRenderState"]],false,false]],{"statements":[[0,"          "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","context","isVisible","tagName"],["ticket_top_navigation",[20,["ticket","id"]],true,""]]],false],[0,"\\n"]],"parameters":[]},null],[4,"basic-dropdown",null,[["class","renderInPlace"],["app-dropdown-group",true]],{"statements":[[4,"component",[[19,2,["trigger"]]],null,{"statements":[[0,"            "],[6,"button"],[10,"aria-label",[25,"t",["tickets.more"],null],null],[9,"class","hint--rounded hint--top dropdown-toggle app-icon-btn"],[9,"data-test-actions","more"],[7],[0,"\\n              "],[1,[25,"svg-jar",["more"],[["class"],["app-icon"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,2,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"            "],[6,"ul"],[9,"class","dropdown-menu app-dropdown"],[3,"action",[[19,0,[]],[19,2,["actions","close"]]]],[7],[0,"\\n"],[4,"if",[[20,["canExecuteScenarios"]]],null,{"statements":[[0,"                "],[6,"li"],[7],[0,"\\n                  "],[6,"a"],[9,"href",""],[9,"data-test-actions","senario"],[9,"class","app-dropdown__item"],[3,"action",[[19,0,[]],"showExecuteSenario"]],[7],[0,"\\n                    "],[1,[25,"t",["fd.executescenario"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["canConvertToTopic"]]],null,{"statements":[[0,"                "],[6,"li"],[7],[0,"\\n                  "],[6,"a"],[10,"href",[25,"generate-url",["forums/new","",[25,"hash",null,[["ticket_id"],[[20,["ticket","id"]]]]]],null],null],[9,"data-test-actions","topic"],[9,"class","app-dropdown__item"],[7],[0,"\\n                    "],[1,[25,"t",["fd.converttotopic"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["hasTimesheetsFeature"]]],null,{"statements":[[0,"                "],[6,"li"],[7],[0,"\\n                  "],[6,"a"],[9,"href",""],[9,"class","app-dropdown__item"],[9,"data-test-actions","addTimeEntry"],[3,"action",[[19,0,[]],"showTimeEntryForm",[20,["ticket"]]]],[7],[0,"\\n                    "],[1,[25,"t",["tickets.addtime"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["ticket","isActionable"]],[20,["isEditable"]]],null]],null,{"statements":[[0,"                "],[6,"li"],[7],[0,"\\n                  "],[6,"a"],[9,"role","button"],[10,"onclick",[25,"action",[[19,0,[]],"editTicket"],null],null],[9,"data-test-actions","editTicketTop"],[10,"class",[26,["app-dropdown__item ",[25,"if",[[20,["disableEditButtonTd"]],"disabled"],null]," ",[25,"if",[[20,["hideEditButtonTd"]],"hide"],null]]]],[7],[0,"\\n                    "],[1,[25,"t",["fd.editTicketDetails"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[6,"li"],[7],[0,"\\n                "],[6,"a"],[10,"href",[26,["/helpdesk/tickets/",[20,["ticket","id"]],"/print"]]],[9,"data-test-actions","print"],[9,"target","_blank"],[9,"rel","noopener"],[10,"onclick",[25,"action",[[19,0,[]],[19,2,["actions","close"]]],null],null],[9,"class","app-dropdown__item"],[7],[0,"\\n                  "],[1,[25,"t",["tickets.print"],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"],[4,"unless",[[20,["hideSpamButtonTd"]]],null,{"statements":[[0,"                "],[6,"li"],[7],[0,"\\n                  "],[6,"a"],[9,"href",""],[9,"data-test-actions","markSpam"],[10,"class",[26,["app-dropdown__item ",[25,"if",[[20,["hideSpamButtonTd"]],"hide"],null]]]],[3,"action",[[19,0,[]],"markAsSpam",[20,["ticket"]]]],[7],[0,"\\n                    "],[1,[25,"t",["tickets.markasspam"],null],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[1,[25,"marketplace-list",null,[["mkpPlaceholder","context","isVisible","tagName"],["ticket_top_navigation",[20,["ticket","id"]],false,""]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]},{"statements":[[4,"if",[[20,["ticket","spam"]]],null,{"statements":[[0,"          "],[6,"button"],[9,"data-test-actions","markUnSpam"],[10,"aria-label",[25,"t",["tickets.unspam"],null],null],[9,"class","app-icon-btn app-icon-btn--text"],[3,"action",[[19,0,[]],[20,["markUnSpam"]],[20,["ticket"]]]],[7],[0,"\\n            "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.unspam"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showArchiveDelete"]]],null,{"statements":[[0,"          "],[6,"button"],[10,"onclick",[25,"action",[[19,0,[]],"delete",[20,["ticket"]]],null],null],[10,"aria-label",[20,["shortcutsTooltip","tickets","delete"]],null],[9,"data-test-actions","archive-delete"],[10,"class",[26,["app-icon-btn app-icon-btn--text hint--rounded hint--bottom ",[25,"if",[[20,["hideDeleteButtonTd"]],"hide"],null]]]],[10,"disabled",[25,"if",[[20,["disableDeleteButtonTd"]],true,false],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.deleteforever"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showArchivePrint"]]],null,{"statements":[[0,"          "],[6,"a"],[10,"href",[26,["/helpdesk/tickets/archived/",[20,["ticket","id"]],"/print"]]],[9,"data-test-actions","print"],[9,"target","_blank"],[9,"rel","noopener"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"aria-label",[25,"t",["tickets.print"],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["print-icon"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.print"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ticket","deleted"]]],null,{"statements":[[0,"          "],[6,"button"],[9,"data-test-actions","restoreTicket"],[10,"aria-label",[25,"t",["tickets.restore"],null],null],[9,"class","app-icon-btn app-icon-btn--text"],[3,"action",[[19,0,[]],[20,["restoreTicket"]],[20,["ticket"]]]],[7],[0,"\\n            "],[1,[25,"svg-jar",["refresh"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.restore"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[25,"hasabilities",["delete_ticket"],null],[25,"not",[[20,["ticket","archived"]]],null]],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"data-test-actions","tktHardDelete"],[10,"aria-label",[25,"t",["tickets.deleteforever"],null],null],[9,"class","app-icon-btn app-icon-btn--text"],[3,"action",[[19,0,[]],[20,["deleteTicketForever"]],[20,["ticket"]]]],[7],[0,"\\n            "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.deleteforever"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"    "],[8],[0,"\\n    "],[6,"div"],[9,"class","page-actions__right"],[7],[0,"\\n      "],[6,"div"],[9,"id","sidebar-collapse"],[9,"class","pull-right ticket-sidebar--btn"],[7],[8],[0,"\\n"],[4,"unless",[[20,["hidePagination"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"data-test-pagination-widget",""],[9,"class","detail-pagination"],[7],[0,"\\n"],[4,"ui-components/resource-pagination",null,[["resourceList","currentResource","totalCount","perPage","pageNo","pageChanged","showMiniList","afterShowList","beforeShowList","resourceChanged","title","resourceModifiedFlag"],[[20,["ticketList"]],[20,["currentResource"]],[20,["ticketsCount"]],[20,["perPage"]],[20,["page"]],"onPageChange",[20,["miniList"]],"focusSelected",[25,"action",[[19,0,[]],"loadMiniListTickets"],null],"onTicketChange",[20,["filterTitle"]],[20,["filterQueryModified"]]]],{"statements":[[0,"\\n            "],[1,[25,"module-tickets/ticket-details/mini-list",null,[["ticketId","selectedId","dropdown","onClickCB"],[[19,1,["resource"]],[19,1,["currentResource"]],[19,1,["dropdown"]],[25,"action",[[19,0,[]],[19,1,["onClickCB"]]],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["activitiesSwitcher"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n          "],[6,"button"],[9,"data-test-toggle-activity",""],[9,"role","button"],[10,"onclick",[25,"action",[[19,0,[]],"toggleShowHideActivity"],null],null],[10,"aria-label",[20,["shortcutsTooltip","ticketDetail","activities"]],null],[10,"class",[26,["app-icon-btn ",[25,"if",[[20,["showActivity"]],"app-icon-btn--active",""],null]," app-icon-btn--text app-icon-btn--toggle-state hint--rounded hint--bottom"]]],[7],[0,"\\n            "],[1,[25,"svg-jar",["activities"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"if",[[20,["showActivity"]],[25,"t",["tickets.activities.hide"],null],[25,"t",["tickets.activities.show"],null]],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[1,[25,"module-tickets/ticket-details/agent-collision/agents-viewing",null,[["ticket","agentsViewing","agentsReplying"],[[20,["ticket"]],[20,["agentsViewing"]],[20,["agentsReplying"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showConfirmDialog"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[20,["saveButtonLabel"]],[20,["saveButtonLabel"]],[25,"action",[[19,0,[]],"confirmAction",[20,["actionTriggered"]]],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["showConfirmDialog"]]],null]],null]]],{"statements":[[0,"      "],[6,"p"],[7],[0,"\\n"],[4,"if",[[20,["isScenarioWarning"]]],null,{"statements":[[0,"          "],[1,[25,"t",["tickets.ticket_associations.ticket_actions.ticket_details.parent.scenario.description"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isTrackerNormalDelete"]]],null,{"statements":[[0,"            "],[1,[25,"t",["ticket.actions.tracker.delete.confirmation.message"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["associationType"]]],null,{"statements":[[0,"            "],[1,[25,"t",[[25,"concat",["tickets.ticket_associations.ticket_actions.",[20,["associationType"]],".",[20,["actionTriggered"]],".description"],null]],[["count"],[[20,["ticket","associatedTicketsCount"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[25,"t",["ticket.actions.delete.confirmation.message"],null],false],[0,"\\n          "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/top-navigation/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/component",["exports","freshdesk/constants/ticket"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["__module-tickets__ticket-details__widgets__associate-tickets"],addChildsWithTemplate:!1,isTracker:Ember.computed.equal("ticket.associationType",t.default.associationType.tracker),isRelated:Ember.computed.equal("ticket.associationType",t.default.associationType.related),isParent:Ember.computed.equal("ticket.associationType",t.default.associationType.parent),isChild:Ember.computed.equal("ticket.associationType",t.default.associationType.child),canAddMoreChilds:Ember.computed.lt("ticket.associatedTicketsCount",t.MAX_CHILD_COUNT)})});
define("freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"qoXE0HQv",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","associate-tickets-widgets"],[7],[0,"\\n"],[4,"if",[[20,["isTracker"]]],null,{"statements":[[4,"if",[[20,["ticket","associatedTicketsCount"]]],null,{"statements":[[0,"      "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"associatedTickets"],null],null],[9,"data-test-id","list-related"],[9,"class","text--small"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.related_list.label"],[["count"],[[20,["ticket","associatedTicketsCount"]]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","text--infotext text--gray"],[7],[0,"\\n        "],[6,"span"],[9,"class","text--small"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.no_related"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isRelated"]]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/widgets/associate-tickets/ticket",null,[["ticket","primeTicketDetails","isRelated"],[[20,["ticket"]],[20,["primeTicketDetails"]],true]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isParent"]]],null,{"statements":[[0,"    "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"associatedTickets"],null],null],[9,"data-test-id","list-related"],[9,"class","text--small"],[7],[0,"\\n      "],[1,[25,"t",["tickets.ticket_associations.child_list.label"],[["count"],[[20,["ticket","associatedTicketsCount"]]]]],false],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["canAddMoreChilds"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","text--gray text--uppercase pt-15 pb-15 add-more-label"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.child.addnew"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","parent-child-widget"],[7],[0,"\\n        "],[6,"div"],[9,"class","add-child-actions"],[7],[0,"\\n          "],[1,[25,"svg-jar",["child"],[["aria-label","class"],[[25,"t",["tickets.ticket_associations.child.add_child"],null],"app-icon hint--rounded hint--top"]]],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","add-child-tickets-widget link-actions"],[7],[0,"\\n          "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"createChild"],null],null],[9,"data-test-id","create-child"],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.child.create"],null],false],[0,"\\n          "],[8],[0," "],[6,"span"],[9,"class","muted"],[7],[1,[25,"t",["common.or"],null],false],[8],[0," "],[6,"br"],[7],[8],[0,"\\n          "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[25,"mut",[[20,["addChildsWithTemplate"]]],null]],null],null],[9,"data-test-id","add-child"],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.child.add_using_templates"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[20,["isChild"]]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/widgets/associate-tickets/ticket",null,[["ticket","primeTicketDetails"],[[20,["ticket"]],[20,["primeTicketDetails"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[20,["linkTickets"]],[25,"hasfeature",["link_tickets"],null]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","link-actions mr-5"],[7],[0,"\\n        "],[1,[25,"svg-jar",["tracker"],[["aria-label","class"],[[25,"t",["tickets.link"],null],"app-icon hint--rounded hint--top"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","link-tickets-widget link-actions"],[7],[0,"\\n        "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"createTracker"],null],null],[9,"data-test-id","create-tracker"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.create"],null],false],[0,"\\n        "],[8],[0," "],[6,"span"],[9,"class","muted"],[7],[1,[25,"t",["common.or"],null],false],[8],[0," "],[6,"br"],[7],[8],[0,"\\n        "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"link"],null],null],[9,"data-test-id","link-to-tracker"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.link_tickets.tracker.add"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["addChild"]],[25,"hasfeature",["parent_child_tickets"],null]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","parent-child-widget"],[7],[0,"\\n        "],[6,"div"],[9,"class","add-child-actions"],[7],[0,"\\n          "],[1,[25,"svg-jar",["child"],[["aria-label","class"],[[25,"t",["tickets.ticket_associations.child.add_child"],null],"app-icon hint--rounded hint--top"]]],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","add-child-tickets-widget link-actions"],[7],[0,"\\n          "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"createChild"],null],null],[9,"data-test-id","create-child"],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.child.create"],null],false],[0,"\\n          "],[8],[0," "],[6,"span"],[9,"class","muted"],[7],[1,[25,"t",["common.or"],null],false],[8],[0," "],[6,"br"],[7],[8],[0,"\\n          "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[25,"mut",[[20,["addChildsWithTemplate"]]],null]],null],null],[9,"data-test-id","add-child"],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.child.add_using_templates"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n\\n"],[4,"if",[[20,["addChildsWithTemplate"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","closeOnEscapse","showModalClose"],[[25,"action",[[19,0,[]],[25,"mut",[[20,["addChildsWithTemplate"]]],null]],null],false,true]],{"statements":[[0,"    "],[6,"div"],[9,"class","ticket-content"],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/add-child",null,[["ticket","close"],[[20,["ticket"]],[25,"action",[[19,0,[]],[25,"mut",[[20,["addChildsWithTemplate"]]],null]],null]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/ticket/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/tickets/ticket-association-feature"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(s.default,{i18n:Ember.inject.service(),store:Ember.inject.service(),classNames:["__module-tickets__ticket-details__widgets__associate-tickets__ticket"],unlinkTracker:!1,isLoading:Ember.computed.none("ticketInfo.subject"),broadcastInfo:Ember.computed.reads("primeTicketDetails.broadcast_message.created_at"),associationType:Ember.computed("ticket.associationType",function(){return Ember.get(this,"ticket.associationType")===t.default.associationType.related?"tracker":"parent"}),agentName:Ember.computed("ticketInfo.responderId",function(){var e=Ember.get(this,"ticketInfo.responderId");return e?Ember.get(Ember.get(this,"store").peekRecord("agent",e),"contact.name"):null}),didReceiveAttrs:function(){if(this._super.apply(this,arguments),Ember.get(this,"primeTicketDetails")){var e=this._convertItemToTicket();Ember.set(this,"ticketInfo",e)}},actions:{unlink:function(){Ember.set(this,"unlinkTracker",!0)}},_confirmUnlinkCB:function(){var e={ticket:{id:Ember.get(this,"ticket.id"),association_type:null,tracker_id:Ember.get(this,"TRACKER_ID_AFTER_UNLINK")}};Ember.get(this,"store").pushPayload(e),Ember.set(this,"unlinkTracker",!1);var t=Ember.get(this,"i18n").t("tickets.ticket_associations.link_tickets.unlink_success");Ember.get(this,"flashMessages").success(t)},_convertItemToTicket:function(){var e=Ember.get(this,"store"),t=Ember.get(this,"primeTicketDetails"),s=e.peekRecord("ticket",t.id);if(s)e.pushPayload(t),s=e.peekRecord("ticket",t.id);else{var i={subject:t.subject,createdAt:t.created_at,requesterId:t.requester_id,responderId:t.responder_id,stats:t.stats,status:t.status,permission:t.permission};s=e.createRecord("ticket",Ember.assign({},{id:t.id},i))}return s}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/ticket/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"P1FbhSz6",block:'{"symbols":[],"statements":[[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"  "],[1,[18,"ui-components/part-loading"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[9,"class","tickets__activity tracker__info"],[7],[0,"\\n    "],[6,"div"],[9,"class","tickets-type__label pb-5"],[7],[0,"\\n      "],[6,"span"],[9,"class","text__infotext text--uppercase text--xsmall"],[7],[0,"\\n        "],[1,[25,"t",[[25,"concat",["tickets.ticket_associations.",[20,["associationType"]],".label"],null]],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","tickets__ticket"],[7],[0,"\\n"],[4,"if",[[20,["ticketInfo","permission"]]],null,{"statements":[[4,"link-to",["helpdesk.tickets.show",[20,["ticketInfo","id"]]],[["class","target"],["text--small ticket-subject","_blank"]],{"statements":[[0,"          "],[1,[25,"truncate",[[20,["ticketInfo","subject"]],45,true],null],false],[0,"\\n          "],[6,"span"],[9,"class","ticket-number text--gray"],[7],[0,"  #"],[1,[20,["ticketInfo","id"]],false],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"        "],[6,"span"],[9,"class","text__infotext text--small"],[7],[1,[25,"truncate",[[20,["ticketInfo","subject"]],45,true],null],false],[8],[0,"\\n        "],[6,"span"],[9,"class","ticket-number text--gray"],[7],[0,"  #"],[1,[20,["ticketInfo","id"]],false],[8],[0,"\\n"]],"parameters":[]}],[0,"      "],[6,"div"],[9,"class","tickets__details text--verysmall mt-5"],[7],[0,"\\n        "],[6,"p"],[9,"class","text__content  text--small text--antialias"],[7],[0,"\\n          "],[6,"span"],[9,"class","text__infotext"],[7],[1,[25,"t",["tickets.status"],null],false],[0,": "],[8],[1,[20,["ticketInfo","statusLabel"]],false],[0,"\\n        "],[8],[0,"\\n        "],[6,"p"],[9,"class","text__content  text--small text--antialias"],[7],[0,"\\n          "],[6,"span"],[9,"class","text__infotext"],[7],[1,[25,"t",["tickets.agent"],null],false],[0,": "],[8],[0,"\\n          "],[6,"span"],[10,"class",[25,"if",[[20,["agentName"]],"","text__infotext"],null],null],[7],[1,[25,"fill-default",[[20,["agentName"]]],null],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"p"],[9,"class","text__content  text--small text--antialias"],[7],[0,"\\n          "],[6,"span"],[9,"class","text__infotext"],[7],[0," "],[1,[25,"app-components/ticket-currentstate-info",null,[["ticket","showSlaStatus"],[[20,["ticketInfo"]],false]]],false],[0," "],[8],[0,"\\n        "],[8],[0,"\\n"],[4,"if",[[25,"and",[[20,["isRelated"]],[20,["broadcastInfo"]]],null]],null,{"statements":[[0,"          "],[6,"p"],[9,"class","text__content text--small text--antialias"],[7],[0,"\\n            "],[6,"span"],[9,"class","text__infotext"],[7],[0,"\\n              "],[1,[25,"t",["tickets.ticket_associations.link_tickets.last_broadcasted_message"],null],false],[0,"\\n              "],[1,[25,"moment-from-now",[[20,["broadcastInfo"]]],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"],[4,"if",[[20,["isRelated"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","widget-unlink-btn text--small"],[7],[0,"\\n          "],[6,"a"],[9,"data-test-id","unlink-ticket"],[3,"action",[[19,0,[]],"unlink"]],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n\\n"],[4,"if",[[20,["unlinkTracker"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],[25,"t",["tickets.ticket_associations.link_tickets.unlink.label"],null],[25,"action",[[19,0,[]],"confirmUnlink"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["unlinkTracker"]]],null]],null]]],{"statements":[[0,"      "],[6,"p"],[9,"class","text__content"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.info_line_1"],null],false],[0,":\\n"],[4,"link-to",["helpdesk.tickets.show",[20,["ticketInfo","id"]]],[["class"],["text--semibold text--small"]],{"statements":[[0,"          "],[1,[25,"truncate",[[20,["ticketInfo","subject"]],55,true],null],false],[0,"\\n          "],[6,"span"],[9,"class","ticket-number text--gray"],[7],[0,"  #"],[1,[20,["ticketInfo","id"]],false],[0,"."],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[25,"t",["tickets.ticket_associations.link_tickets.unlink.info_line_2"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/associate-tickets/ticket/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/requester-info/component",["exports","ember-data","freshdesk/mixins/bubble-action","freshdesk/mixins/contacts/side-panel-info","freshdesk/mixins/content-truncate"],function(e,t,r,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t.default.PromiseArray,o=["widgetPosition"],c=["default_email","default_phone","default_mobile","default_twitter_id"];e.default=Ember.Component.extend(r.default,n.default,i.default,{store:Ember.inject.service(),currentUser:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["__module-tickets__ticket-details__widgets__requester-info"],sortField:o,defaultFields:c,requester:Ember.computed.reads("ticket.requester"),requesterNotAgent:Ember.computed.not("requester.isAgent"),showRequesterWidget:Ember.computed.and("isRequesterWidgetEnabled","isRequesterWidget","requesterNotAgent"),requesterCompanies:Ember.computed("requester.companyList.[]",function(){return Ember.get(this,"requester.companyList").map(function(e){return parseInt(e.id)})}),company:Ember.computed("ticket.{company,updatedAt}",function(){var e=Ember.get(this,"ticket.company"),t=Ember.get(this,"ticket.companyId");return t&&e.content&&parseInt(e.content.id)!=t?Ember.get(this,"store").findRecord("company",t):e}),requesterAssociatedCompany:Ember.computed("ticket.companyId","requester.isAgent","company.content","requesterCompanies",function(){if(Ember.get(this,"requester.isAgent"))return!0;var e=Ember.get(this,"ticket.companyId");return!e||!Ember.get(this,"company.content")||-1!=Ember.get(this,"requesterCompanies").indexOf(e)}),sortedRequesterWidgetFields:Ember.computed("reload","requester","company",function(){return Ember.get(this,"requesterWidgetFields").sortBy("widgetPosition")}),list:Ember.computed("reload","requester",function(){return Ember.get(this,"sortedRequesterWidgetFields")}),linkableCompany:Ember.computed("ticket.company.name",function(){return Ember.get(this,"currentUser").hasAbilities(["view_contacts"])?Ember.get(this,"ticket.company.id"):null}),recentTickets:Ember.computed("requester",function(){return this._getRecentTickets(Ember.get(this,"requester.id"))}),isRequesterWidgetEnabled:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("requester_widget")}),contactWidgetFields:Ember.computed(function(){return Ember.get(this,"store").peekAll("contact-field").filter(function(e){return!Ember.isEmpty(Ember.get(e,"widgetPosition"))})}),companyWidgetFields:Ember.computed(function(){return Ember.get(this,"store").peekAll("company-field").filter(function(e){return!Ember.isEmpty(Ember.get(e,"widgetPosition"))})}),requesterWidgetFields:Ember.computed("reload","requester","company",function(){var e=Ember.get(this,"requester"),t=Ember.get(this,"company"),r=this._fetchDetailsInfo(Ember.get(this,"contactWidgetFields"),e),i=this._fetchDetailsInfo(Ember.get(this,"companyWidgetFields"),t);return r.concat(i)}),defaultContactFields:Ember.computed(function(){var e=this;return Ember.get(this,"store").peekAll("contact-field").filter(function(t){return Ember.get(e,"defaultFields").includes(Ember.get(t,"type"))})}),defaultContactFieldsInfo:Ember.computed("reload","requester",function(){var e=Ember.get(this,"requester");return this._fetchDetailsInfo(Ember.get(this,"defaultContactFields"),e)}),init:function(){Ember.RSVP.all([Ember.get(this,"store").findAll("contact-field"),Ember.get(this,"store").findAll("company-field")]).then(this._preLoadCallback.bind(this)),this._super.apply(this,arguments)},actions:{expand:function(){this.bubbleAction("expand")}},_preLoadCallback:function(){this.isDestroyed||this.isDestroying||Ember.set(this,"hasFieldsLoaded",!0)},_filterFields:function(e){return e.filterBy("hasWidgetPosition",!0)},_getRecentTickets:function(e){return e?s.create({promise:Ember.get(this,"store").query("ticket",{query_hash:{0:{operator:"is_in",condition:"requester_id",value:[e],type:"default"}},per_page:6,exclude:"custom_fields"}).then(this._getRecentTicketsCB.bind(this)).catch(this._getRecentTicketsFailure.bind(this))}):[]},_getRecentTicketsCB:function(e){var t=Ember.get(this,"ticket.id");return e.filter(function(e){return e.id!==t})},_getRecentTicketsFailure:function(){return this.flashMessages.danger("Failed to load the recent activities."),[]},_fetchDetailsInfo:function(e,t){var r=this,i=[];return e.forEach(function(e){var n=void 0,s=Ember.get(e,"type"),o=Ember.get(e,"fieldName");switch(o){case"language":n=Ember.get(e,"choices").findBy("value",Ember.get(t,o)),n=n&&n.label;break;case"allEmails":n=Ember.get(t,"email");break;default:n=Ember.get(t,o),"custom_checkbox"===s&&(n=n?Ember.get(r,"i18n").t("fd.yes"):Ember.get(r,"i18n").t("fd.no"))}var c=["default_phone","default_mobile","custom_phone_number"];("custom_checkbox"===s?n&&"No"!=n:!Ember.isEmpty(n))&&i.pushObject({label:Ember.get(e,"label"),type:Ember.get(e,"type"),value:n,widgetPosition:Ember.get(e,"widgetPosition"),icon:c.includes(s)?"phone":"default_twitter_id"===s?"twitter":""})}),i}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/requester-info/fields-info/component",["exports","freshdesk/mixins/encrypted-field"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{telephony:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["info-details"],isOmniChannelEnabled:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("omni_channel")}),actions:{triggerTelephony:function(e,t){Ember.get(this,"isOmniChannelEnabled")?Ember.get(this,"telephony").triggerTelphone(e.value,t):t.preventDefault()}}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/requester-info/fields-info/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"yEotJujB",block:'{"symbols":["field"],"statements":[[4,"each",[[20,["fieldsInfo"]]],null,{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"encrypted_text"],null]],null,{"statements":[[0,"    "],[1,[25,"ui-components/encrypted-field",null,[["label","value"],[[19,1,["label"]],[19,1,["value"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"class","info-details__item"],[7],[0,"\\n      "],[6,"div"],[9,"class","text__infotext text--xsmall"],[7],[0,"\\n        "],[1,[19,1,["label"]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","info-details-content text__content text--semibold"],[7],[0,"\\n"],[4,"if",[[25,"or",[[25,"eq",[[19,1,["type"]],"custom_date"],null],[25,"eq",[[19,1,["type"]],"default_renewal_date"],null]],null]],null,{"statements":[[0,"          "],[1,[25,"moment-format",[[19,1,["value"]],[20,["currentAccount","timeFormat","date"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"custom_url"],null]],null,{"statements":[[0,"          "],[6,"a"],[10,"href",[19,1,["value"]],null],[9,"target","_blank"],[9,"rel","noopener"],[7],[0,"\\n            "],[1,[19,1,["value"]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_twitter_id"],null]],null,{"statements":[[0,"          "],[6,"a"],[9,"rel","noopener"],[10,"href",[25,"custom-url",[[25,"concat",["twitter.com/",[19,1,["value"]]],null]],null],null],[9,"target","_blank"],[7],[0,"\\n            "],[1,[19,1,["value"]],false],[0,"\\n          "],[8],[0,"        \\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_phone"],null]],null,{"statements":[[0,"          "],[6,"a"],[9,"rel","noopener"],[9,"class","default-text-color"],[9,"data-test-id","default-phone"],[10,"href",[26,["tel:",[19,1,["value"]]]]],[10,"onclick",[25,"action",[[19,0,[]],"triggerTelephony",[19,1,[]]],null],null],[7],[1,[19,1,["value"]],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,1,["type"]],"default_mobile"],null]],null,{"statements":[[0,"          "],[6,"a"],[10,"href",[26,["tel:",[19,1,["value"]]]]],[9,"data-test-id","default-mobile"],[9,"rel","noopener"],[9,"class","default-text-color"],[10,"onclick",[25,"action",[[19,0,[]],"triggerTelephony",[19,1,[]]],null],null],[7],[1,[19,1,["value"]],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"or",[[25,"eq",[[19,1,["type"]],"custom_paragraph"],null],[25,"eq",[[19,1,["type"]],"default_description"],null],[25,"eq",[[19,1,["type"]],"default_note"],null]],null]],null,{"statements":[[0,"          "],[1,[25,"plain-text-format",[[19,1,["value"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[19,1,["value"]],false],[0,"\\n        "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/requester-info/fields-info/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/requester-info/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"qUMK2wM+",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","info-details-widget"],[7],[0,"\\n  "],[6,"div"],[9,"class","row-fluid clearfix info-details__item"],[7],[0,"\\n    "],[1,[25,"app-components/avatar-user",null,[["user","size","class"],[[20,["requester"]],"large","contacts__cardpic contacts__avatar"]]],false],[0,"\\n    "],[6,"div"],[9,"data-test-id","name"],[9,"class","info-details__item__title"],[7],[0,"\\n      "],[1,[25,"app-components/user-link",null,[["user","linkClassNames"],[[20,["requester"]],"title-small text--semibold ellipsis widget-requestor-info"]]],false],[0,"\\n"],[4,"if",[[20,["requester","jobTitle"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","text__infotext ellipsis widget-requestor-info text--xsmall"],[7],[1,[20,["requester","jobTitle"]],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[6,"div"],[9,"data-test-id","company"],[9,"class","text--xsmall info-company-details"],[7],[0,"\\n        "],[6,"div"],[10,"aria-label",[25,"unless",[[20,["requesterAssociatedCompany"]],[25,"t",["ticket.company.association.warning"],null]],null],null],[10,"class",[26,["company-info ",[25,"unless",[[20,["requesterAssociatedCompany"]],"hint--rounded hint--bottom company-hint"],null]]]],[7],[0,"\\n"],[4,"unless",[[20,["requesterAssociatedCompany"]]],null,{"statements":[[0,"            "],[6,"span"],[9,"class","association-warning"],[7],[0,"\\n              "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon app-icon--small app-icon--warning warning-custom"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["linkableCompany"]]],null,{"statements":[[4,"link-to",["helpdesk.companies.show",[20,["linkableCompany"]]],[["class"],["text__infotext text--xsmall info-details__company"]],{"statements":[[0,"              "],[1,[20,["company","name"]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"            "],[1,[20,["company","name"]],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["hasFieldsLoaded"]]],null,{"statements":[[4,"if",[[20,["showRequesterWidget"]]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/ticket-details/widgets/requester-info/fields-info",null,[["fieldsInfo"],[[20,["filteredData"]]]]],false],[0,"\\n"],[4,"if",[[20,["showMore"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/widgets/requester-info/fields-info",null,[["fieldsInfo"],[[20,["remaningData"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["remaningCount"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","text__content text--small text--semibold contacts__sidepanel--state"],[10,"onclick",[25,"action",[[19,0,[]],"toggleInfo"],null],null],[7],[0,"\\n          "],[1,[25,"t",[[20,["toggleState"]]],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"hasabilities",["view_contacts"],null]],null,{"statements":[[0,"      "],[1,[25,"module-tickets/ticket-details/widgets/requester-info/fields-info",null,[["fieldsInfo"],[[20,["defaultContactFieldsInfo"]]]]],false],[0,"\\n    "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[0,"\\n\\n"],[4,"if",[[25,"gt",[[20,["recentTickets","length"]],0],null]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","contacts__widget_feedwrapper"],[7],[0,"\\n      "],[6,"div"],[9,"class","text__infotext text--xsmall pb-6"],[7],[0,"\\n        "],[1,[25,"t",["tickets.recent_tickets"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[1,[25,"app-components/recent-activities",null,[["activities","requester"],[[20,["recentTickets"]],[20,["requester"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/requester-info/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/service-task/component",["exports","ember-concurrency","freshdesk/constants/ticket"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({flashMessages:Ember.inject.service(),i18n:Ember.inject.service(),classNames:["__module-tickets__ticket-details__widgets__service-task"],serviceTasksCount:0,isLoading:!0,isChild:Ember.computed.equal("ticket.associationType",s.default.associationType.child),isParent:Ember.computed.equal("ticket.associationType",s.default.associationType.parent),canAddMoreTasks:Ember.computed("ticket.associatedTicketsCount","isParent",function(){var e=Ember.get(this,"ticket.associatedTicketsCount")||0;return Ember.get(this,"isParent")&&e&&Ember.get(this,"fetchServiceTasksCount").perform(),e<s.MAX_CHILD_COUNT}),init:function(){this._super.apply(this,arguments)},fetchServiceTasksCount:(0,t.task)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ember.get(this,"ticket").getAllAssociatedTickets({type:s.default.serviceTaskType,only:"count"});case 3:t=e.sent,Ember.set(this,"serviceTasksCount",this._handleResponse(t)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.ticket_associations.associated_tickets.service_task.failed")));case 10:return e.prev=10,Ember.set(this,"isLoading",!1),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])})).restartable(),_handleResponse:function(e){return e.meta.count?e.meta.count:0}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/service-task/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"eCsc/kSC",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","service-task-widget"],[7],[0,"\\n"],[4,"if",[[20,["isChild"]]],null,{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/widgets/associate-tickets/ticket",null,[["ticket","primeTicketDetails"],[[20,["ticket"]],[20,["primeTicketDetails"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isParent"]]],null,{"statements":[[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","service-task-loader"],[9,"data-test-id","service-task-loader"],[7],[0,"\\n          "],[1,[25,"ui-components/inline-loader",null,[["loaderClass"],["inline-loader"]]],false],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.associated_tickets.service_task.progress"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["serviceTasksCount"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","mb-10"],[7],[0,"\\n          "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"associatedServiceTasks"],null],null],[9,"data-test-id","list-service-tasks"],[9,"class","text--small"],[7],[0,"\\n            "],[1,[25,"t",["tickets.ticket_associations.child_list.service_task.label"],[["count"],[[20,["serviceTasksCount"]]]]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null],[4,"if",[[20,["canAddMoreTasks"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","create-service-task"],[7],[0,"\\n        "],[1,[25,"svg-jar",["plus"],[["aria-label","class"],["AddServiceTask","app-icon hint--rounded hint--top create-service-task__icon"]]],false],[0,"\\n        "],[6,"a"],[10,"onClick",[25,"action",[[19,0,[]],[20,["associateTicketsSlider"]],"createServiceTask"],null],null],[9,"data-test-id","create-service-task"],[9,"class","create-service-task__text"],[7],[0,"\\n          "],[1,[25,"t",["tickets.ticket_associations.service_task.create"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/service-task/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/time-entries/component",["exports","freshdesk/mixins/integrations/time-apps","freshdesk/utils/blank-array","ember-concurrency"],function(e,t,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["executedAt:desc","createdAt:desc"];e.default=Ember.Component.extend(t.default,{store:Ember.inject.service(),moment:Ember.inject.service(),isLoading:!1,timeEntriesCount:0,perPage:100,timerRunningPoll:!1,sortList:r,timeSpent:0,maxTimeEntries:99,runningTimeEntries:(0,i.default)(),timeEntriesSorted:Ember.computed.sort("ticket.timeEntries","sortList"),totalTimeLogged:Ember.computed("timeSpent",function(){var e=Ember.get(this,"timeSpent");return{hrs:e>=3600?Math.trunc(e/3600).toString().padStart(2,0):"00",mins:e>60?Math.trunc(e%3600/60).toString().padStart(2,0):"00",secs:(e%60).toString().padStart(2,0)}}),reloadHandler:Ember.observer("reload",function(){this.fetchTimeEntries()}),reloadComputeTimeEntries:Ember.observer("ticket.timeEntries.@each.{isRunning,updatedAt}",function(){this.computeTotalTime()}),init:function(){this._super.apply(this,arguments),Ember.set(this,"isLoading",!0),this.fetchTimeEntries()},willDestroyElement:function(){this._super.apply(this,arguments),this.stopTimer()},actions:{showTimeEntryForm:function(e){this.showTimeEntryForm(e)},startStopTimer:function(e){this.startStopTimer(e).then(this._success.bind(this,e),this._flashErrorMessage.bind(this,"ticket.details.timeentry.toggle.error"))},deleteTimeEntry:function(e){var t=this,i=function(){t.deleteTimeAppsData(e),t._flashSuccessMessage.bind(t,"ticket.details.timeentry.delete.success"),t.computeTotalTime()};this.deleteTimeEntry(e).then(i,this._flashErrorMessage.bind(this,"ticket.details.timeentry.delete.error"))}},_success:function(e){Ember.get(e,"timerRunning")&&this.updateTimeAppsData(e),this.fetchTimeEntries()},stopTimer:function(){Ember.get(this,"totalTimer").cancelAll(),Ember.set(this,"timerRunningPoll",!1)},totalTimer:(0,s.task)(regeneratorRuntime.mark(function e(t){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ember.get(this,"timerRunningPoll");case 1:if(!i){e.next=8;break}return r=Ember.get(this,"timeSpent"),e.next=5,(0,s.timeout)(1e3);case 5:Ember.set(this,"timeSpent",r+t),e.next=1;break;case 8:case"end":return e.stop()}},e,this)})).restartable(),fetchTimeEntries:function(){var e={per_page:Ember.get(this,"perPage")};Ember.get(this,"ticket").getAllTimeEntries(e).then(this._fetchTimeEntriesCB.bind(this),this._flashErrorMessage.bind(this,"ticket.details.timeentry.loading.error"))},_fetchTimeEntriesCB:function(e){Ember.get(this,"store").pushPayload(e),this.computeTotalTime()},computeTotalTime:function(){var e=this,t=Ember.get(this,"ticket.timeEntries")||[],i=[],s=0;t.forEach(function(t){var r=Ember.get(t,"timerRunning"),n=Ember.get(t,"timeSpent");if(r){i.push(t.id);var m=Ember.get(t,"startTime");n+=moment().diff(moment(m,Ember.get(e,"currentAccount.timeFormat.utc")),"seconds")}s+=n}),Ember.setProperties(this,{timeSpent:s,runningTimeEntries:i,isLoading:!1}),i.length?(Ember.set(this,"timerRunningPoll",!0),Ember.get(this,"totalTimer").perform(i.length,s)):this.stopTimer()},_flashSuccessMessage:function(e){this.flashMessages.success(this.i18n.t(e))},_flashErrorMessage:function(e){this.flashMessages.danger(this.i18n.t(e))}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/time-entries/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"umUKWEJD",block:'{"symbols":["timeEntry","index"],"statements":[[6,"div"],[9,"class","add-timer"],[7],[0,"\\n  "],[6,"div"],[9,"class","add-timer-content"],[7],[0,"\\n"],[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"      "],[1,[18,"ui-components/part-loading"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"div"],[9,"class","time-tracked"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["timeEntriesSorted","length"]],[25,"lte",[[20,["timeEntriesSorted","length"]],[20,["maxTimeEntries"]]],null]],null]],null,{"statements":[[0,"          "],[6,"p"],[9,"class","time-tracked-label text--xsmall mb-2"],[7],[1,[25,"t",["timer.total-time-tracked"],null],false],[8],[0,"\\n          "],[6,"div"],[9,"class","total-time-counter text--large text--semibold"],[9,"data-test-id","total-time-tracked"],[7],[0,"\\n            "],[6,"span"],[7],[1,[20,["totalTimeLogged","hrs"]],false],[0,"h"],[8],[0,"\\n            "],[6,"span"],[9,"class","ml-12"],[7],[1,[20,["totalTimeLogged","mins"]],false],[0,"m"],[8],[0,"\\n            "],[6,"span"],[9,"class","ml-12"],[7],[1,[20,["totalTimeLogged","secs"]],false],[0,"s"],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[6,"p"],[9,"class","time-tracked-label text--xsmall"],[7],[1,[25,"t",["timer.start-time-entries"],null],false],[8],[0,"\\n"]],"parameters":[]}],[0,"        "],[6,"button"],[9,"class","btn btn--primary text--xsmall btn__small mt-8"],[10,"aria-label",[25,"t",["timer.add-time"],null],null],[9,"data-test-id","add-time"],[3,"action",[[19,0,[]],"showTimeEntryForm",null]],[7],[0,"\\n          "],[1,[25,"t",["timer.add-time"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n\\n"],[4,"each",[[20,["timeEntriesSorted"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-details/widgets/time-entries/time-entry",null,[["timeEntry","timerAppActivated","isRunning","index"],[[19,1,[]],[20,["timerAppActivated"]],[19,1,["timerRunning"]],[19,2,[]]]]],false],[0,"\\n"]],"parameters":[1,2]},null]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/time-entries/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/time-entries/time-entry/component",["exports","freshdesk/mixins/bubble-action","freshdesk/utils/time-util","ember-concurrency"],function(e,t,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(t.default,{moment:Ember.inject.service(),eventSources:Ember.inject.service(),marketplace:Ember.inject.service(),currentUser:Ember.inject.service(),showMore:!1,timerRunningPoll:!1,tagName:"",canEditTimer:Ember.computed("timeEntry",function(){return Ember.get(this,"currentUser").hasAbility("edit_time_entries")||Ember.get(this,"currentUser.id")==Ember.get(this,"timeEntry.agent.id")}),executedToday:Ember.computed("timeEntry.executedAt",function(){var e=Ember.get(this,"timeEntry.executedAt");return i.default.isToday(e,Ember.get(this,"moment"))}),timeEntryNote:Ember.computed("timeEntry.note","showMore",function(){var e=Ember.get(this,"timeEntry.note"),t=Ember.get(this,"showMore");return{moreText:t?"fd.showless":"fd.showmore",note:t?e:e.substring(0,64).trim()+"..."}}),init:function(){this._super.apply(this,arguments),Ember.get(this,"isRunning")&&this.initiateTimer()},willDestroyElement:function(){this._super.apply(this,arguments),null!=Ember.get(this,"timerInstance")&&this.stopTimer()},didUpdateAttrs:function(){this._super.apply(this,arguments),null!=Ember.get(this,"timerInstance")&&this.stopTimer(),Ember.get(this,"isRunning")&&this.initiateTimer()},actions:{showTimeEntryForm:function(e){this.bubbleAction("showTimeEntryForm",e),Ember.set(this,"timerAppActivated",!1)},startStopTimer:function(e){this.bubbleAction("startStopTimer",e)},deleteTimeEntry:function(e){this.bubbleAction("deleteTimeEntry",e);var t=Ember.get(this,"eventSources").getModelHash(e);Ember.get(this,"marketplace").publishEvent({event:"ticket.deleteTimer",data:t})},toggleShowMore:function(){var e=Ember.get(this,"showMore");Ember.set(this,"showMore",!e)}},totalTimer:(0,r.task)(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ember.get(this,"timerRunningPoll"),n=Ember.get(this,"timeEntry");case 2:if(!i){e.next=9;break}return e.next=5,(0,r.timeout)(1e3);case 5:t+=1,Ember.set(n,"newTimeSpent",t),e.next=2;break;case 9:case"end":return e.stop()}},e,this)})).restartable(),initiateTimer:function(){var e=Ember.get(this,"timeEntry"),t=Ember.get(e,"timeSpent"),i=Ember.get(e,"startTime"),r=moment().diff(moment(i,Ember.get(this,"currentAccount.timeFormat.utc")),"seconds"),n=t+r;Ember.set(e,"newTimeSpent",n),Ember.set(this,"timerRunningPoll",!0),Ember.get(this,"totalTimer").perform(n)},stopTimer:function(){Ember.get(this,"totalTimer").cancelAll(),Ember.set(this,"timerRunningPoll",!1)}})});
define("freshdesk/components/module-tickets/ticket-details/widgets/time-entries/time-entry/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"jS/b5SV4",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","add-timer__card"],[7],[0,"\\n  "],[6,"div"],[9,"class","clearfix"],[7],[0,"\\n    "],[6,"span"],[10,"class",[26,[[25,"if",[[20,["timeEntry","billable"]],"","hide "],null],"tag tag--billable"]]],[7],[1,[25,"t",["timer.billable"],null],false],[8],[0,"\\n    "],[6,"ul"],[9,"class","time-format text__content clearfix"],[7],[0,"\\n      "],[6,"li"],[9,"class","time-format__item"],[7],[0,"\\n        "],[6,"p"],[9,"data-test-timeEntry","hrs"],[10,"class",[26,["time-count ",[25,"if",[[25,"eq",[[20,["timeEntry","timeSpentHrs"]],"00"],null],"time-count--zero",""],null]]]],[7],[0,"\\n          "],[1,[20,["timeEntry","timeSpentHrs"]],false],[0,"\\n          "],[6,"span"],[9,"class","text__content time-units"],[7],[0,"h"],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"li"],[9,"class","time-format__item"],[7],[0,"\\n        "],[6,"p"],[9,"data-test-timeEntry","mins"],[10,"class",[26,["time-count ",[25,"if",[[25,"eq",[[20,["timeEntry","timeSpentMins"]],"00"],null],"time-count--zero",""],null]]]],[7],[0,"\\n          "],[1,[20,["timeEntry","timeSpentMins"]],false],[0,"\\n          "],[6,"span"],[9,"class","text__content time-units"],[7],[0,"m"],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"li"],[9,"class","time-format__item"],[7],[0,"\\n        "],[6,"p"],[9,"data-test-timeEntry","secs"],[10,"class",[26,["time-count text__content ",[25,"if",[[25,"eq",[[20,["timeEntry","timeSpentSecs"]],"00"],null],"time-count--zero",""],null]]]],[7],[0,"\\n          "],[1,[20,["timeEntry","timeSpentSecs"]],false],[0,"\\n          "],[6,"span"],[9,"class","text__content time-units"],[7],[0,"s"],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["canEditTimer"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","add-timer-options clearfix"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["executedToday"]],[25,"not",[[20,["isRunning"]]],null]],null]],null,{"statements":[[0,"          "],[6,"a"],[9,"data-test-timeEntry","start"],[9,"class","add-timer-options__item"],[10,"aria-label",[25,"t",["time-entry.start-timer"],null],null],[3,"action",[[19,0,[]],"startStopTimer",[20,["timeEntry"]]]],[7],[0,"\\n            "],[1,[25,"t",["timer.start"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isRunning"]]],null,{"statements":[[0,"          "],[6,"a"],[9,"data-test-timeEntry","stop"],[9,"class","add-timer-options__item"],[10,"aria-label",[25,"t",["time-entry.stop-timer"],null],null],[3,"action",[[19,0,[]],"startStopTimer",[20,["timeEntry"]]]],[7],[0,"\\n            "],[1,[25,"t",["timer.stop"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[6,"a"],[9,"data-test-timeEntry","edit"],[9,"class","add-timer-options__item"],[10,"aria-label",[25,"t",["fd.edit"],null],null],[3,"action",[[19,0,[]],"showTimeEntryForm",[20,["timeEntry"]]]],[7],[0,"\\n            "],[1,[25,"t",["fd.edit"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n        "],[6,"a"],[9,"data-test-timeEntry","delete"],[9,"class","add-timer-options__item"],[10,"aria-label",[25,"t",["fd.delete"],null],null],[3,"action",[[19,0,[]],"deleteTimeEntry",[20,["timeEntry"]]]],[7],[0,"\\n          "],[1,[25,"t",["fd.delete"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","add-timer-bottom clearfix"],[7],[0,"\\n    "],[6,"div"],[9,"class","container-fluid p0"],[7],[0,"\\n      "],[6,"div"],[9,"data-test-timeEntry","avatar"],[9,"class","col-md-2 text-left p0"],[7],[0,"\\n        "],[1,[25,"app-components/avatar-user",null,[["user","class"],[[20,["timeEntry","agent","contact"]],"contacts__cardpic contacts__avatar"]]],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","col-md-10 p0 pl-6"],[7],[0,"\\n        "],[6,"p"],[9,"data-test-timeEntry","agent"],[9,"class","text__content text--semibold"],[7],[1,[20,["timeEntry","agent","contact","name"]],false],[8],[0,"\\n        "],[6,"p"],[9,"data-test-timeEntry","executedAt"],[9,"class","text__infotext text--xsmall mb-0"],[7],[0,"\\n          "],[1,[25,"t",["tickets.activities.actions.timesheet.on"],null],false],[0," "],[1,[25,"moment-format",[[20,["timeEntry","executedAt"]],[20,["currentAccount","timeFormat","fullDate"]]],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","container-fluid p0"],[7],[0,"\\n"],[4,"if",[[20,["timeEntry","note"]]],null,{"statements":[[0,"        "],[6,"p"],[9,"data-test-timeEntry","note"],[9,"class","text__content timer-note text--xsmall"],[7],[0,"\\n"],[4,"if",[[25,"gt",[[20,["timeEntry","note","length"]],64],null]],null,{"statements":[[0,"            "],[1,[20,["timeEntryNote","note"]],false],[0,"\\n            "],[6,"span"],[9,"class","show-more"],[3,"action",[[19,0,[]],"toggleShowMore"]],[7],[0,"\\n              "],[1,[25,"t",[[20,["timeEntryNote","moreText"]]],null],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[20,["timeEntry","note"]],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-details/widgets/time-entries/time-entry/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/component",["exports","freshdesk/mixins/tickets/form","freshdesk/mixins/tickets/insert-canned-response","freshdesk/constants/ticket","freshdesk/constants/ticket-form","freshdesk/mixins/integrations/attachment-apps","ember-keyboard","freshdesk/utils/blank-array","ember-concurrency","freshdesk/mixins/marketplace/interface/ticket-properties","freshdesk/mixins/tickets/child-ticket","freshdesk/utils/custom-form","freshdesk/mixins/tickets/wrap-email-notification-font","freshdesk/utils/ticket-field","freshdesk/mixins/fetch-user"],function(e,t,r,s,i,n,a,c,o,m,d,u,h,l,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,a.EKMixin,r.default,n.default,m.default,d.default,h.default,b.default,{store:Ember.inject.service("store"),ajax:Ember.inject.service(),ticketFields:Ember.inject.service(),i18n:Ember.inject.service(),flashMessages:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),classNames:["__module-tickets__ticket-form"],model:null,ticketCompany:null,startContactValidations:!1,isLoaded:!1,descriptionValidation:!1,displayInlineCannedResponse:!1,scrollOffset:-80,createAnother:!1,contactAttribute:null,newContact:null,addNewRequester:!0,showCcField:!0,contactCreateUrl:"api/_/contacts/quick_create",selectedContact:null,contactValidated:!0,editTicket:!1,isNewContact:!1,formType:null,formSchema:null,addedAttachments:(0,c.default)(),inlineAttachments:(0,c.default)(),dynamicAttachmentsIds:(0,c.default)(),allowContactCreate:Ember.computed.equal("formType","createChild"),showHint:Ember.computed.equal("formType","createTicket"),currentStatus:Ember.computed.reads("model.status"),filterAttachments:Ember.computed.setDiff("dynamicAttachmentsIds","attachmentInternalList"),removedAttachments:Ember.computed.setDiff("attachmentInternalList","dynamicAttachmentsIds"),cloudAttachments:Ember.computed.alias("model.cloudFiles"),associatedTicket:Ember.computed.reads("data.currentTicket"),selectedinternalGroup:Ember.computed.reads("ticketRecord.internalGroup"),selectedinternalAgent:Ember.computed.reads("ticketRecord.internalAgent"),ticketRecord:Ember.computed.reads("data.ticket"),ticket:Ember.computed.alias("ticketRecord"),isNew:Ember.computed.reads("ticketRecord.isNew"),contactEmail:Ember.computed.reads("associatedTicket.responder.email"),fetchAgentDetails:Ember.computed.reads("formSchema.fetchAgentRequester"),canShowAddMoreChilds:Ember.computed("associatedTicket","associatedTicket.associatedTicketsCount",function(){var e=Ember.get(this,"associatedTicket.associatedTicketsCount")<9,t=["createChild","createServiceTask"].includes(Ember.get(this,"formType"));return e&&t}),internalGroupAgentFNames:Ember.computed(function(){return["internalGroupId","internalAgentId"]}),fields:Ember.computed(function(){return{}}),attachmentInternalList:Ember.computed.map("model.attachments",function(e){return parseInt(Ember.get(e,"id"))}),hasFeatureSharedOwnership:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("shared_ownership")}),customTemplate:Ember.computed("ticketRecord.type","formType",function(){return u.default.renderCustomForm(Ember.get(this,"formType"),Ember.get(this,"ticketRecord.type"))}),assignToLabel:Ember.computed("formSchema.assignToLabel",function(){var e=Ember.get(this,"formSchema.assignToLabel");return e?Ember.get(this,"i18n").t(e):Ember.get(this,"i18n").t("ticket.assignto")}),submitButtonTitle:Ember.computed("formSchema.submitButton",function(){var e=Ember.get(this,"formSchema.submitButton");return e||"async.button.submit.tracker"}),groupValue:Ember.computed("ticketRecord.group",{get:function(){return Ember.get(this,"ticketRecord.group")},set:function(e,t){return t}}),agentValue:Ember.computed("ticketRecord.responder",{get:function(){return Ember.get(this,"ticketRecord.responder")},set:function(e,t){return t}}),ticketAttachments:Ember.computed("model.attachments","inlineAttachments",function(){var e=[],t=[];return Ember.get(this,"model.attachments")&&(e=Ember.get(this,"model.attachments").map(function(e){return e})),Ember.get(this,"inlineAttachments")&&(t=Ember.get(this,"inlineAttachments").map(function(e){return e})),e.concat(t)}),descriptionIsRequired:Ember.computed("fields.length","model.status",function(){var e=Ember.get(this,"fields"),t=e.findBy("type","default_description"),r=Ember.get(t,"requiredForAgents");return r||Ember.get(t,"requiredForClosure")&&Ember.get(this,"model.isMarkedClosed")}),init:function(){this._super.apply(this,arguments),this._setDefaultValues(),this._setDataFromModal(),this._setFormSchema();var e=Ember.get(this,"ticketFields.fields");Ember.set(this,"model",Ember.get(this,"ticketRecord"));var t=Ember.get(this,"isNew")?e.filterBy("hiddenInCreate",!1):e.filterBy("showInEdit",!0);Ember.set(this,"fields",t),Ember.set(this,"isLoaded",!0),this.sendAction("modalLoaded")},actions:{onInsertAttachment:function(e){Ember.set(this,"dynamicAttachmentsIds",e)},multipleCompany:function(e){Ember.set(this,"ticketCompany",e)},errorFieldFocus:function(){},submit:function(){var e=Ember.get(this,"model");return Ember.set(e,"companyId",Ember.get(this,"ticketCompany")),Ember.get(this,"formSchema.associationType")?Ember.get(this,"setAssociationParams").perform(e).then(this._createTicket.bind(this)):this._createTicket()},cancel:function(){var e=this;Ember.get(this,"model.isNew")||Ember.run.later(function(){Ember.get(e,"model").rollbackAttributes()}),this.clearCloudAttachments(),this.sendAction("close")},insertCannedResponse:function(e){this.setCannedResponse(e)},hideCannedResponse:function(){Ember.set(this,"cannedResponse",!1)},displayCannedResponse:function(){Ember.set(this,"cannedResponse",!0)},enableCannedResponse:function(){this.removeHeaderSubText(),this.toggleProperty("displayInlineCannedResponse")},onSaveAgentAndGroup:function(e,t){this._saveAgentAndGroup(e,t,"responderId","groupId")},onSaveInternalAgentAndGroup:function(e,t){Ember.setProperties(this,{selectedinternalGroup:t,selectedinternalAgent:e}),this._saveAgentAndGroup(e,t,"internalAgentId","internalGroupId")},setPriority:function(e){var t=Ember.get(this,"model");Ember.set(t,"priority",e)},hideCreateOnInvalidInputForRequester:function(e,t){return!!Ember.get(this,"allowContactCreate")&&(!!Ember.get(this,"currentUser").hasAbility("manageContacts")&&(!e.includes("@")||t.canCreate))},toggleAddRequester:function(){this.toggleProperty("isNewContact"),Ember.set(this,"ticketCompany",null),Ember.set(this,"selectedContact",null),Ember.set(this,"startContactValidations",!1)},onFieldChange:function(e,t){"customFields.cf_fsm_appointment_start_time"===t&&this.computeAppointmentEndTime(e)}},_createTicket:function(){var e=this._transitionToTicket.bind(this),t=this._updateCurrentTicket.bind(this),r=this._failure.bind(this),s=Ember.get(this,"model"),i=Ember.get(this,"isNew"),n=i?Ember.get(this,"dynamicAttachmentsIds"):Ember.get(this,"filterAttachments");return Ember.set(s,"attachmentIds",n),!Ember.get(this,"formSchema.associationType")||Ember.get(this,"data.from")?Ember.get(this,"isNew")?s.save().then(function(){e(s,i)}).catch(r):Ember.get(this,"_updateTicketContent").perform():Ember.get(this,"contactValidated")?s.save().then(t).catch(r):void 0},setAssociationParams:(0,o.task)(regeneratorRuntime.mark(function e(t){var r,s,i,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ember.get(this,"relatedTicketIds"),"createTracker"!==Ember.get(this,"formType")){e.next=6;break}s=Ember.get(this,"selectedAgent"),Ember.setProperties(t,{relatedTicketIds:r,requesterId:s.id}),e.next=13;break;case 6:if(Ember.setProperties(t,{parentId:r[0]}),!Ember.get(this,"isNewContact")){e.next=13;break}return e.next=10,Ember.get(this,"validateAndCreateContact").perform();case 10:i=e.sent,n=i?i.id:null,Ember.set(t,"requesterId",n);case 13:case"end":return e.stop()}},e,this)})),_transitionToTicket:function(e){this.sendAction("close"),this.clearFormFields(),this.clearCloudAttachments(),this._checkGlobalPermission()||this._checkGroupPermission(e)||this._checkTicketPermission(e)?Ember.get(this,"editTicket")?this.sendAction("refreshAction"):Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e.id):Ember.get(this,"router").transitionTo("helpdesk.tickets");var t=Ember.get(this,"i18n").t(Ember.get(this,"formSchema.successMessage"));Ember.get(this,"flashMessages").success(t)},_failure:function(e){var t=e.message,r=e.errors,s=void 0===r?[]:r;if(s.length){var i=(0,l.constructErrorKey)(s[0].detail);i&&(t=Ember.get(this,"i18n").t(i+".flashmessage",{fieldName:s[0].detail.field}))}Ember.get(this,"flashMessages").danger(t)},_updateCurrentTicket:function(){Ember.set(this,"isLoaded",!1);var e=Ember.get(this,"associatedTicket"),t=Ember.get(this,"formSchema"),r=t.associationType,i=t.successMessage,n={ticket:{id:e.id,association_type:s.default.associationType[r],associated_tickets_count:Ember.get(e,"associatedTicketsCount")+1}};Ember.get(this,"store").pushPayload(n),Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t(i)),Ember.get(this,"createAnother")?(Ember.setProperties(this,{createAnother:!1,addNewRequester:!0,isNewContact:!1}),this._refreshTicketFields()):this.sendAction("close"),"createTracker"===Ember.get(this,"formType")&&Ember.get(this,"updateTrackerAction")(),"createServiceTask"===Ember.get(this,"formType")&&this.updateParentRequesterInfo()},updateParentRequesterInfo:function(){var e=!1,t=this.peekUser(Ember.get(this,"associatedTicket.requesterId")),r=Ember.getProperties(t,["mobile","phone","address","deleted"]),s=r.mobile,i=r.phone,n=r.address;if(!r.deleted)return i||s||(e=!0,Ember.set(t,"phone",Ember.get(this,"ticketRecord.customFields.cf_fsm_phone_number"))),n||(e=!0,Ember.set(t,"address",Ember.get(this,"ticketRecord.customFields.cf_fsm_service_location"))),e?t.save().then(this.updateContactSuccess.bind(this)).catch(this._failure.bind(this)):void 0},updateContactSuccess:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("contacts.success.update"))},_setDataFromModal:function(){var e=Ember.get(this,"store"),t=Ember.get(this,"data");t&&t.contactEmail&&Ember.set(this,"contactEmail",t.contactEmail),t&&t.type&&(Ember.set(this,"associateAction",t.type),Ember.set(this,"relatedTicketIds",t.relatedTicketIds),Ember.set(this,"updateTrackerAction",t.updateTrackerFn)),Ember.set(this,"newContact",e.createRecord("contact"))},_refreshTicketFields:function(){var e=this,t=this.buildChildTicketSchema(Ember.get(this,"formType"),Ember.get(this,"associatedTicket"),Ember.get(this,"fields"));Ember.set(this,"ticketRecord",t),Ember.set(this,"model",t),Ember.run.next(function(){Ember.set(e,"isLoaded",!0)})},_setDefaultValues:function(){Ember.set(this,"contactAttribute",["name","phone","email","companyName"])},_getformType:function(){var e=Ember.get(this,"associateAction");return e||(Ember.get(this,"isNew")?"createTicket":"editTicket")},_setFormSchema:function(){var e=this._getformType();Ember.set(this,"formType",e),Ember.set(this,"formSchema",i.default[e])},clearFormFields:function(){Ember.set(this,"ticketCompany",null),Ember.set(this,"selectedContact",null)},onChangeRequester:function(e){Ember.set(this,"selectedContact",e)},_updateTicketContent:(0,o.task)(regeneratorRuntime.mark(function e(){var t,r,s,i,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ember.get(this,"model"),r=void 0,!Ember.get(this,"addNewRequester")){e.next=7;break}Ember.set(t,"companyId",Ember.get(this,"ticketCompany")),r=Ember.get(t,"requesterId"),e.next=11;break;case 7:return e.next=9,Ember.get(this,"validateAndCreateContact").perform();case 9:s=e.sent,r=s.id;case 11:i={subject:Ember.get(t,"subject"),description:this._wrapFontFamily(Ember.get(t,"description")),attachment_ids:Ember.get(t,"attachmentIds"),cloud_files:Ember.get(this,"serializedCloudAttachments"),requester_id:r},Ember.get(this,"ticketCompany")?i.company_id=Ember.get(this,"ticketCompany"):Ember.set(t,"company",null),Ember.get(t,"inlineAttachmentIds")&&Ember.set(i,"inline_attachment_ids",Ember.get(t,"inlineAttachmentIds")),Ember.RSVP.Promise.all(this._deleteAttachmentPromises()).then(function(){t.updateTicket(i).then(n._handleUpdateTicketResponse.bind(n,t)).catch(function(e){return n._failure(e)})});case 15:case"end":return e.stop()}},e,this)})),_deleteAttachmentPromises:function(){var e=[],t=Ember.get(this,"store"),r=Ember.get(this,"removedAttachments");return r.length>0&&r.forEach(function(r){var s=t.peekRecord("attachment",r);e.push(s.destroyRecord())}),e},_clearModelErrorMessage:Ember.observer("model.errors.messages.[]",function(){var e=Ember.get(this,"model");Ember.get(e,"errors.messages.length")>0&&Ember.run.later(function(){e._internalModel.clearErrorMessages()})}),removeHeaderSubText:function(){Ember.get(this,"displayInlineCannedResponse")?document.querySelector(".modal-dialog .modal-content").classList.add("modal-title-subtext"):document.querySelector(".modal-title-subtext").classList.remove("modal-title-subtext")},createContact:(0,o.task)(regeneratorRuntime.mark(function e(t){var r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},Ember.get(this,"contactAttribute").forEach(function(e){r[e.decamelize()]=Ember.get(t,e)}),s=void 0,e.prev=3,e.next=6,Ember.get(this,"ajax").request(Ember.get(this,"contactCreateUrl"),{method:"POST",data:JSON.stringify(r)});case 6:return s=e.sent,i=Ember.get(this,"i18n"),Ember.get(this,"flashMessages").success(i.t("ticket.requester.create.success")),Ember.set(this,"newContact",Ember.get(this,"store").createRecord("contact")),e.abrupt("return",s.data);case 13:e.prev=13,e.t0=e.catch(3),this._failure(e.t0);case 16:case"end":return e.stop()}},e,this,[[3,13]])})),validateAndCreateContact:(0,o.task)(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ember.get(this,"newContact"),Ember.set(this,"startContactValidations",!0),e.next=4,t.validate();case 4:if(r=e.sent,s=r.validations,!Ember.get(s,"isInvalid")){e.next=12;break}return Ember.set(this,"contactValidated",!1),this.incrementProperty("focusOnError"),e.abrupt("return");case 12:Ember.set(this,"contactValidated",!0);case 13:return e.next=15,Ember.get(this,"createContact").perform(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)})),submitNewTicket:Ember.on((0,a.keyDown)("cmd+Enter"),function(){this.send("submit")}),_checkGroupPermission:function(e){return Ember.get(this,"currentUser.ticketScope")===s.default.agentScope.group&&Ember.get(this,"currentUser.groupIds").includes(Ember.get(e,"groupId"))},_checkTicketPermission:function(e){return Ember.get(this,"currentUser").get("id")===Ember.get(e,"responderId")},_checkGlobalPermission:function(){return Ember.get(this,"currentUser.ticketScope")===s.default.agentScope.global},_saveAgentAndGroup:function(e,t,r,s){var i={},n=Ember.get(this,"model"),a=t&&Ember.get(t,"id"),c=e&&Ember.get(e,"id");i[s]=a?parseInt(a):null,i[r]=c?parseInt(c):null,Ember.setProperties(n,i)},_handleUpdateTicketResponse:function(e,t){Ember.get(this,"store").pushPayload(t),Ember.get(this,"model").rollbackAttributes(),Ember.get(this,"model.inlineAttachmentIds")&&Ember.set(this,"model.inlineAttachmentIds",[]),this._transitionToTicket(e)}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/component",["exports","freshdesk/utils/service-task","freshdesk/utils/blank-object","freshdesk/constants/service-task-agent-availability"],function(e,t,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({i18n:Ember.inject.service(),ajax:Ember.inject.service(),moment:Ember.inject.service(),store:Ember.inject.service(),flashMessages:Ember.inject.service(),classNames:["__module-tickets__ticket-details__widgets__service-task__agent-availability"],isLoading:!0,changePosition:!0,agentTicketsPresent:Ember.computed.gt("agentTickets.length",0),timeWindows:(0,i.default)(s.TIME_WINDOWS),currentTimeSlot:Ember.computed("fsmStartTime","fsmEndTime",function(){var e=Ember.get(this,"fsmStartTime"),t=Ember.get(this,"fsmEndTime");return e&&t&&Ember.get(this,"moment").moment(t).isAfter(e)}),currentTimeSlotPos:Ember.computed("currentTimeSlot",function(){var e=Ember.get(this,"moment").moment(Ember.get(this,"fsmStartTime")),t=Ember.get(this,"moment").moment(Ember.get(this,"fsmEndTime")),i=Ember.get(this,"timeWindows"),m=e.format(s.TIME_FORMAT),r=t.format(s.TIME_FORMAT),n=i.findIndex(function(e){return e===m});return"width: "+((e.isSame(t,"day")?i.findIndex(function(e){return e===r}):i.length)-n)*s.SLOT_WIDTH+"px; left: "+n*s.SLOT_WIDTH+"px"}),responderName:Ember.computed("ticketResponderId",function(){var e=Ember.get(this,"ticketResponderId"),t=Ember.get(this,"store").peekRecord("agent",e);return Ember.get(t,"name")}),currentDate:Ember.computed("fsmStartTime",function(){var e=Ember.get(this,"fsmStartTime")?Ember.get(this,"moment").moment(Ember.get(this,"fsmStartTime")):Ember.get(this,"moment").moment();return this._positionElement(),e.format("LL")}),init:function(){this._super.apply(this,arguments),Ember.set(this,"_oldResponderId",Ember.get(this,"ticketResponderId")),Ember.set(this,"_oldStartTime",Ember.get(this,"fsmStartTime")),this.updateAgentTickets()},didUpdateAttrs:function(){this._super.apply(this,arguments);var e=Ember.get(this,"_oldResponderId"),t=Ember.get(this,"ticketResponderId"),i=Ember.get(this,"moment").moment(Ember.get(this,"_oldStartTime")),s=Ember.get(this,"moment").moment(Ember.get(this,"fsmStartTime"));e===t&&i.isSame(s,"day")||(Ember.set(this,"changePosition",!0),Ember.set(this,"_oldResponderId",t),Ember.set(this,"_oldStartTime",Ember.get(this,"fsmStartTime")),this.updateAgentTickets())},didRender:function(){this._super.apply(this,arguments),this.$(".time-window").length&&Ember.get(this,"changePosition")&&(this._positionElement(),Ember.set(this,"changePosition",!1))},updateAgentTickets:function(){Ember.set(this,"isLoading",!0);var e=t.default.formQueryParams(Ember.get(this,"moment"),Ember.get(this,"fsmStartTime"),Ember.get(this,"ticketResponderId"));Ember.get(this,"store").query("ticket",e).then(this._ticketSuccess.bind(this)).catch(this._ticketFailure.bind(this))},_ticketSuccess:function(e){Ember.set(this,"isLoading",!1),Ember.set(this,"agentTickets",e)},_positionElement:function(){var e=Ember.get(this,"fsmStartTime"),t=e?2*Ember.get(this,"moment").moment(e).hour():s.DEFAULT_HOURS;t>40&&(t=40);var i=document.querySelector("#time-window-"+t);i&&Ember.run.next(function(){i.scrollIntoView({block:"center",inline:"center"})})},_ticketFailure:function(){Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("fd.somethingwentwrongError"))}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Oo04xU8q",block:'{"symbols":["ticket","timeWindow","index"],"statements":[[6,"div"],[9,"class","agent-details"],[7],[1,[18,"responderName"],false],[1,[25,"t",["tickets.ticket_associations.service_task.agentSchedule"],null],false],[1,[18,"currentDate"],false],[8],[0,"\\n"],[6,"div"],[9,"class","agent-service-task-detail"],[7],[0,"\\n"],[4,"if",[[20,["isLoading"]]],null,{"statements":[[0,"\\t\\t\\t\\t"],[6,"div"],[9,"class","text-align--center"],[7],[0,"\\n\\t\\t\\t\\t\\t\\t"],[1,[18,"ui-components/inline-loader"],false],[0,"\\n\\t\\t\\t\\t"],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"\\t\\t\\t\\t"],[6,"div"],[9,"class","day time-window"],[9,"data-test-id","time-window"],[7],[0,"\\n"],[4,"each",[[20,["timeWindows"]]],null,{"statements":[[4,"if",[[25,"and",[[25,"eq",[[25,"mod",[[19,3,[]],2],null],0],null],[25,"gt",[[19,3,[]],0],null]],null]],null,{"statements":[[0,"\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t"],[6,"div"],[9,"class","day-hour"],[10,"id",[26,["time-window-",[19,3,[]]]]],[10,"style",[25,"grid-position",[1,0,1,[19,3,[]],0,2],null],null],[7],[0,"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t"],[6,"div"],[9,"class","text"],[7],[1,[19,2,[]],false],[8],[0,"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t"],[6,"div"],[9,"class","vr"],[7],[8],[0,"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t"],[8],[0,"\\t\\n"]],"parameters":[]},null]],"parameters":[2,3]},null],[0,"\\t\\t\\t\\t"],[8],[0,"\\n\\t\\t\\t\\t"],[6,"div"],[9,"class","day day-events"],[7],[0,"\\n"],[4,"each",[[20,["agentTickets"]]],null,{"statements":[[0,"\\t\\t\\t\\t\\t\\t\\t\\t"],[1,[25,"module-tickets/ticket-form/custom-form/agent-availability/ticket-card",null,[["ticket","timeWindows"],[[19,1,[]],[20,["timeWindows"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"\\t\\t\\t\\t"],[8],[0,"\\t\\n"],[4,"if",[[20,["currentTimeSlot"]]],null,{"statements":[[0,"\\t\\t\\t\\t\\t\\t"],[6,"div"],[9,"class","container"],[10,"style",[18,"currentTimeSlotPos"],null],[7],[8],[0,"\\t\\n"]],"parameters":[]},null]],"parameters":[]}],[8]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-card/component",["exports","freshdesk/constants/service-task-agent-availability"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Ember.String;t.default=Ember.Component.extend({moment:Ember.inject.service(),attributeBindings:["style","data-test-id"],style:Ember.computed("ticket.customFields.{cf_fsm_appointment_start_time,cf_fsm_appointment_end_time}",function(){return this.gridStartPosition(Ember.get(this,"ticket.customFields.cf_fsm_appointment_start_time"),Ember.get(this,"ticket.customFields.cf_fsm_appointment_end_time"))+";z-index:1"}),"data-test-id":Ember.computed(function(){return"event-data-grid-"+Ember.get(this,"ticket.id")}),actions:{mouseHover:function(t){t&&t.actions&&t.actions.open()},mouseOut:function(t){t&&t.actions&&t.actions.close()}},gridStartPosition:function(t,n){var o=Ember.get(this,"moment").moment(t),m=Ember.get(this,"moment").moment(n),s=Ember.get(this,"timeWindows"),r=o.format(e.TIME_FORMAT),c=s.findIndex(function(t){return t===r}),a=m.format(e.TIME_FORMAT),d=s.findIndex(function(t){return t===a});return i.htmlSafe("grid-column: "+(c+1)+"/ span "+(d-c)+"; overflow: hidden")}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-card/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"plZxxe6/",block:'{"symbols":["dd"],"statements":[[4,"basic-dropdown-hover",null,[["openDelay"],[700]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["class","onMouseOver","onMouseLeave"],["trigger-shortcuts",[25,"action",[[19,0,[]],"mouseHover"],null],[25,"action",[[19,0,[]],"mouseOut"],null]]],{"statements":[[0,"    "],[6,"div"],[9,"class","event-wrapper"],[9,"data-test-id","event-data"],[7],[0,"\\n      "],[6,"div"],[9,"class","event"],[7],[0,"\\n        "],[6,"div"],[9,"class","contact-info"],[7],[1,[20,["ticket","customFields","cf_fsm_contact_name"]],false],[0,"  #"],[1,[20,["ticket","id"]],false],[0," "],[8],[0,"\\n        "],[6,"div"],[9,"class","address"],[7],[1,[20,["ticket","customFields","cf_fsm_service_location"]],false],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class","onMouseEnter","onMouseLeave"],["__module-tickets__ticket-details__widgets__service-task__agent-availability__details",[25,"action",[[19,0,[]],"mouseHover"],null],[25,"action",[[19,0,[]],"mouseOut"],null]]],{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-form/custom-form/agent-availability/ticket-detail",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-card/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-detail/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-detail/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"+5a7kMpu",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","detailed-card"],[10,"data-test-id",[26,["service-task-detailed-card-",[20,["ticket","id"]]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","detailed-card__row"],[7],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--left"],[7],[0,"\\n      "],[6,"div"],[9,"class","contact-icon"],[7],[0,"\\n"],[4,"ui-components/avatar-icon",null,[["size","isCircle","class"],["small",true,"profilepic"]],{"statements":[[0,"          "],[1,[25,"ui-components/avatar-letters",null,[["name","class"],[[20,["ticket","customFields","cf_fsm_contact_name"]],"avatar-block"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n      "],[6,"div"],[9,"class","pl-10 ellipsis"],[10,"data-test-id",[26,["service-task-contact-name-",[20,["ticket","id"]]]]],[7],[0,"\\n        "],[1,[20,["ticket","customFields","cf_fsm_contact_name"]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--right"],[7],[0,"\\n      "],[6,"a"],[9,"target","_blank"],[10,"data-test-id",[26,["service-task-ticket-link-",[20,["ticket","id"]]]]],[9,"rel","noopener"],[10,"href",[26,["/a/tickets/",[20,["ticket","id"]]]]],[7],[0,"\\n        "],[1,[25,"svg-jar",["new-tab"],[["class","aria-hidden"],["app-icon app-icon--small","true"]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","detailed-card__row"],[7],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--left"],[7],[0,"\\n      "],[6,"div"],[9,"class","ellipsis service-task-subject"],[10,"data-test-id",[26,["service-task-subject-",[20,["ticket","id"]]]]],[7],[1,[20,["ticket","subject"]],false],[8],[0," \\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--right ticket-id"],[10,"data-test-id",[26,["service-task-ticket-id-",[20,["ticket","id"]]]]],[7],[0," #"],[1,[20,["ticket","id"]],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[9,"class","detailed-card__row service-location"],[7],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--left"],[10,"data-test-id",[26,["service-task-location-",[20,["ticket","id"]]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ellipsis"],[7],[1,[20,["ticket","customFields","cf_fsm_service_location"]],false],[0," "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","detailed-card__row--right icon"],[7],[0,"\\n      "],[1,[25,"svg-jar",["location"],[["class","aria-hidden"],["app-icon app-icon--small","true"]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/custom-form/agent-availability/ticket-detail/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/component",["exports","freshdesk/constants/custom-form-templates"],function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var i=self.window&&self.window.navigator?self.window.navigator.userAgent:"",n=i.indexOf("MSIE ")>-1||i.indexOf("Trident/")>-1;e.default=Ember.Component.extend({i18n:Ember.inject.service(),store:Ember.inject.service(),classNames:["__module-tickets__ticket-form__custom-form"],fieldGroups:Ember.computed.reads("customTemplate.fieldGroups"),isCompatibleBrowser:Ember.computed(function(){return!n}),serviceTaskAvailability:Ember.computed(function(){return Ember.get(this,"currentAccount").launched("field_agent_availability")}),customTemplate:Ember.computed(function(){var e=Ember.get(this,"formType"),r=Ember.get(this,"ticketType").replace(/ /g,"");return t.default[r][e]}),formFieldGroups:Ember.computed.map("fieldGroups",function(e){var t=e.name,r=e.label,i=e.allowedFields,n=void 0===i?[]:i,o=e.allowedSections,s=void 0===o?[]:o,l=e.excludedFields,c=void 0===l?[]:l,m=this._allowedSectionFields(s);return{name:t,label:r,fields:Ember.get(this,"formFields").filter(function(e){var t=Ember.get(e,"name");return(n.includes(t)||m.includes(t))&&!c.includes(t)})}}),_allowedSectionFields:function(e){var t=[];return Ember.get(this,"store").peekAll("section").filter(function(t){return e.includes(Ember.get(t,"label"))}).forEach(function(e){var i=Ember.get(e,"sectionFields").map(function(e){return Ember.get(e,"ticketField.name")});t.push.apply(t,r(i))}),t}})});
define("freshdesk/components/module-tickets/ticket-form/custom-form/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"aSbm3gUV",block:'{"symbols":["formGroup","field","&default"],"statements":[[4,"each",[[20,["formFieldGroups"]]],null,{"statements":[[0,"  "],[6,"div"],[10,"class",[25,"concat",["form-group ",[19,1,["name"]]],null],null],[7],[0,"\\n"],[4,"if",[[19,1,["label"]]],null,{"statements":[[0,"      "],[6,"h4"],[9,"class","form-group__title"],[7],[1,[25,"t",[[19,1,["label"]]],null],false],[8],[0,"\\n"]],"parameters":[]},null],[4,"each",[[19,1,["fields"]]],null,{"statements":[[0,"      "],[11,3,[[19,2,[]]]],[0,"\\n"]],"parameters":[2]},null],[4,"if",[[25,"and",[[20,["isCompatibleBrowser"]],[20,["serviceTaskAvailability"]]],null]],null,{"statements":[[4,"if",[[25,"and",[[25,"eq",[[19,1,["name"]],"appointmentInfo"],null],[20,["ticketResponderId"]]],null]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/ticket-form/custom-form/agent-availability",null,[["ticketResponderId","fsmStartTime","fsmEndTime"],[[20,["ticketResponderId"]],[20,["ticketRecord","customFields","cf_fsm_appointment_start_time"]],[20,["ticketRecord","customFields","cf_fsm_appointment_end_time"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/custom-form/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/section-form/component",["exports","freshdesk/utils/blank-array"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({_previousSectionKeys:(0,t.default)(),sections:Ember.computed.reads("sectionField.sections"),showSection:Ember.computed.and("value","selectedSection"),sectionLabel:Ember.computed.reads("selectedSection.label"),sectionChanged:Ember.computed("ticket",{get:function(){return!1},set:function(e,t){return t}}),sectionChoice:Ember.computed("value",function(){var e=Ember.get(this,"sectionField.choices"),t=Ember.get(this,"value"),i=e.findBy("value",t);return Ember.get(this,"sectionChanged")&&this._resetPreviousSection(),i?i.id:null}),selectedSection:Ember.computed("sectionChoice",function(){var e=Ember.get(this,"sectionChoice"),t=Ember.get(this,"sections");return Ember.set(this,"sectionChanged",!0),t.find(function(t){return Ember.get(t,"picklistMappingIds").includes(e)})}),selectedTicketFields:Ember.computed.map("selectedSection.sectionFields",function(e){var t=Ember.get(e,"ticketField"),i=Ember.get(this,"_previousSectionKeys"),s=Ember.getProperties(t,"name","type","nestedTicketFields"),n=s.name,o=s.type,c=s.nestedTicketFields;return i.push(n),"nested_field"===o&&c.forEach(function(e){i.push(Ember.get(e,"name"))}),Ember.set(this,"_previousSectionKeys",i),t}),init:function(){this._super.apply(this,arguments);var e=Ember.get(this,"sectionField.fieldName");Ember.defineProperty(this,"value",Ember.computed.reads("ticket."+e))},_resetPreviousSection:function(){var e=this;Ember.get(this,"_previousSectionKeys").forEach(function(t){e._rollbackAttribute(t)}),Ember.set(this,"_previousSectionKeys",[])},_rollbackAttribute:function(e){var t=Ember.get(this,"ticket.savedCustomFields")||{};Ember.set(this,"ticket.customFields."+e,t[e])}})});
define("freshdesk/components/module-tickets/ticket-form/section-form/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"kcD3eGY2",block:'{"symbols":["&default"],"statements":[[4,"if",[[20,["showSection"]]],null,{"statements":[[0,"  "],[11,1,[[25,"hash",null,[["label","fields"],[[20,["sectionLabel"]],[20,["selectedTicketFields"]]]]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/section-form/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"RZnag+q/",block:'{"symbols":["form","field","field"],"statements":[[6,"div"],[9,"class","modal-carousel_container modal-title-subtext"],[7],[0,"\\n  "],[6,"div"],[10,"class",[26,["modal-carousel_wrapper ",[25,"if",[[20,["displayInlineCannedResponse"]],"carousel-slider","carousel-default"],null]," "]]],[7],[0,"\\n    "],[6,"div"],[9,"class","modal-carousel__item carousel-default-view"],[7],[0,"\\n      "],[6,"div"],[9,"class","modal-header"],[7],[0,"\\n        "],[6,"div"],[9,"class","modal-header__content"],[7],[0,"\\n          "],[6,"h4"],[9,"class","modal-title text--xlarge"],[7],[0,"\\n            "],[1,[25,"svg-jar",[[20,["formSchema","headerIcon"]]],[["class"],["modal-icons"]]],false],[0,"\\n            "],[1,[25,"t",[[20,["formSchema","headerTitle"]]],null],false],[0,"\\n          "],[8],[0,"\\n"],[4,"if",[[20,["showHint"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","contact-ticket-hint"],[7],[0,"\\n              "],[1,[25,"t",["tickets.home.ticketinfo"],null],false],[0,"\\n              "],[6,"span"],[9,"class","hint-bold"],[7],[0,"\\n                "],[1,[25,"t",["tickets.home.ticketinfo.head.link"],null],false],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[20,["isLoaded"]]],null,{"statements":[[4,"ui-form/form-for",[[20,["model"]],[20,["rules"]]],[["submit","onValidationFailed","scrollOffset","defaultSubmitBtn"],[[25,"action",[[19,0,[]],"submit"],null],"errorFieldFocus",[20,["scrollOffset"]],[20,["submitButtonTitle"]]]],{"statements":[[4,"if",[[20,["customTemplate"]]],null,{"statements":[[4,"module-tickets/ticket-form/custom-form",null,[["formFields","formType","ticketType","ticketResponderId","ticketRecord"],[[20,["formFields"]],[20,["formType"]],[20,["ticketRecord","type"]],[20,["ticketRecord","responderId"]],[20,["ticketRecord"]]]],{"statements":[[0,"              "],[12,"helpdesk/tickets/ticket-form/ticket-form-fields",[1,3]],[0,"\\n"]],"parameters":[3]},null]],"parameters":[]},{"statements":[[4,"each",[[20,["formFields"]]],null,{"statements":[[4,"unless",[[19,2,["belongsToSection"]]],null,{"statements":[[0,"                "],[12,"helpdesk/tickets/ticket-form/ticket-form-fields",[1,2]],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]}],[0,"          "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n"],[4,"if",[[20,["canShowAddMoreChilds"]]],null,{"statements":[[0,"              "],[6,"label"],[9,"class","text--normal create-another-child-label"],[7],[0,"\\n                "],[6,"span"],[9,"class","modal__footer__checkbox pull-left"],[7],[0,"\\n                  "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","value"],["createAnotherTicket",[20,["createAnother"]]]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[7],[0,"\\n                  "],[1,[25,"t",["ticket.submit.createAnother"],null],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[6,"button"],[9,"type","button"],[9,"name","button"],[10,"onclick",[25,"action",[[19,0,[]],"cancel"],null],null],[9,"class","btn btn--secondary"],[7],[0,"\\n              "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n            "],[8],[0,"\\n            "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n              "],[1,[25,"component",[[19,1,["submit"]]],[["data-test-id"],["create-ticket"]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]},null],[0,"    "],[8],[0,"\\n    "],[6,"div"],[10,"class",[26,[[25,"if",[[20,["displayInlineCannedResponse"]],"show-canned","hide-canned-response"],null]," modal-carousel__item custom-cannedResponse"]]],[7],[0,"\\n      "],[1,[25,"app-components/canned-response",null,[["insertCannedResponse","hideCannedResponse","inlineRender","toggleAction"],[[25,"action",[[19,0,[]],"insertCannedResponse"],null],[25,"action",[[19,0,[]],"cancel"],null],true,[25,"action",[[19,0,[]],"enableCannedResponse"],null]]]],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":true}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-form/ticket-field/component",["exports","freshdesk/constants/component-map/ticket-fields","freshdesk/constants/ticket","freshdesk/mixins/tickets/clearSetOptionsInterfaceAPI"],function(e,t,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=i.default.serviceTaskType,s=Ember.Component.extend(r.default,{currentAccount:Ember.inject.service(),eventSources:Ember.inject.service(),i18n:Ember.inject.service(),mkpInterface:Ember.inject.service("marketplace-interface"),disabled:!1,field:null,form:null,dropdownClass:null,hideDefaultOption:Ember.computed.readOnly("componentMap.hideDefaultOption"),hint:Ember.computed.readOnly("componentMap.hint"),nestedFieldUpdated:Ember.computed.readOnly("mkpInterface.controlData.nestedFieldUpdated"),isFreddySuggestion:Ember.computed.notEmpty("botSuggestion"),fieldLabel:Ember.computed("field.{label,default}",function(){if(Ember.get(this,"field.default")){var e=i.default.ticketFieldLabelMap[Ember.get(this,"field.name")];return e?Ember.get(this,"i18n").t(e):Ember.get(this,"field.label")}return Ember.get(this,"field.label")}),isRequired:Ember.computed("field.{requiredForAgents,requiredForClosure}","model.status",function(){var e=Ember.get(this,"field.requiredForAgents");return e||Ember.get(this,"field.requiredForClosure")&&Ember.get(this,"model.isMarkedClosed")}),fieldDropdownChoices:Ember.computed("field.type","currentAccount","mkpInterface.controlData.{dropdownOptionsUpdated,mkpFieldChange}",{get:function(){var e=Ember.get(this,"mkpInterface.controlData.mkpFieldChange"),t=Ember.get(this,"field.name"),i=Ember.get(this,"field.type"),r=Ember.get(this,"field.choices")?Ember.get(this,"field.choices").copy(!0):Ember.get(this,"field.choices");if(e&&e[t]){var n=e[t];r="nested_field"===i?this.filterCustomFieldChoices(r,n[0]):r.filter(function(e){return n.includes(e.value)})}switch(i){case"default_ticket_type":return Ember.get(this,"currentAccount.fsmEnabled")?r.filter(function(e){return e.value!==a}):r;case"default_company":return Ember.get(this,"companyChoices");default:return r}}}),companyChoices:Ember.computed(function(){var e=[];e=(Ember.get(this,"model.requester.allCompanies")||[]).map(function(e){return{label:Ember.get(e,"name"),value:parseInt(Ember.get(e,"id"),10)}});var t=Ember.get(this,"model.company.name"),i=parseInt(Ember.get(this,"model.company.id"),10);return e.some(function(e){if(e.value===i)return!0})||e.push({label:t,value:i}),e}),init:function(){this._super.apply(this,arguments);var e=Ember.get(this,"field.type"),r=t.default[e],n=r.type,o=("is-"+n).camelize();if(Ember.set(this,"componentMap",r),Ember.set(this,o,!0),Ember.set(this,"optionValuePath",Ember.getWithDefault(this,"componentMap.optionValuePath","value")),i.default.translatableFields.includes(Ember.get(this,"field.type"))?Ember.set(this,"optionLabelPath",Ember.getWithDefault(this,"componentMap.optionLabelPath","translatedLabel")):Ember.set(this,"optionLabelPath",Ember.getWithDefault(this,"componentMap.optionLabelPath","label")),"nested_field"===e){var a=Ember.get(this,"field.nestedTicketFields.firstObject.name"),s=Ember.get(this,"field.nestedTicketFields.lastObject.name");Ember.set(this,"subCategoryDisabled",Ember.computed.oneWay("mkpInterface.controlData.dyn_"+a+".disable")),Ember.set(this,"itemDisabled",Ember.computed.oneWay("mkpInterface.controlData.dyn_"+s+".disable"))}},willDestroyElement:function(){this._super.apply(this,arguments),this.deleteInterfaceAPIValues(Ember.get(this,"field.name"))},actions:{onchange:function(e,t){var i=Ember.get(this,"field.type");t="nested_field"===i?t:Ember.get(this,"field.fieldName");var r=Ember.get(this,"eventSources"),n=r.propertyEvents.ticket,a=t.split("."),s=o(a,2),l=s[0],d=s[1];if(Object.keys(n).indexOf(l)>-1){var c=Ember.get(this,"model");r.publishFieldChange(Ember.get(c,t),e,"ticket",l,d)}if(this.attrs.onchange){var m;(m=this.attrs).onchange.apply(m,arguments)}this.attrs.onFieldChange&&this.attrs.onFieldChange(e,t,i)},oninput:function(e,t){var i=Ember.get(this,"field.type");t=Ember.get(this,"field.fieldName"),Ember.get(this,"oninput")&&Ember.get(this,"oninput").apply(void 0,arguments),Ember.get(this,"onFieldChange")&&Ember.get(this,"onFieldChange")(e,t,i)}},filterCustomFieldChoices:function(e,t){var i=this;if(t){var r="string"!=typeof t[0]?Object.keys(t):t;return e.filter(function(e){var o=r.includes(e.value);if(o){var a=t[e.value]&&"object"===n(t[e.value][0])?t[e.value][0]:t[e.value];e.choices=i.filterCustomFieldChoices(e.choices,a)}return o})}return[]}});s.reopenClass({positionalParams:["field"]}),e.default=s});
define("freshdesk/components/module-tickets/ticket-form/ticket-field/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"Y7VRNt6p",block:'{"symbols":[],"statements":[[6,"div"],[10,"data-test-id",[25,"concat",["tkt-properties-",[20,["field","name"]]],null],null],[7],[0,"\\n"],[4,"if",[[20,["isTextField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","text-field"]],[20,["field","fieldName"]]],[["label","hint","isRequired","disabled","onchange","oninput"],[[20,["fieldLabel"]],[20,["hint"]],[20,["isRequired"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onchange"],null],[25,"action",[[19,0,[]],"oninput"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isSelectField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","select-field"]],[20,["field","fieldName"]]],[["placeholder","hint","isRequired","options","optionLabelPath","optionValuePath","dropdownClass","isFreddySuggestion","botSuggestion","beforeOptionsComponent","hideDefaultOption","disabled","onchange"],[[20,["fieldLabel"]],[20,["hint"]],[20,["isRequired"]],[20,["fieldDropdownChoices"]],[20,["optionLabelPath"]],[20,["optionValuePath"]],[20,["dropdownClass"]],[20,["isFreddySuggestion"]],[20,["botSuggestion"]],[25,"if",[[20,["isFreddySuggestion"]],[25,"component",["module-tickets/shared/freddy-suggestion/property"],[["ticket","botSuggestion"],[[20,["model"]],[20,["botSuggestion"]]]]],null],null],[20,["hideDefaultOption"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isTextareaField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","textarea-field"]],[20,["field","fieldName"]]],[["label","hint","autoresize","rows","max-rows","isRequired","refresh","disabled","oninput","onchange"],[[20,["fieldLabel"]],[20,["hint"]],true,2,10,[20,["isRequired"]],[20,["refresh"]],[20,["disabled"]],[25,"action",[[19,0,[]],"oninput"],null],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isNestedField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","nested-field"]],[20,["field","fieldName"]]],[["placeholder","hint","field","options","hideDefaultOption","optionLabelPath","optionValuePath","isRequired","disabled","subCategoryDisabled","itemDisabled","refresh","nestedFieldUpdated","onchange"],[[20,["fieldLabel"]],[20,["hint"]],[20,["field"]],[20,["fieldDropdownChoices"]],[20,["field","hideDefaultOption"]],"label",[20,["optionValuePath"]],[20,["isRequired"]],[20,["disabled"]],[20,["subCategoryDisabled"]],[20,["itemDisabled"]],[20,["refresh"]],[20,["nestedFieldUpdated"]],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isNumberField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","number-field"]],[20,["field","fieldName"]]],[["label","hint","isRequired","disabled","oninput","onchange"],[[20,["fieldLabel"]],[20,["hint"]],[20,["isRequired"]],[20,["disabled"]],[25,"action",[[19,0,[]],"oninput"],null],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isCheckboxField"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","checkbox-field"]],[20,["field","fieldName"]]],[["label","hint","isRequired","disabled","onchange"],[[20,["fieldLabel"]],[20,["hint"]],[20,["isRequired"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"or",[[20,["isDateField"]],[20,["isDateTimeField"]]],null]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","date-field"]],[20,["field","fieldName"]],[20,["isDateTimeField"]]],[["label","minDate","hint","isRequired","dropdownClass","disabled","onchange"],[[20,["fieldLabel"]],[20,["field","minDate"]],[20,["hint"]],[20,["isRequired"]],[20,["dropdownClass"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onchange"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isEncryptedText"]]],null,{"statements":[[0,"    "],[1,[25,"component",[[20,["form","encrypted-text"]],[20,["field","fieldName"]]],[["label","hint","isRequired","disabled","onchange","oninput"],[[20,["fieldLabel"]],[20,["hint"]],[20,["isRequired"]],[20,["disabled"]],[25,"action",[[19,0,[]],"onchange"],null],[25,"action",[[19,0,[]],"oninput"],null]]]],false],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-form/ticket-field/template.hbs"}})});
define("freshdesk/components/module-tickets/ticket-template/component",["exports","ember-local-storage"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend({store:Ember.inject.service(),templateApplied:!1,hasChild:!1,selectedTemplate:"",selectedName:"",classNames:["ticket_template_wrapper","clearfix","__module-tickets__ticket-template"],ticketTemplates:(0,t.storageFor)("ticket-templates"),showRecentlyUsed:Ember.computed.not("templateApplied"),isTemplatesEmpty:Ember.computed.empty("templates"),recentlyUsedTemplates:Ember.computed("ticketTemplates.content","templateApplied",function(){return Ember.get(this,"ticketTemplates.content").slice(-4)}),hasCreateAccess:Ember.computed(function(){return Ember.get(this,"currentUser").hasAbility("view_admin")}),init:function(){this._super.apply(this,arguments),this.templateList={},this.childTemplates=[],this.appliedTemplatedata=[],this.childIds=[]},actions:{childToggle:function(e,t){var i=Ember.get(this,"childIds"),s=[],a=Ember.get(this,"appliedTemplatedata");t.target.checked?(s=i.childTemplateIds.concat(e),t.target.removeAttribute("checked")):(s=i.childTemplateIds.filter(function(t){return t!==e}),t.target.setAttribute("checked","checked")),Ember.set(this,"childIds",{childTemplateIds:s}),Ember.set(this,"appliedTemplatedata",Ember.assign(a,Ember.get(this,"childIds"))),this.updateChildTemplates(s)},handleKeydown:function(e,t){if(13!=t.keyCode){var i=t.target.value;if(i.length>3&&-1!==Ember.get(this,"options").mapBy("name").indexOf(i)){var s=Ember.get(this,"selectedName");Ember.set(this,"selectedName",s.concat([i]))}}},chooseTemplate:function(e){Ember.set(this,"templateApplied",!0),Ember.set(this,"hasChild",!1),Ember.set(this,"selectedName",e),e.content&&e.content.child_templates&&this.childTemplateactions(e.content),this.templateInfo(e.id).then(this.handleFindTemplateResponse.bind(this,e))},clear:function(){Ember.set(this,"templateApplied",!1),Ember.set(this,"hasChild",!1),Ember.set(this,"selectedName",[]),Ember.get(this,"clearTemplate")()}},templateInfo:function(e){return Ember.RSVP.hash({appliedTemplate:Ember.get(this,"store").findRecord("ticket-template",e,{reload:!0,include:"attachments"})})},showChild:function(e){Ember.set(this,"hasChild",!0),Ember.set(this,"childTemplates",e)},childTemplateactions:function(e){this.showChild(e.child_templates),Ember.set(this,"childIds",{child_template_ids:e.child_templates.mapBy("id")}),Ember.set(this,"appliedTemplatedata",Ember.assign(Ember.get(this,"appliedTemplatedata"),Ember.get(this,"childIds")))},handleFindTemplateResponse:function(e,t){var i=t.appliedTemplate,s=parseInt(e.id),a=!1;2===Ember.get(i,"assocType")&&(this.newChildTemplateActions(i),Ember.assign(i,{parentTemplateId:s})),Ember.set(this,"appliedTemplatedata",i),this.applyTemplate(Ember.get(this,"appliedTemplatedata"));var l=Ember.assign(e,{content:i});Ember.get(this,"ticketTemplates.content").forEach(function(t){t.id==e.id&&(a=!0)}),1!=a&&Ember.get(this,"ticketTemplates").pushObject(l)},newChildTemplateActions:function(e){var t=Ember.get(e,"childTemplates");this.showChild(t);var i=t.map(function(e){return e.id});Ember.assign(e,{childTemplateIds:i}),Ember.set(this,"childIds",{childTemplateIds:i}),Ember.set(this,"appliedTemplatedata.childTemplateIds",i)}})});
define("freshdesk/components/module-tickets/ticket-template/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"niNTn0dZ",block:'{"symbols":["childtemplate","template","options"],"statements":[[6,"div"],[9,"class","template_widget"],[9,"data-test-id","template-widget"],[7],[0,"\\n"],[4,"if",[[20,["templateApplied"]]],null,{"statements":[[0,"    "],[6,"a"],[9,"class","make_inline vmid clearlink"],[9,"data-test-id","clear-template"],[10,"onclick",[25,"action",[[19,0,[]],"clear"],null],null],[7],[1,[25,"t",["ticket.template.clear"],null],false],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isTemplatesEmpty"]]],null,{"statements":[[0,"    "],[6,"p"],[9,"data-test-id","template-description"],[7],[0,"\\n"],[4,"if",[[20,["hasCreateAccess"]]],null,{"statements":[[0,"        "],[1,[25,"t",["ticket.template.description_admin"],null],false],[0,"\\n        "],[6,"a"],[9,"href","/a/ticket_templates/new"],[9,"data-test-id","create-template-link"],[7],[1,[25,"t",["ticket.template.create_one"],null],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[25,"t",["ticket.template.description_agent"],null],false],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"\\n    "],[6,"div"],[9,"id","powerselect_holder"],[9,"class","powerselect_holder"],[9,"data-test-id","templates-list"],[7],[0,"\\n\\n"],[4,"ui-form/select-field",null,[["class","options","selected","searchField","placeholder","searchPlaceholder","onchange","noMatchesMessage","onkeydown","data-test-id"],["power-select ticket_template_powerselect",[20,["templates"]],[20,["selectedName"]],"name",[25,"t",["ticket.template.select.placeholder"],null],[25,"t",["ticket.template.search.placeholder"],null],[25,"action",[[19,0,[]],"chooseTemplate"],null],[25,"t",["ticket.template.noresult"],null],[25,"action",[[19,0,[]],"handleKeydown"],null],"ticket-templates"]],{"statements":[[4,"if",[[25,"eq",[[19,3,["assoc_type"]],2],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["parent-child"],[["class"],["app-icon app-icon--small"]]],false],[8],[0," "],[1,[19,3,["name"]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,3,["assoc_type"]],1],null]],null,{"statements":[[0,"          "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["template"],[["class"],["app-icon app-icon--small"]]],false],[8],[0," "],[1,[19,3,["name"]],false],[0,"\\n        "]],"parameters":[]},null]],"parameters":[]}],[0,"\\n\\n"]],"parameters":[3]},null],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[20,["showRecentlyUsed"]]],null,{"statements":[[4,"if",[[25,"gt",[[20,["recentlyUsedTemplates","length"]],0],null]],null,{"statements":[[0,"      "],[6,"h5"],[7],[0,"\\n        "],[1,[25,"t",["ticket.template.recentlyused.template"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[6,"ul"],[9,"class","reverse_list recent_templates"],[9,"data-test-id","recently-used-templates"],[7],[0,"\\n"],[4,"each",[[25,"reverse",[[20,["recentlyUsedTemplates"]]],null]],null,{"statements":[[0,"        "],[6,"li"],[9,"class","recent-item"],[7],[0,"\\n          "],[6,"a"],[9,"class","recent-item-link"],[9,"role","button"],[10,"onclick",[25,"action",[[19,0,[]],"chooseTemplate",[19,2,[]]],null],null],[10,"data-test-template-name",[19,2,["name"]],null],[7],[0,"\\n"],[4,"if",[[25,"eq",[[19,2,["assoc_type"]],2],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["parent-child"],[["class"],["app-icon app-icon--small"]]],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,2,["assoc_type"]],1],null]],null,{"statements":[[0,"              "],[6,"span"],[9,"class","template_list_icon"],[7],[1,[25,"svg-jar",["template"],[["class"],["app-icon app-icon--small"]]],false],[8],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}],[0,"            "],[1,[19,2,["name"]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[2]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["hasChild"]]],null,{"statements":[[0,"    "],[6,"ul"],[9,"class","child_templates"],[7],[0,"\\n"],[4,"each",[[20,["childTemplates"]]],null,{"statements":[[0,"        "],[6,"li"],[7],[0,"\\n          "],[6,"a"],[10,"onclick",[25,"action",[[19,0,[]],"childToggle",[19,1,["id"]]],null],null],[10,"data-test-child-template",[19,1,["name"]],null],[7],[0,"\\n            "],[6,"input"],[9,"type","checkbox"],[9,"checked","checked"],[7],[8],[1,[19,1,["name"]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/ticket-template/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/archive-export/component",["exports","freshdesk/utils/tickets/ticket-filter-query"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({account:Ember.inject.service("currentAccount"),classNames:["__module-tickets__tickets-list__archive-export"],query:null,hideTitle:!0,modalVisible:!1,selectedFilters:null,exportData:Ember.computed("query",function(){var e=Ember.get(this,"account.fullDomain"),s=Ember.get(this,"selectedFilters").find(function(e){return"created_at"==e.condition});return s=t.default.getDates(s),{query:Ember.get(this,"query"),exportName:Ember.get(this,"i18n").t("tickets.archiveExportName",{fromDate:s.fromDate,toDate:s.toDate,domain:e})}}),actions:{itemChanged:function(e){Ember.set(this,"selectedFilters",e)},showExportModal:function(){Ember.get(this,"selectedFilters")||Ember.set(this,"selectedFilters",Ember.get(this,"selectedValues.queryHash"));var e=t.default.parseFilters(Ember.get(this,"selectedFilters"));Ember.set(this,"query",e),Ember.set(this,"modalVisible",!0)}}})});
define("freshdesk/components/module-tickets/tickets-list/archive-export/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"DMMfmXUW",block:'{"symbols":["wrapper"],"statements":[[0,"\\n"],[4,"page-layout/page-wrapper",null,[["id"],["archive-ticket-export"]],{"statements":[[0,"\\n"],[4,"component",[[19,1,["content"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","archive-ticket-export__form responsive-form-container"],[7],[0,"\\n      "],[6,"div"],[9,"class","sidebar__title text--semibold"],[7],[0,"\\n        "],[1,[25,"t",["filter.archivedTitle"],null],false],[0,"\\n      "],[8],[0,"\\n      "],[6,"br"],[7],[8],[0,"\\n      "],[1,[25,"app-components/filter-list",null,[["isArchiveExport","filterDefaults","hideTitle","readonlyStatusShow","fieldsList","defaultFilterFields","data-test-div","selectedValues","isFilterSearchEnabled","performFilteringOnChange","containerSelector","itemChanged","class"],[[20,["isArchiveExport"]],[20,["filterDefaults"]],[20,["hideTitle"]],true,[20,["fieldsList"]],[20,["defaultFilterFields"]],"ticket-filter-section",[20,["selectedValues"]],[20,["isFilterSearchEnabled"]],true,".filter-items-container",[25,"action",[[19,0,[]],"itemChanged"],null],"scroll-wrap__right"]]],false],[0,"\\n\\n      "],[6,"div"],[9,"class","archive-ticket-export__button"],[7],[0,"\\n        "],[6,"button"],[9,"data-test-id","archive-next-btn"],[9,"class","btn btn--primary"],[3,"action",[[19,0,[]],"showExportModal"]],[7],[0,"\\n          "],[1,[25,"t",["fd.next"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n\\n"],[4,"if",[[20,["modalVisible"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","closeOnEscapse"],[[25,"toggle-action",["modalVisible",[19,0,[]]],null],true,true]],{"statements":[[0,"          "],[6,"div"],[9,"class","ticket-content"],[7],[0,"\\n\\n            "],[1,[25,"module-tickets/tickets-list/tickets-export",null,[["data","isArchiveExport","hideTicketFilterBy","archivedExportTitle","archiveExportAction","close"],[[20,["exportData"]],[20,["isArchiveExport"]],true,true,true,[25,"toggle-action",["modalVisible",[19,0,[]]],null]]]],false],[0,"\\n\\n          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"component",[[19,1,["sidebar"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","archive-ticket-export__sidebar"],[7],[0,"\\n      "],[6,"img"],[9,"src","https://fassetsblue.freshdesk.com/production/a/assets/images/archive-folder-4a2366f0bbb1605faacc6877502883c4.svg"],[10,"alt",[25,"t",["filter.archive-icon"],null],null],[9,"class","archive-icon app-icon icon-size-large"],[7],[8],[0,"\\n      "],[6,"div"],[7],[0,"\\n        "],[6,"p"],[9,"class","text__infotext"],[7],[0,"\\n          "],[1,[25,"t",["ticket.archive_list.help_text"],null],false],[0,"\\n          "],[6,"a"],[9,"class","helparticle text__link"],[9,"href","https://support.freshdesk.com/support/solutions/articles/212901-ticket-archiving"],[9,"target","_blank"],[9,"rel","noopener"],[7],[0,"\\n            "],[1,[25,"t",["fd.learn_more"],null],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/archive-export/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/auto-refresh/component",["exports","freshdesk/mixins/sockets/auto-refresh"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{autoRefreshData:null,customFieldNames:null,uniqueTicketsCreated:Ember.computed.uniq("ticketsCreated"),uniqueTicketsUpdated:Ember.computed.uniq("ticketsUpdated"),showAutoRefreshNotification:Ember.computed("ticketsCreated.[]","ticketsUpdated.[]",function(){return!Ember.isEmpty(Ember.get(this,"ticketsCreated"))||!Ember.isEmpty(Ember.get(this,"ticketsUpdated"))}),createdTicketLabel:Ember.computed("uniqueTicketsCreated",function(){return Ember.get(this,"i18n").t("tickets.list.new_tickets",{count:Ember.get(this,"uniqueTicketsCreated").length})}),updatedTicketLabel:Ember.computed("uniqueTicketsUpdated",function(){return Ember.get(this,"i18n").t("tickets.list.updates",{count:Ember.get(this,"uniqueTicketsUpdated").length})}),didUpdateAttrs:function(){this._super.apply(this,arguments),this.resetAutoRefresh()},init:function(){this._super.apply(this,arguments),Ember.get(this,"currentAccount").hasFeature("auto_refresh")&&this.initializeAutoRefreshSocket()},willDestroyElement:function(){this._super.apply(this,arguments),this.closeAutoRefreshSocket(),this.resetAutoRefresh()},actions:{refreshTicketList:function(){this.resetAutoRefresh(),Ember.get(this,"onAutoRefreshReload")()}},resetAutoRefresh:function(){Ember.get(this,"refreshTicketContent")(),Ember.get(this,"ticketsUpdated").clear(),Ember.get(this,"ticketsCreated").clear()}})});
define("freshdesk/components/module-tickets/tickets-list/auto-refresh/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"1zDbvEix",block:'{"symbols":[],"statements":[[4,"ui-components/refresh-notification",null,[["showNotification","notificationButtonClicked"],[[20,["showAutoRefreshNotification"]],[25,"action",[[19,0,[]],"refreshTicketList"],null]]],{"statements":[[4,"if",[[20,["uniqueTicketsCreated","length"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"class","refresh-notification__container__count"],[7],[1,[20,["uniqueTicketsCreated","length"]],false],[8],[0,"\\n    "],[6,"span"],[9,"class","refresh-notification__container__label"],[7],[0," "],[1,[18,"createdTicketLabel"],false],[0," "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["uniqueTicketsUpdated","length"]]],null,{"statements":[[0,"    "],[6,"span"],[9,"class","refresh-notification__container__count"],[7],[1,[20,["uniqueTicketsUpdated","length"]],false],[8],[0,"\\n    "],[6,"span"],[9,"class","refresh-notification__container__label"],[7],[0," "],[1,[18,"updatedTicketLabel"],false],[0," "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/auto-refresh/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/component",["exports","freshdesk/constants/ticket","freshdesk/mixins/tickets/ticket-special-filters","freshdesk/mixins/filter-list/ticket-filter-init","freshdesk/mixins/tickets/block-requesters","freshdesk/utils/clear-flash-set","freshdesk/constants/flash-messages","freshdesk/mixins/filter-list/list-view-states","freshdesk/mixins/tickets/ticket-table","freshdesk/mixins/tickets/close-validation","freshdesk/helpers/html-escape","ember-local-storage","freshdesk/mixins/shortcuts/ticket-list/ticket-list","freshdesk/mixins/tickets/ticket-association-feature"],function(e,t,s,i,n,c,r,o,a,u,l,k,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(h.default,a.default,o.default,s.default,i.default,n.default,d.default,u.default,{ticketBulkAction:Ember.inject.service(),showConfirmDialog:!1,toggleFilters:!0,displayDeleteTickets:!1,spamTrashDialog:!1,isSelectAll:null,currentRecord:"",showExport:!1,currentIndex:0,bulkCloseActionPerformed:!1,ticketCloseFailed:!1,interfaceCache:(0,k.storageFor)("tickets-list/interface"),listContent:Ember.computed.reads("tickets"),listRows:Ember.computed.reads("ticketTable.rows"),showBulkTicketUpdate:Ember.computed.reads("ticketBulkAction.showBulkTicketUpdate"),hasListContent:Ember.computed.bool("listContent.length"),showTable:Ember.computed.bool("tickets"),emptyingOnBackground:Ember.computed.reads("meta.emptying_on_background"),recordsSelected:Ember.computed("ticketBulkAction.associatedTicketsAction","selectedRecords","selectedAssocRecords",function(){return Ember.get(this,"ticketBulkAction.associatedTicketsAction")?Ember.get(this,"selectedAssocRecords"):Ember.get(this,"selectedRecords")}),selectedAssocRecords:Ember.computed("ticketBulkAction.assocPermissibeTickets.@each.checkbox",function(){return Ember.get(this,"ticketBulkAction.assocPermissibeTickets").filterBy("checkbox",!0)}),currentRow:Ember.computed("currentIndex",function(){var e=Ember.get(this,"currentIndex");return Ember.get(this,"listRows").objectAt(e)}),exportData:Ember.computed("currentFilter.queryHash",function(){var e=Ember.get(this,"currentFilter.queryHash");return{reference:"exportTickets",viewName:Ember.get(this,"queryParams.filter"),ticketFilters:e}}),emptySpamTrashText:Ember.computed("queryParams.filter",function(){var e="deleted"==Ember.get(this,"queryParams.filter")?"Trash":"Spam";return{info:"tickets.info.empty"+e,link:"tickets.empty"+e}}),actions:{toggleBulkTicketUpdate:function(){Ember.set(this,"ticketBulkAction.associatedTicketsAction",!1),Ember.get(this,"ticketBulkAction").toggleBulkAction()},bulkUpdateTickets:function(e){var t=this;return this.bulkAction("bulkUpdate",e).then(function(e){return t._bulkSuccessMessage("tickets.bulkactions.bulkupdate.success",e)}).catch(function(e){return t._bulkFailureMessage("tickets.bulkactions.bulkupdate.fail",e)})},executeScenario:function(e){var t=this,s=Ember.String.htmlSafe("<b>"+(0,l.htmlEscape)([Ember.get(e,"name")])+"</b>"),i={scenario_id:parseInt(Ember.get(e,"id"))};return Ember.get(e,"actions").forEach(function(e){"status"===e.name&&t._closedStatus(e.value)&&Ember.set(t,"bulkCloseActionPerformed",!0)}),this.bulkAction("bulkScenarios",i).then(function(e){return t._bulkSuccessMessage("tickets.bulkactions.executescenario.success",e,{scenarioName:s})}).catch(function(e){return t._bulkFailureMessage("tickets.bulkactions.executescenario.fail",e)})},restoreTickets:function(){var e=this;return this.bulkAction("bulkRestore").then(function(){return e._successMessage("tickets.bulkactions.restoretickets.success")}).catch(function(t){return e._bulkFailureMessage("tickets.bulkactions.restoretickets.fail",t)})},resolveTickets:function(e){if(Ember.get(this,"parentTicketsSelectedCount")){Ember.set(this,"actionTriggered","bulk_close"),Ember.set(this,"showConfirmDialog",!0);var t=e.shiftKey||!1;Ember.set(this,"silentClose",t)}else this._resolveTickets(e)},assignAgents:function(e){var t=this,s=-1===e.id,i=s?this.currentUser:e,n=parseInt(Ember.get(i,"id")),c=""+Ember.get(i,"contact.name"),r={properties:{responder_id:n}};return this.bulkAction("bulkUpdate",r).then(function(e){return t._bulkSuccessMessage("tickets.bulkactions.assignagents.success",e,{agentName:c})}).catch(function(e){return t._bulkFailureMessage("tickets.bulkactions.assignagents.fail",e)})},ticketNotSpam:function(){var e=this;return this.bulkAction("bulkUnspam").then(function(){return e._successMessage("tickets.bulkactions.ticketnotspam.success")}).catch(function(t){return e._bulkFailureMessage("tickets.bulkactions.ticketnotspam.fail",t)})},bulkUnwatch:function(){var e=this;return this.bulkAction("bulkUnwatch").then(function(){return e._successMessage("tickets.bulkactions.bulkunwatch.success")}).catch(function(t){return e._bulkFailureMessage("tickets.bulkactions.bulkunwatch.fail",t)})},deleteForever:function(){var e=this;return this.bulkAction("deleteForever").then(function(t){return e._bulkSuccessMessage("tickets.bulkactions.deleteforever.success",t)}).catch(function(t){return e._bulkFailureMessage("tickets.bulkactions.deleteforever.fail",t)})},toggleOverlay:function(){Ember.get(this,"parentTicketsSelectedCount")?(Ember.set(this,"actionTriggered","scenario"),Ember.set(this,"showConfirmDialog",!0)):this.toggleProperty("showScenarios")},deleteTickets:function(){Ember.set(this,"actionTriggered","delete"),Ember.set(this,"showConfirmDialog",!0)},undoBulkTicketDelete:function(e){var t=e.map(function(e){return parseInt(Ember.get(e,"id"))}),s=e.length;Ember.get(e,"firstObject.content").bulkRestore({ids:t}).then(this._undoBulkTicketDeleteSuccessCB.bind(this,t,s),this._undoBulkTicketActionFailureCB.bind(this,"tickets.bulkactions.undodelete.fail",s))},mergeTickets:function(){this.isAssociatedTicketsWarning("merge")||this._mergeTickets()},markasspam:function(){this.isAssociatedTicketsWarning("spam")||this._spamTickets()},undoBulkMarkAsSpam:function(e){var t=e.length,s=e.map(function(e){return parseInt(e.content.id)});Ember.get(e,"firstObject.content").bulkUnspam({ids:s}).then(this._undoBulkMarkAsSpamSuccessCB.bind(this,e,t),this._undoBulkTicketActionFailureCB.bind(this,"tickets.bulkactions.undospam.fail",t))},emptySpamOrTrash:function(){var e=this,t=Ember.get(this,"listContent.firstObject"),s=Ember.get(this,"queryParams.filter"),i="tickets.bulkactions.empty"+s+".fail";("spam"===s?t.emptySpam():t.emptyTrash()).then(function(){e.toggleProperty("spamTrashDialog"),e.resetPage()}).catch(function(){return e._failureMessage(i)})},closeOverlay:function(){Ember.set(this,"showExport",!1)},outSideClick:function(){},exportTickets:function(){Ember.set(this,"showExport",!0)},tableCurrentIndex:function(e){Ember.set(this,"currentIndex",e)},resetRefreshOnListContent:function(){var e=Ember.get(this,"listContent");Ember.isArray(e)&&Ember.get(this,"listContent").forEach(function(e){Ember.set(e,"needsRefresh",!1)})},setRefreshOnListContent:function(e){var t=Ember.get(this,"listContent").find(function(t){return t.id===e.display_id.toString()});return Ember.get(t,"quickActionPerformed")?(Ember.set(t,"quickActionPerformed",!1),!1):(Ember.set(t,"needsRefresh",!0),!0)},onAutoRefreshReload:function(){this.resetPage()},onClose:function(e){"showBulkTicketUpdate"==e?Ember.setProperties(this,{"ticketBulkAction.showBulkTicketUpdate":!1,"ticketBulkAction.broadcastMessage":!1}):Ember.set(this,e,!1),Ember.get(this,"ticketCloseFailed")&&Ember.get(this,"selectedRecordsCount")!=Ember.get(this,"totalRecords")&&this.resetPage()}},willDestroy:function(){this._super.apply(this,arguments),Ember.set(this,"tickets",null),Ember.set(this,"meta",null)},bulkAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Ember.get(this,"ticketBulkAction.associatedTicketsAction")?Ember.get(this,"ticketBulkAction.selectedAssocTicketIds"):Ember.get(this,"selectedRecordIds"),i=Ember.get(this,"listContent.firstObject"),n=i[e].bind(i),c=t.properties,r=Ember.assign({ids:s},t);return"bulkUpdate"===e&&c&&this._closedStatus(c.status)&&Ember.set(this,"bulkCloseActionPerformed",!0),Ember.set(this,"isBulkOperationPending",!0),n(r).then(this._bulkActionSuccess.bind(this)).catch(this._bulkActionFailure.bind(this))},_deleteTickets:function(){var e=this,t=Ember.get(this,"selectedRecords"),s=t.length;return this.bulkAction("bulkDelete").then(function(){return e.handleDeleteSpamResponse("deletetickets","bulkDeleteTicket",t)}).catch(function(){return e._failureMessage("tickets.bulkactions.deletetickets.fail",{count:s})})},_spamTickets:function(){var e=this,t=Ember.get(this,"selectedRecords"),s=t.length;return this.bulkAction("bulkSpam").then(function(){return e._spamTicketsSuccess(t)}).catch(function(){return e._failureMessage("tickets.bulkactions.markasspam.fail",{count:s})})},_spamTicketsSuccess:function(e){var t=this;this.handleDeleteSpamResponse("markasspam","bulkSpamTicket",e),Ember.run.later(function(){return t.showBlockUsersFlash(e)},r.default.timeUntilSuccessiveFlash)},handleDeleteSpamResponse:function(e,t,s){var i=s.length;this.resetPage(),(0,c.default)(this,t);var n=this.i18n.t("tickets.bulkactions."+e+".success",{count:i});Ember.get(this,"flashMessages").add({message:n,type:"warning",setName:t,componentName:"ui-components/flash-with-link",content:{context:this,performAction:"markasspam"===e?this.actions.undoBulkMarkAsSpam:this.actions.undoBulkTicketDelete,data:s,linkText:"flashmessage.undo"}})},_mergeTickets:function(){var e=this,t=Ember.get(this,"selectedRecords").map(function(e){return Ember.get(e,"content")}),s={options:{template:"module-tickets/shared/tickets-merge",closeOnEscapse:!0,showModalClose:!0},data:{reference:"merge",tickets:t,updateToggleFn:function(){Ember.set(e,"isBulkOperationPending",!0),e.resetPage()}}};this.overlay.open(s)},_resolveTickets:function(e){var s=this,i=void 0;i=e?e.shiftKey||!1:Ember.get(this,"silentClose");var n={properties:{status:t.default.status.closed,skip_close_notification:i}};return this.bulkAction("bulkUpdate",n).then(function(e){return s._bulkSuccessMessage("tickets.bulkactions.resolvetickets.success",e,{validationDialog:!0})}).catch(function(e){return s._bulkFailureMessage("tickets.bulkactions.resolvetickets.fail",e,{validationDialog:!0})})},_undoBulkTicketDeleteSuccessCB:function(e,t){var s=Ember.get(e,"firstObject"),i=Ember.get(this,"router").generate("helpdesk.tickets.show",s),n=this.i18n.t("tickets.bulkactions.undodelete.success",{count:t,ticketLink:i,ticketID:s});Ember.get(this,"flashMessages").add({type:"success",message:n,timeout:r.default.shorterTimeout}),this.sendAction("reloadPage")},_undoBulkTicketActionFailureCB:function(e,t){var s=this.i18n.t(e,{count:t});Ember.get(this,"flashMessages").danger(s)},_undoBulkMarkAsSpamSuccessCB:function(e,t){var s=Ember.get(e,"firstObject.content").id,i=Ember.get(this,"router").generate("helpdesk.tickets.show",s),n=this.i18n.t("tickets.bulkactions.undodelete.success",{count:t,ticketLink:i,ticketID:s});Ember.get(this,"flashMessages").add({type:"success",message:n,timeout:r.default.shorterTimeout}),this.sendAction("reloadPage")},_bulkActionSuccess:function(e){var t=this;return this._ticketCloseFailed(e)?(e.ticketCloseFailed=!0,e):(Ember.run.later(function(){return t.resetPage()},2e3),e)},_bulkActionFailure:function(e){return this._ticketCloseFailed(e)?(e.ticketCloseFailed=!0,e):(this.failureReset(),e)},_bulkSuccessMessage:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._showValidationDialog(s))return t;var i=this._extractBulkSuccessMessage(t),n=Ember.assign({count:i},s);return this._successMessage(e,n),t},_bulkFailureMessage:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._showValidationDialog(s))return t;var i=Ember.get(this,"selectedRecords"),n=i.length,c=Ember.assign({count:n},{});this._failureMessage(e,c)},_successMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.i18n.t(e,t);this.flashMessages.success(s)},_failureMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.i18n.t(e,t);this.flashMessages.danger(s)},_extractBulkSuccessMessage:function(e){return e.data.succeeded.length},_extractBulkFailureMessage:function(e){return e.data.failed.length},resetPage:function(){Ember.get(this,"ticketTable.rows").setEach("isSelected",!1),this.sendAction("reloadPage")},failureReset:function(){Ember.set(this,"isBulkOperationPending",!1)}})});
define("freshdesk/components/module-tickets/tickets-list/fetch-filter-option/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({})});
define("freshdesk/components/module-tickets/tickets-list/fetch-filter-option/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"zwxrTpXp",block:'{"symbols":[],"statements":[[6,"div"],[7],[1,[20,["option","label"]],false],[8],[0,"\\n"],[6,"div"],[7],[1,[20,["option","email"]],false],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/fetch-filter-option/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/quick-reply/component",["exports","freshdesk/mixins/tickets/ticket-conversation-send","freshdesk/mixins/tickets/can-send-reply","freshdesk/constants/ticket","freshdesk/mixins/slash-commands/remove-slash","freshdesk/mixins/tickets/wrap-email-notification-font"],function(t,e,s,i,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend(e.default,s.default,n.default,a.default,{store:Ember.inject.service(),draft:Ember.inject.service(),classNames:["__module-tickets__tickets-list__quick-reply"],lastConversation:null,isRequesterNote:Ember.computed.not("lastConversation.user.isAgent"),actionType:Ember.computed.reads("data.actionType"),ticket:Ember.computed.reads("data.ticket"),updateHoverCard:Ember.computed.reads("data.updateLastConversation"),endpoint:Ember.computed.reads("actionType"),init:function(){var t=Ember.get(this,"store"),e={};this._super.apply(this,arguments),this._setLastConversation(),Ember.get(this,"actionType")==i.default.action.reply&&(Ember.set(e,"ticketDraft",Ember.get(this,"ticketDraft")),Ember.set(e,"agentReplyTemplate",Ember.get(this,"agentReplyTemplate"))),Ember.get(this,"lastConversation")||Ember.set(e,"ticket",t.findRecord("ticket",Ember.get(this,"ticket.id"))),Ember.isEmpty(e)?this.sendAction("modalLoaded"):Ember.RSVP.hash(e).then(this._handleTicketDetailResponse.bind(this))},actions:{sendConversation:function(t){return this._removeAtWhoContainer(t),this._wrapEmailNotificationFont(t),this.saveConversation(t)},showAction:function(t,e){Ember.set(this,"actionType",t.camelize());var s={eventName:t,eventParams:{type:e}};this.events.publish(t,s)},hideAction:function(){this.sendAction("close")},discardConversation:function(){var t=Ember.get(this,"hasDraft");"reply"===Ember.get(this,"actionType")&&t?Ember.get(this,"draft").discardDraft(Ember.get(this,"ticket")).catch(this._deleteDraftFailureCB.bind(this)).finally(this._deleteDraftFinally.bind(this)):this.sendAction("close")}},_handleTicketDetailResponse:function(t){this._setDraftSuccessCB(t.ticketDraft),this._setTicketDetails(t.ticket),this.sendAction("modalLoaded")},_setLastConversation:function(){var t=Ember.get(this,"store"),e=Ember.get(this,"ticket"),s=t.peekRecord("conversation",Ember.get(e,"lastConversationId"));s&&Ember.set(this,"lastConversation",s)},_setTicketDetails:function(t){t&&t.data&&Ember.get(this,"store").pushPayload("ticket",t.data)},_setDraftSuccessCB:function(t){t&&t.body&&(Ember.isEmpty(t.inline_attachment_ids)||Ember.set(this,"model.inlineAttachmentIds",t.inline_attachment_ids),Ember.set(this,"hasDraft",!0))},_pushConversationsToStore:function(t){return Ember.get(this,"store").pushPayload(t),t},_submitTicketSuccess:function(t,e){this._pushConversationsToStore(t),Ember.set(this,"hasDraft",!1),Ember.get(this,"updateHoverCard")(),Ember.get(this,"ticket").incrementCounter();var s=this._getConversationSuccessMessage(e);Ember.get(this,"flashMessages").success(s),this.sendAction("close")},_fetchLastConversation:function(){var t=Ember.get(this,"ticket");Ember.RSVP.hash({latestNote:t.latestNote(),ticketDraft:Ember.get(this,"ticketDraft")}).then(this._handleFetchConversationResponse.bind(this))},_handleFetchConversationResponse:function(t){this._handleLatestNote(t.latestNote),this._setDraftSuccessCB(t.ticketDraft),this.sendAction("modalLoaded")},_handleLatestNote:function(t){Ember.get(this,"isDestroyed")||Ember.get(this,"isDestroying")||t&&t.conversation&&(Ember.get(this,"store").pushPayload(t),this._setLastConversation())},_getConversationSuccessMessage:function(t){switch(t){case"reply":return Ember.get(this,"i18n").t("tickets.reply.successmessage");case"notes":return Ember.get(this,"i18n").t("tickets.note.successmessage")}},_submitTicketFailure:function(t){t.errors.any(this.isSignalRed)?(this.send("showError","trafficCop"),this.sendAction("modalLoading"),this._fetchLastConversation()):(Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("ticket.details.submitfailure")),this.sendAction("close"))}})});
define("freshdesk/components/module-tickets/tickets-list/quick-reply/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"2HT21bdw",block:'{"symbols":["error"],"statements":[[6,"div"],[9,"class","quick-reply__last-note"],[9,"data-test-modal","quick-reply-modal"],[7],[0,"\\n  "],[6,"div"],[9,"class","modal-header"],[7],[0,"\\n    "],[6,"h4"],[9,"class","modal-title text--xlarge"],[9,"data-test-modal-title","quick-response"],[7],[0,"\\n      "],[1,[25,"svg-jar",["quick-response"],[["class"],["modal-icons"]]],false],[0,"\\n      "],[1,[25,"t",["ticket.quick_glance"],null],false],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n"],[4,"if",[[20,["lastConversation"]]],null,{"statements":[[0,"    "],[6,"div"],[10,"class",[25,"if",[[20,["isRequesterNote"]],"requester-note"],null],null],[7],[0,"\\n      "],[1,[25,"module-tickets/ticket-details/conversation",null,[["conversation","isInActivity","ticket","quickReply"],[[20,["lastConversation"]],false,[20,["ticketRecord"]],true]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"module-tickets/ticket-details/description",null,[["ticket","quickReply"],[[20,["ticket"]],true]]],false],[0,"\\n"]],"parameters":[]}],[8],[0,"\\n\\n"],[6,"div"],[9,"class","quick-reply__editor"],[7],[0,"\\n"],[4,"if",[[20,["ticketActionError","length"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","ticket-action-errors"],[9,"data-test-div","quick-reply-errors"],[7],[0,"\\n      "],[6,"ul"],[9,"class","error-lists"],[7],[0,"\\n"],[4,"each",[[20,["ticketActionError"]]],null,{"statements":[[0,"          "],[6,"li"],[9,"class","error-list"],[7],[0,"\\n            "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n            "],[6,"span"],[7],[1,[25,"t",[[25,"concat",["ticket.action.error.",[19,1,[]]],null]],null],false],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[1,[25,"component",[[20,["renderAction"]]],[["ticket","model","quickReply","changeAction","hideAction","saveDraft","sendConversation","discardConversation","onEditorFocus","onEditorBlur","showError","navAlertFeatureOn"],[[20,["ticket"]],[20,["model"]],true,[25,"action",[[19,0,[]],"showAction"],null],[25,"action",[[19,0,[]],"hideAction"],null],[25,"action",[[19,0,[]],"saveDraft"],null],[25,"action",[[19,0,[]],"sendConversation"],null],[25,"action",[[19,0,[]],"discardConversation"],null],[25,"action",[[19,0,[]],"onEditorFocus"],null],[25,"action",[[19,0,[]],"onEditorBlur"],null],[25,"action",[[19,0,[]],"showError"],null],false]]],false],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/quick-reply/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/shared/close-validation/component",["exports","freshdesk/mixins/tickets/properties"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{store:Ember.inject.service(),ticketFields:Ember.inject.service(),marketplace:Ember.inject.service(),eventSources:Ember.inject.service(),scroller:Ember.inject.service(),classNames:["__module-tickets__tickets-list__shared__close-validation"],tickets:null,updatePromies:null,currentIndex:0,focusOnError:0,refreshProperty:0,dialogClose:!1,ticketsCount:Ember.computed.reads("ticketsList.length"),ticketExists:Ember.computed.notEmpty("ticket"),ticketsList:Ember.computed("tickets",function(){var e=Ember.get(this,"tickets");if(Ember.isArray(e)||(e=Ember.isNone(e)?[]:[e],Ember.set(this,"dialogClose",!0)),e.length>0){var t=Ember.get(this,"currentIndex");return t%e.length===t&&this.incrementProperty("refreshProperty"),Ember.get(this,"isAssocticketsAction")?e:e.map(function(e){return e.content})}this.onclose()}),ticket:Ember.computed("currentIndex","refreshProperty",function(){var e=this;Ember.set(this,"refresh",!1);var t=Ember.get(this,"currentIndex"),r=Ember.get(this,"ticketsList"),i=r[t];return Ember.run.next(function(){Ember.set(e,"refresh",!0),e._validateActiveTicket()}),i}),actions:{toggleActiveTicket:function(e){this._changeTicket(e)},updateProperty:function(){return this.updateProperty()}},_changeTicket:function(e){e!=Ember.get(this,"currentIndex")&&(Ember.get(this,"ticket").rollbackAttributes(),Ember.set(this,"currentIndex",e))},_updatePropertyCBTktSaveSuccess:function(){var e=this;Ember.run.next(function(){Ember.get(e,"dialogClose")?e.onclose():Ember.set(e,"updatePromise",null),e._removeFromList()})},_updatePropertyCBTktSaveFailure:function(){},_validateActiveTicket:function(){var e=this;Ember.run.schedule("afterRender",this,function(){var t=Ember.get(e,"ticket");Ember.set(t,"status",Ember.get(e,"assignedStatus")),Ember.set(e,"startTicketValidation",!0),t.validate().then(e.incrementProperty("focusOnError"))})},_removeFromList:function(){this._scrollToNext();var e=Ember.get(this,"tickets");if(Ember.get(this,"isAssocticketsAction")){var t=Ember.isArray(e)?e.findBy("id",Ember.get(this,"ticket.id")):e;Ember.set(t,"checkbox",!1)}else{var r=Ember.isArray(e)?e.findBy("content.id",Ember.get(this,"ticket.id")):e;Ember.set(r,"selected",!1)}},_scrollToNext:function(){var e=Ember.get(this,"ticketsCount"),t=e>1?e-1:e,r=".ticket-list-item-"+Ember.get(this,"currentIndex")%t;Ember.get(this,"scroller").scrollVertical(r,{offset:-150,parent:".ticket-closure"})}})});
define("freshdesk/components/module-tickets/tickets-list/shared/close-validation/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"1+yXWdDd",block:'{"symbols":["item","index","property"],"statements":[[6,"div"],[9,"class","modal-content show ticket-closure"],[9,"data-test-modal","bulk-validation-modal"],[7],[0,"\\n  "],[6,"div"],[9,"class","col-md-6 closure-column"],[7],[0,"\\n    "],[6,"div"],[9,"class","ticket-list"],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-closure-header"],[7],[0,"\\n        "],[6,"h4"],[9,"class","modal-title text--xlarge closure-title"],[7],[1,[25,"svg-jar",["bulk-close"],[["class"],["modal-icons modal-close-icon"]]],false],[0," "],[1,[25,"t",["tickets.list.closeTickets"],null],false],[8],[0,"\\n        "],[6,"div"],[9,"class","text__content close-warning"],[7],[0,"\\n          "],[6,"div"],[9,"class","warning-content"],[7],[1,[25,"html-safe",[[25,"t",["tickets.list.close_tickets"],[["count","total"],[[20,["ticketsCount"]],[20,["totalTickets"]]]]]],null],false],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[9,"class","tickets"],[7],[0,"\\n"],[4,"each",[[20,["ticketsList"]]],null,{"statements":[[0,"          "],[6,"div"],[10,"class",[26,["ticket-list-item container-fluid ticket-list-item-",[19,2,[]]," ",[25,"if",[[25,"eq",[[20,["currentIndex"]],[19,2,[]]],null],"ticket-list-item--selected"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"toggleActiveTicket",[19,2,[]]],null],null],[10,"data-test-div",[26,["ticket-list-item-",[19,2,[]]]]],[9,"data-test-ticket","ticket-list-item"],[7],[0,"\\n            "],[6,"div"],[9,"class","col-md-10 text__content cardlist__item subject"],[7],[0,"\\n              "],[6,"div"],[9,"class","center-align"],[7],[0,"\\n                "],[6,"span"],[9,"class","text__content text--semibold wrap-subject-content"],[7],[0,"\\n                  "],[1,[19,1,["subject"]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"span"],[9,"class","text__content text--gray"],[7],[0,"  #"],[1,[19,1,["id"]],false],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n"],[4,"if",[[25,"eq",[[20,["currentIndex"]],[19,2,[]]],null]],null,{"statements":[[4,"module-tickets/tickets-list/shared/ticket-property",null,[["class","promise"],["col-md-2",[20,["updatePromise"]]]],{"statements":[[0,"                "],[6,"div"],[9,"class","list-filter__item--icon-overlay progress-icon"],[7],[0,"\\n                  "],[4,"component",[[19,3,["iconComponent"]]],null,{"statements":[],"parameters":[]},null],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[3]},null]],"parameters":[]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[1,2]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","col-md-6 closure-column"],[7],[0,"\\n"],[4,"if",[[20,["ticketExists"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","closure-ticket-properties"],[7],[0,"\\n        "],[1,[25,"module-tickets/ticket-details/properties",null,[["ticket","startTicketValidation","ticketFields","refresh","focusOnError","updateProperty"],[[20,["ticket"]],[20,["startTicketValidation"]],[20,["ticketFields","fields"]],[20,["refresh"]],[20,["focusOnError"]],[25,"action",[[19,0,[]],"updateProperty"],null]]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/shared/close-validation/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/shared/loading-status/component",["exports","ember-prop-types"],function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={icon:s.PropTypes.string};e.default=Ember.Component.extend({propTypes:r,isSaving:Ember.computed.readOnly("promise.isPending"),isSuccess:Ember.computed.readOnly("promise.isFulfilled"),isError:Ember.computed.readOnly("promise.isRejected"),isFinishedLoading:Ember.computed.or("isSuccess","isError"),getDefaultProps:function(){return{icon:"assignto"}}})});
define("freshdesk/components/module-tickets/tickets-list/shared/loading-status/template",["exports"],function(s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=Ember.HTMLBars.template({id:"hf7lVZfK",block:'{"symbols":["&default"],"statements":[[4,"if",[[20,["isSaving"]]],null,{"statements":[[0,"  "],[1,[25,"ui-components/gravity-loader",null,[["isLoading","class"],[true,"very-small-loading"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isSuccess"]]],null,{"statements":[[0,"    "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon flashout app-icon--small"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isError"]]],null,{"statements":[[0,"    "],[1,[25,"svg-jar",["error"],[["class"],["app-icon flashout error app-icon--small"]]],false],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}],[0,"  "],[6,"div"],[10,"class",[25,"if",[[20,["isFinishedLoading"]]," assignto flashin"],null],null],[7],[0,"\\n"],[4,"if",[[22,1]],null,{"statements":[[0,"      "],[11,1],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"svg-jar",[[20,["icon"]]],[["class"],["app-icon app-icon--small"]]],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/shared/loading-status/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/shared/ticket-property/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["text__content","list-filter__item","clearfix"],hasIcon:Ember.computed.bool("icon")})});
define("freshdesk/components/module-tickets/tickets-list/shared/ticket-property/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"2fwt0IdQ",block:'{"symbols":["block","&default"],"statements":[[4,"with",[[25,"hash",null,[["iconComponent"],[[25,"component",["module-tickets/tickets-list/shared/loading-status"],[["promise","class","icon"],[[20,["promise"]],[25,"concat",["pull-left list-filter__icon list-filter__icon-",[20,["icon"]]],null],[20,["icon"]]]]]]]]],null,{"statements":[[4,"if",[[20,["hasIcon"]]],null,{"statements":[[0,"    "],[1,[19,1,["iconComponent"]],false],[0,"\\n    "],[11,2],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[11,2,[[25,"hash",null,[["iconComponent"],[[19,1,["iconComponent"]]]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/shared/ticket-property/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"D96V0qW9",block:'{"symbols":["wrapper","response"],"statements":[[4,"page-layout/page-wrapper",null,null,{"statements":[[4,"component",[[19,1,["content"]]],null,{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","fetchDataTask","queryParams","loaderClass","appRenderState"],[0,"fetchTicketList",[20,["findFilterListContent"]],[20,["queryParams"]],"",[20,["appRenderState"]]]],{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","fetchDataTask","taskOptions","queryParams","loaderRequired","appRenderState"],[2,"findTicketFilters",[20,["findFilters"]],[25,"not",[[20,["showFilterSidebar"]]],null],[20,["queryParams"]],false,[20,["appRenderState"]]]],{"statements":[[0,"        "],[1,[25,"app-components/filter-list/filter-list-header",null,[["currentFilter","filtersList","filterDefaults","searchPlaceholder","isLoading"],[[20,["currentFilter"]],[20,["filtersList"]],[20,["filterDefaults"]],[25,"t",["tickets.filter.search.placeholder"],null],[19,2,["isContentLoading"]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"ember-wormhole",null,[["to"],["mainactionbar"]],{"statements":[[0,"        "],[6,"div"],[7],[0,"\\n"],[4,"if",[[20,["showTable"]]],null,{"statements":[[0,"            "],[1,[25,"module-tickets/tickets-list/top-navigation",null,[["isSelectAll","toggleSelectAll","isChecked","count","hasListContent","perPage","page","isTableView","currentFilter","queryParams","isSpamOrTrash","isBulkOperationPending","toggleOverlay","toggleBulkAction","deleteTickets","switchView","restoreTickets","deleteForever","ticketNotSpam","assignAgents","mergeTickets","bulkUnwatch","resolveTickets","markasspam","exportTickets","linkTickets","isFilterExpanded","shouldHideFilterOptions","isLoading","isPageLoading"],[[20,["isSelectAll"]],[25,"action",[[19,0,[]],"toggleSelectAll"],null],[20,["hasSelected"]],[20,["meta","count"]],[20,["hasListContent"]],[20,["perPage"]],[20,["page"]],[20,["isTableView"]],[20,["currentFilter"]],[20,["queryParams"]],[20,["isSpamOrTrash"]],[20,["isBulkOperationPending"]],[25,"action",[[19,0,[]],"toggleOverlay"],null],[25,"action",[[19,0,[]],"toggleBulkTicketUpdate"],null],[25,"action",[[19,0,[]],"deleteTickets"],null],[25,"action",[[19,0,[]],"switchTableView"],null],[25,"action",[[19,0,[]],"restoreTickets"],null],[25,"action",[[19,0,[]],"deleteForever"],null],[25,"action",[[19,0,[]],"ticketNotSpam"],null],[25,"action",[[19,0,[]],"assignAgents"],null],[25,"action",[[19,0,[]],"mergeTickets"],null],[25,"action",[[19,0,[]],"bulkUnwatch"],null],[25,"action",[[19,0,[]],"resolveTickets"],null],[25,"action",[[19,0,[]],"markasspam"],null],[25,"action",[[19,0,[]],"exportTickets"],null],[25,"action",[[19,0,[]],"linkTickets"],null],[20,["isFilterExpanded"]],[20,["shouldHideFilterOptions"]],[25,"or",[[19,2,["isContentLoading"]],[20,["columnRearranging"]]],null],[25,"or",[[19,2,["isContentLoading"]],[20,["isMetaLoading"]]],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"             \\n"]],"parameters":[]}],[0,"        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"and",[[20,["tickets"]],[25,"or",[[20,["isSpam"]],[20,["isTrash"]]],null]],null]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","spam-notification text__content text__infotext"],[7],[0,"\\n          "],[6,"span"],[7],[0,"\\n"],[4,"if",[[20,["emptyingOnBackground"]]],null,{"statements":[[0,"              "],[1,[25,"t",["tickets.bulkactions.emptySpamTrash.notice"],[["name"],[[20,["viewName"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[25,"t",[[20,["emptySpamTrashText","info"]]],null],false],[0,"\\n"],[4,"if",[[25,"hasabilities",["delete_ticket"],null]],null,{"statements":[[0,"                "],[6,"a"],[9,"class","cursor-pointer"],[9,"role","button"],[10,"aria-label",[25,"t",[[20,["emptySpamTrashText","link"]]],null],null],[10,"onclick",[25,"action",[[19,0,[]],[25,"mut",[[20,["spamTrashDialog"]],true],null]],null],null],[7],[0,"\\n                  "],[1,[25,"t",[[20,["emptySpamTrashText","link"]]],null],false],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[4,"prioritized-fetch",null,[["renderPriority","taskName","asyncRender","loaderRequired","appRenderState"],[3,"renderAutoRefresh",false,false,[20,["appRenderState"]]]],{"statements":[[0,"        "],[1,[25,"module-tickets/tickets-list/auto-refresh",null,[["ticket","listContent","page","sortType","orderType","currentFilter","ticketfields","refreshTicketContent","setRefreshOnTicket","onAutoRefreshReload"],[[20,["ticket"]],[20,["listContent"]],[20,["page"]],[20,["sortType"]],[20,["orderType"]],[20,["currentFilter"]],[20,["ticketFields"]],[25,"action",[[19,0,[]],"resetRefreshOnListContent"],null],[25,"action",[[19,0,[]],"setRefreshOnListContent"],null],[25,"action",[[19,0,[]],"onAutoRefreshReload"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["showTable"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/tickets-list/tickets-table",null,[["isTableView","currentFilterId","showColumnChooser","ticketTable","staticColumns","dynamicColumns","allColumns","onApplyColumnChange","count","perPage","page","tableCurrentIndex","executeRow","isLoading","isPageLoading","isBulkOperationPending"],[[20,["isTableView"]],[20,["queryParams","filter"]],[20,["showColumnChooser"]],[20,["ticketTable"]],[20,["staticColumns"]],[20,["dynamicColumns"]],[20,["allColumns"]],[25,"action",[[19,0,[]],"applyColumnChanges"],null],[20,["meta","count"]],[20,["perPage"]],[20,["page"]],[25,"action",[[19,0,[]],"tableCurrentIndex"],null],[25,"route-action",["goToModelPage"],null],[25,"or",[[19,2,["isContentLoading"]],[20,["columnRearranging"]]],null],[25,"or",[[19,2,["isContentLoading"]],[20,["isMetaLoading"]]],null],[20,["isBulkOperationPending"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[]},null],[4,"if",[[20,["showFilterSidebar"]]],null,{"statements":[[4,"component",[[19,1,["sidebar"]]],null,{"statements":[[4,"prioritized-fetch",null,[["renderPriority","taskName","fetchDataTask","queryParams","placeholderType","appRenderState","renderImmediately"],[1,"renderFilterSidebar",[20,["findCurrentFilter"]],[20,["queryParams"]],"filter-list",[20,["appRenderState"]],[20,["renderFiltersImmediately"]]]],{"statements":[[0,"        "],[1,[25,"app-components/filter-list",null,[["filterDefaults","fieldsList","defaultFilterFields","cancelToggle","onFilterChange","clearFilter","data-test-div","selectedValues","isFilterSearchEnabled","isFilterSearchAllowed","performFilteringOnChange","enableVerticalCollection","containerSelector","class"],[[20,["filterDefaults"]],[20,["fieldsList"]],[20,["defaultFilterFields"]],[20,["refreshFilter"]],[25,"route-action",["customSearch"],null],[20,["clearFilter"]],"ticket-filter-section",[20,["currentFilter"]],[20,["isFilterSearchEnabled"]],true,true,true,".sidebar","scroll-wrap__right ticket-filter"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[1]},null],[0,"\\n"],[4,"if",[[20,["showScenarios"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","size","closeOnEscapse"],[[25,"action",[[19,0,[]],"onClose","showScenarios"],null],true,"medium",true]],{"statements":[[0,"    "],[1,[25,"module-tickets/shared/tickets-scenarios",null,[["onclose","executeScenario","selectedRecords","totalRecords","assignedStatus"],[[25,"action",[[19,0,[]],"onClose","showScenarios"],null],[25,"action",[[19,0,[]],"executeScenario"],null],[20,["selectedRecords"]],[20,["totalRecords"]],[20,["assignedStatus"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showBulkTicketUpdate"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","size","closeOnEscapse"],[[25,"action",[[19,0,[]],"onClose","showBulkTicketUpdate"],null],true,"medium",true]],{"statements":[[0,"    "],[1,[25,"module-tickets/tickets-list/tickets-bulkactions",null,[["onclose","onsubmit","parentTicketsSelectedCount","selectedRecords","totalRecords","ticketBulkAction","assignedStatus"],[[25,"action",[[19,0,[]],"onClose","showBulkTicketUpdate"],null],[25,"action",[[19,0,[]],"bulkUpdateTickets"],null],[20,["parentTicketsSelectedCount"]],[20,["recordsSelected"]],[20,["totalRecords"]],[20,["ticketBulkAction"]],[20,["assignedStatus"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showExport"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["outSideClick","close","showModalClose","closeOnEscapse"],[[25,"action",[[19,0,[]],"outSideClick"],null],[25,"action",[[19,0,[]],"closeOverlay"],null],true,true]],{"statements":[[0,"    "],[6,"div"],[9,"class","ticket-content"],[7],[0,"\\n      "],[1,[25,"module-tickets/tickets-list/tickets-export",null,[["data","close"],[[20,["exportData"]],[25,"action",[[19,0,[]],"closeOverlay"],null]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showCloseTicketsValidationDialog"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","size","closeOnEscapse"],[[25,"action",[[19,0,[]],"onClose","showCloseTicketsValidationDialog"],null],true,"medium",true]],{"statements":[[0,"    "],[1,[25,"module-tickets/tickets-list/shared/close-validation",null,[["tickets","onclose","totalTickets","assignedStatus"],[[20,["selectedRecords"]],[25,"action",[[19,0,[]],"onClose","showCloseTicketsValidationDialog"],null],[20,["totalRecords"]],[20,["assignedStatus"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[0,"\\n"],[4,"if",[[20,["showConfirmDialog"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close","showCloseButton"],[[25,"t",[[25,"concat",["tickets.ticket_associations.ticket_actions.",[20,["actionTriggered"]]],null]],[["count"],[[20,["selectedRecordsCount"]]]]],[20,["saveButtonLabel"]],[25,"action",[[19,0,[]],"confirmAction",[20,["actionTriggered"]]],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["showConfirmDialog"]]],null]],null],[20,["showCloseButton"]]]],{"statements":[[0,"    "],[6,"p"],[7],[0,"\\n      "],[1,[18,"confirmDialogDescription"],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["spamTrashDialog"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",[[20,["emptySpamTrashText","link"]]],null],[25,"t",["tickets.deleteforever"],null],[25,"action",[[19,0,[]],"emptySpamOrTrash"],null],[25,"action",[[19,0,[]],[25,"mut",[[20,["spamTrashDialog"]]],null]],null]]],{"statements":[[0,"    "],[6,"span"],[7],[0,"\\n      "],[1,[25,"t",["tickets.emptySpamTrash.dialog"],[["view"],[[20,["currentFilter","title"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["displayDeleteTickets"]]],null,{"statements":[[4,"app-components/confirm-dialog",null,[["title","saveLabel","save","close"],[[25,"t",["tickets.bulkactions.deletetickets.confirm.title"],null],[25,"t",["tickets.bulkactions.deletetickets.confirm.savelabel"],null],[25,"pipe-action",[[25,"action",[[19,0,[]],"deleteTickets"],null],[25,"toggle-action",["displayDeleteTickets",[19,0,[]]],null]],null],[25,"toggle-action",["displayDeleteTickets",[19,0,[]]],null]]],{"statements":[[4,"if",[[25,"eq",[[20,["selectedRecordsCount"]],1],null]],null,{"statements":[[0,"      "],[1,[25,"t",["tickets.bulkactions.deletetickets.confirm.single"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"t",["tickets.bulkactions.deletetickets.confirm.multiple"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/broadcast-message/component",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.Component.extend({showBodyContent:!0,actions:{showBroadcastContent:function(){this.toggleProperty("showBodyContent")},insertIntoReply:function(){this.sendAction("insertIntoReply")}}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/broadcast-message/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"3X3ASzIJ",block:'{"symbols":[],"statements":[[6,"div"],[9,"class","broadcast-wrapper"],[9,"data-test-id","broadcast-wrapper"],[7],[0,"\\n  "],[6,"div"],[9,"class","header clearfix"],[7],[0,"\\n    "],[6,"div"],[9,"class","broadcast-title pull-left"],[9,"data-test-id","broadcast-title"],[7],[0,"\\n      "],[1,[25,"svg-jar",["broadcast"],[["class"],["broadcast-icon-wrapper"]]],false],[0,"\\n      "],[6,"a"],[9,"role","button"],[9,"class","title text--semibold"],[9,"data-test-id","broadcast-title-button"],[10,"onclick",[25,"action",[[19,0,[]],"showBroadcastContent"],null],null],[7],[1,[25,"t",["tickets.ticket_associations.link_tickets.list_page.last_broadcasted_message"],null],false],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"div"],[9,"class","insert-reply pull-right"],[7],[0,"\\n      "],[6,"button"],[10,"aria-label",[25,"t",["tickets.ticket_associations.link_tickets.list_page.broadcasted_message.insert_to_reply"],null],null],[9,"class","app-icon-btn app-icon-btn--text text--uppercase"],[10,"onclick",[25,"action",[[19,0,[]],"insertIntoReply"],null],null],[9,"data-test-id","insert-reply"],[7],[0,"\\n        "],[1,[25,"t",["tickets.ticket_associations.link_tickets.list_page.broadcasted_message.insert_to_reply"],null],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n    "],[6,"span"],[9,"class","created-at text--verysmall text--gray"],[7],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["createdAt"]]]]],false],[8],[0,"\\n  "],[8],[0,"\\n"],[4,"if",[[20,["showBodyContent"]]],null,{"statements":[[0,"    "],[6,"div"],[9,"class","body-content"],[9,"data-test-id","broadcast-body-content"],[7],[0,"\\n      "],[1,[25,"html-safe",[[20,["broadcastMessage"]]],null],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/broadcast-message/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/component",["exports","freshdesk/mixins/tickets/form","freshdesk/mixins/email-config","freshdesk/utils/blank-array","freshdesk/mixins/tickets/insert-canned-response","freshdesk/constants/ticket","freshdesk/utils/plain-text","freshdesk/mixins/integrations/attachment-apps","freshdesk/mixins/tickets/wrap-email-notification-font"],function(e,t,s,i,n,r,o,a,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={customFields:{}},m=["internalGroupId","internalAgentId"];e.default=Ember.Component.extend(t.default,s.default,n.default,a.default,d.default,{store:Ember.inject.service(),ticketFields:Ember.inject.service(),scroller:Ember.inject.service(),classNames:["__module-tickets__tickets-list__tickets-bulkactions"],model:null,isLoaded:!1,isSelected:!1,cannedResponse:!1,cannedDescription:null,customCheckFields:l,internalGroupAgentFNames:m,body:null,fromEmail:null,displayInlineCannedResponse:!1,defaultCollapsed:!0,showCloseWarning:!1,parentTicketsSelectedCount:0,showCloseValidationDialog:!1,isStatusChecked:!1,cannedTextProp:"contentHtml",agentGroupEnabled:!1,isInternalAgentGroupEnabled:!1,insertBroadcast:!1,cannotUpdateAll:Ember.computed.not("ticketBulkAction.updateAll"),permissibleTicketsCount:Ember.computed.reads("ticketBulkAction.permissibleTickets"),selectedAssocTicketsCount:Ember.computed.reads("ticketBulkAction.selectedTicketsCount"),broadcastMessage:Ember.computed.reads("ticketBulkAction.broadcastMessage"),createdAt:Ember.computed.reads("ticketBulkAction.createdAt"),associatedTicketsAction:Ember.computed.reads("ticketBulkAction.associatedTicketsAction"),editorBody:Ember.computed.alias("editorData.body"),isParentTicketSelected:Ember.computed.gt("parentTicketsSelectedCount",0),editorEnabled:Ember.computed.bool("editorData.body"),currentStatus:Ember.computed.reads("model.status"),showUpdateMessage:Ember.computed.and("cannotUpdateAll","associatedTicketsAction"),showBroadcastedMessage:Ember.computed.and("broadcastMessage","associatedTicketsAction"),addedAttachments:(0,i.default)(),inlineAttachments:(0,i.default)(),selectedtags:(0,i.default)(),cloudAttachments:(0,i.default)(),hasTags:Ember.computed.bool("selectedtags.length"),fields:Ember.computed(function(){return Ember.get(this,"ticketFields.fields").filterBy("showInBulkEdit",!0)}),hasFeatureSharedOwnership:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("shared_ownership")}),assignTo:Ember.computed(function(){return Ember.Object.create()}),editorData:Ember.computed(function(){return Ember.Object.create({body:null,from_email:null,attachment_ids:[],cloud_files:[],inline_attachment_ids:[]})}),updateData:Ember.computed(function(){return Ember.Object.create({properties:{},reply:{}})}),init:function(){this._super.apply(this,arguments),this.setDefaults();var e=Ember.get(this,"store");Ember.RSVP.hash({newTicket:e.createRecord("ticket",{customFields:{}})}).then(this._initCB.bind(this))},actions:{insertIntoReply:function(){Ember.set(this,"insertBroadcast",!0)},contentChanged:function(e){var t=Boolean((0,o.default)(e).length);Ember.set(this,"editorEnabled",t),Ember.set(this,"editorBody",e)},onInsertAttachment:function(e){var t=Ember.get(this,"editorData");Ember.set(t,"attachment_ids",e)},errorFieldFocus:function(){},changeCheckbox:function(e,t){var s=Ember.get(this,"customCheckFields"),i=Ember.get(e,"type");Ember.set(s,Ember.get(e,"fieldName"),t),"nested_field"===i&&this.send("setNestedFields",s,e,t),"default_status"===i&&Ember.set(this,"isStatusChecked",t)},setNestedFields:function(e,t,s){Ember.get(t,"nestedTicketFields").forEach(function(t){var i="customFields."+t.name;Ember.set(e,i,s)})},changeSelectBox:function(e,t,s,i){var n=Ember.get(this,"customCheckFields");if(Ember.set(n,e+"_defaultState",!0),"status"===e){Ember.set(this,"showCloseWarning",!1);var o=r.default.status,a=o.closed,d=o.resolved,c=t===a||t===d;Ember.get(this,"isParentTicketSelected")&&c&&Ember.set(this,"showCloseWarning",!0)}if(i){"nested_field"===Ember.get(i,"type")&&(Ember.set(n,e,!Ember.isEmpty(t)),this.send("setNestedFields",n,i,!0))}else Ember.set(n,e,!Ember.isEmpty(t)),"status"===e&&Ember.set(this,"isStatusChecked",!Ember.isEmpty(t))},setPriority:function(e){Ember.set(this,"model.priority",e),this.send("changeSelectBox","priority",e)},submit:function(){var e=this.getSerializedModel(),t=Ember.get(this,"editorEnabled"),s=Ember.get(this,"editorData"),i=Ember.get(this,"updateData"),n=Ember.get(this,"selectedtags"),r=Ember.get(this,"hasTags");if(this.setCloudFiles(s),Ember.get(this,"model.inlineAttachmentIds")&&(Ember.set(s,"inline_attachment_ids",Ember.get(this,"model.inlineAttachmentIds")),delete e.inline_attachment_ids),s.body){var o=document.createDocumentFragment(),a=document.createElement("div");for(a.innerHTML=s.body;a.firstChild;)o.appendChild(a.firstChild);var d=o.querySelectorAll("img[data-id]");Array.from(d).forEach(function(e){e.classList.add("inline-image")});var c=document.createElement("div");c.appendChild(o.cloneNode(!0));var l=this._wrapFontFamily(c.innerHTML);Ember.set(this,"editorData.body",l)}if(r&&(e.tags=n),Ember.get(this,"currentUser").hasAbility("edit_ticket_properties")&&Ember.set(i,"properties",e),t&&Ember.set(i,"reply",s),Ember.get(this,"agentGroupEnabled")){var m=Ember.get(this,"assignTo");Ember.set(i,"properties.group_id",m.groupId),Ember.set(i,"properties.responder_id",m.responderId)}if(Ember.get(this,"isInternalAgentGroupEnabled")&&Ember.get(this,"isStatusChecked")){var u=Ember.get(this,"model");Ember.set(i,"properties.internal_group_id",Ember.get(u,"internalGroupId")),Ember.set(i,"properties.internal_agent_id",Ember.get(u,"internalAgentId"))}return Ember.get(this,"onsubmit")(i).then(this._submitCB.bind(this))},cancel:function(){this.sendAction("onclose")},insertCannedResponse:function(e){this.setCannedResponse(e)},hideCannedResponse:function(){Ember.set(this,"cannedResponse",!1)},showCannedResponse:function(){Ember.set(this,"cannedResponse",!0)},enableCannedResponse:function(){this.toggleProperty("displayInlineCannedResponse")},onSaveAgentAndGroup:function(e,t){this._setAgentAndGroup(Ember.get(this,"assignTo"),e,t,"responderId","groupId"),Ember.set(this,"agentGroupEnabled",!0)},setInternalAgentAndGroup:function(e,t){this._setAgentAndGroup(Ember.get(this,"model"),e,t,"internalAgentId","internalGroupId"),Ember.set(this,"isInternalAgentGroupEnabled",!0)},onChangeFrom:function(e){Ember.set(this,"bulkActionFromEmail",e);var t=Ember.get(e,"replyEmail")||Ember.get(e,"reply_email");Ember.set(this,"editorData.from_email",t)},saveTags:function(e){Ember.set(this,"selectedtags",e)}},_setAgentAndGroup:function(e,t,s,i,n){var r={},o=s&&Ember.get(s,"id"),a=t&&Ember.get(t,"id");r[n]=o?parseInt(o):null,r[i]=a?parseInt(a):null,Ember.setProperties(e,r)},_initCB:function(e){Ember.set(this,"model",e.newTicket),this.setCheckBoxFields(),Ember.set(this,"isLoaded",!0)},setDefaults:function(){Ember.set(this,"editorData.body",null),Ember.set(this,"editorData.from_email",Ember.get(this,"defaultFromEmail.replyEmail"))},setCheckBoxFields:function(){var e=Ember.get(this,"fields"),t=Ember.get(this,"customCheckFields");e.forEach(function(e){var s=Ember.get(e,"fieldName");Ember.set(t,s,!1),Ember.set(t,s+"_defaultState",!1)})},getSerializedModel:function(){var e=Ember.get(this,"model").serialize(),t=Ember.get(this,"customCheckFields");return this.getSelectedData(e,t)},getSelectedData:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e){var n=s?i:i.camelize();"object"==c(e[i])&&null!==e[i]?t[n]&&this.getSelectedData(e[i],t[n],!0):null!=e[i]&&t[n]||delete e[i]}return e},_submitCB:function(e){e.ticketCloseFailed?Ember.set(this,"showCloseValidationDialog",!0):this.onclose()},onsubmit:function(){}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"MrnUGqIJ",block:'{"symbols":["f","field","currentSection","sectionField"],"statements":[[6,"div"],[9,"class","modal-content show"],[9,"data-test-modal","bulk-update-modal"],[7],[0,"\\n  "],[6,"div"],[9,"class","modal-carousel_container"],[7],[0,"\\n    "],[6,"div"],[10,"class",[26,["modal-carousel_wrapper ",[25,"if",[[20,["displayInlineCannedResponse"]],"carousel-slider","carousel-default"],null]," "]]],[7],[0,"\\n      "],[6,"div"],[10,"class",[26,["modal-carousel__item carousel-default-view ",[25,"if",[[20,["displayInlineCannedResponse"]],"hide-visibility"],null]," "]]],[7],[0,"\\n        "],[6,"div"],[9,"class","modal-header"],[7],[0,"\\n          "],[6,"h4"],[9,"class","modal-title text--xlarge"],[9,"data-test-modal-title","bulkupdate"],[7],[1,[25,"svg-jar",["bulk-action"],[["class"],["modal-icons"]]],false],[0,"  "],[1,[25,"t",["tickets.bulkactions"],null],false],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","bulk-update"],[7],[0,"\\n"],[4,"if",[[20,["isLoaded"]]],null,{"statements":[[4,"if",[[20,["showUpdateMessage"]]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","update-msg"],[7],[0,"\\n                "],[1,[25,"svg-jar",["unverified"],[["class"],["app-icon app-icon--medium change-email-icon"]]],false],[0,"\\n                "],[1,[25,"t",["tickets.bulkupdate.warningmessage"],[["selectedTickets","permissibleTicketsCount"],[[20,["selectedAssocTicketsCount"]],[20,["permissibleTicketsCount"]]]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,"hasabilities",["reply_ticket"],null]],null,{"statements":[[0,"              "],[6,"div"],[9,"class","input-checkbox-wrapper bulk-update-reply clearfix"],[9,"data-test-checkbox","form-fields"],[10,"data-test-checkbox-field",[26,["form-fields-",[20,["field","fieldName"]]]]],[7],[0,"\\n                "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                  "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass"],[[20,["editorEnabled"]],"bulkreply","bulkreply_cb","bulkaction-cb"]]],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                  "],[6,"div"],[9,"class","input bulk-update-from clearfix"],[7],[0,"\\n                    "],[6,"div"],[9,"class","field__label bulk-update-from-label"],[7],[1,[25,"t",["fd.from"],null],false],[0,": "],[8],[0,"\\n                    "],[6,"div"],[9,"class","bulk-update-from-field"],[7],[0,"\\n                      "],[1,[25,"app-components/from-email",null,[["isEditor","fromOptions","selectedEmailConfig","onchange"],[true,[20,["globalEmailConfig"]],[20,["bulkActionFromEmail"]],[25,"action",[[19,0,[]],"onChangeFrom"],null]]]],false],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n                  "],[6,"div"],[9,"class","input"],[7],[0,"\\n                    "],[6,"div"],[9,"class","field__label"],[7],[1,[25,"t",["tickets.bulk_reply"],null],false],[0,": "],[8],[0,"\\n                    "],[1,[25,"ui-form/editor/ticket-editor",null,[["value","externalAttachments","showCannedResponse","placeholder","customClass","enableInlineCannedResponse","onInsertAttachment","editorInput","contentChanged","skipFirstSendAction","cloudAttachments","insertBroadcast","broadcastedMessage","model","wrapDefaultFont"],[[20,["editorBody"]],[20,["inlineAttachments"]],true,"Add your reply here","editor-edit-note",[25,"action",[[19,0,[]],"enableCannedResponse"],null],[25,"action",[[19,0,[]],"onInsertAttachment"],null],[20,["editorInput"]],[25,"action",[[19,0,[]],"contentChanged"],null],false,[20,["cloudAttachments"]],[20,["insertBroadcast"]],[20,["broadcastMessage"]],[20,["model"]],true]]],false],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["showBroadcastedMessage"]]],null,{"statements":[[0,"              "],[1,[25,"module-tickets/tickets-list/tickets-bulkactions/broadcast-message",null,[["broadcastMessage","createdAt","insertIntoReply"],[[20,["broadcastMessage","body"]],[20,["createdAt"]],[25,"action",[[19,0,[]],"insertIntoReply"],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"ui-form/form-for",[[20,["model"]]],[["submit","defaultSubmitBtn"],[[25,"action",[[19,0,[]],"submit"],null],"form.update"]],{"statements":[[0,"\\n"],[4,"if",[[25,"hasabilities",["edit_ticket_properties"],null]],null,{"statements":[[4,"each",[[20,["formFields"]]],null,{"statements":[[0,"\\n\\n"],[4,"unless",[[19,2,["belongsToSection"]]],null,{"statements":[[4,"if",[[25,"eq",[[19,2,["fieldName"]],"groupId"],null]],null,{"statements":[[0,"                      "],[6,"div"],[9,"class","input-checkbox-wrapper"],[7],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                          "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass"],[[20,["agentGroupEnabled"]],"agentgroup","agentgroup_cb","bulkaction-cb form-cb"]]],false],[0,"\\n                        "],[8],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                          "],[6,"div"],[9,"class","input"],[7],[0,"\\n                            "],[1,[25,"app-components/assign-to",null,[["label","agentList","groupList","type","data-test-id","onSave"],[[25,"t",["ticket.assignto"],null],[20,["allAgents"]],[20,["allGroups"]],"text","assign-to",[25,"action",[[19,0,[]],"onSaveAgentAndGroup"],null]]]],false],[0,"\\n                          "],[8],[0,"\\n                        "],[8],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[25,"eq",[[19,2,["fieldName"]],"internalGroupId"],null],[20,["hasFeatureSharedOwnership"]]],null]],null,{"statements":[[4,"if",[[25,"and",[[20,["internalGroups","length"]],[20,["isStatusChecked"]]],null]],null,{"statements":[[0,"                        "],[6,"div"],[9,"class","input-checkbox-wrapper"],[7],[0,"\\n                          "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                            "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass"],[[20,["isInternalAgentGroupEnabled"]],"agentgroup","internalagentgroup_cb","bulkaction-cb form-cb"]]],false],[0,"\\n                          "],[8],[0,"\\n                          "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                            "],[6,"div"],[9,"class","input"],[7],[0,"\\n                              "],[1,[25,"app-components/assign-to",null,[["label","isInternalGroup","agentList","groupList","allowNilGroup","type","fieldNames","onSave"],[[25,"t",["ticket.assigntointernal"],null],true,[20,["internalAgents"]],[20,["internalGroups"]],false,"text",[20,["internalGroupAgentFNames"]],[25,"action",[[19,0,[]],"setInternalAgentAndGroup"],null]]]],false],[0,"\\n                            "],[8],[0,"\\n                          "],[8],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                        "],[6,"div"],[9,"class","input-checkbox-wrapper wrapper-disabled"],[7],[0,"\\n                          "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                            "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass","disabled"],[[20,["isInternalAgentGroupEnabled"]],"agentgroup","internalagentgroup_cb","bulkaction-cb form-cb","disabled"]]],false],[0,"\\n                          "],[8],[0,"\\n                          "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                            "],[6,"div"],[9,"class","input"],[7],[0,"\\n                              "],[1,[25,"ui-form/text-field",null,[["label","readonly","value"],[[25,"t",["ticket.assigntointernal"],null],"readonly",[25,"t",["tickets.nointernalgroup"],null]]]],false],[0,"\\n                            "],[8],[0,"\\n                          "],[8],[0,"\\n                        "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[19,2,["fieldName"]],"priority"],null]],null,{"statements":[[0,"                      "],[6,"div"],[9,"class","input-checkbox-wrapper"],[9,"data-test-checkbox","form-fields"],[10,"data-test-checkbox-field",[26,["form-fields-",[19,2,["fieldName"]]]]],[7],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                          "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass","onchange","field"],[[25,"get",[[20,["customCheckFields"]],[19,2,["fieldName"]]],null],[19,2,["label"]],[25,"concat",[[25,"if",[[19,2,["default"]],[19,2,["type"]],[19,2,["name"]]],null],"_checkbox"],null],"bulkaction-cb form-cb",[25,"action",[[19,0,[]],"changeCheckbox",[19,2,[]]],null],[19,2,[]]]]],false],[0,"\\n                        "],[8],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                          "],[6,"div"],[9,"class","input"],[7],[0,"\\n                            "],[6,"label"],[9,"class","ember-power-select-placeholder"],[7],[1,[25,"t",["fd.priority"],null],false],[8],[0,"\\n                            "],[1,[25,"module-tickets/shared/priority-dropdown",null,[["priority","defaultEmpty","saveAction"],[[20,["model","priority"]],true,[25,"action",[[19,0,[]],"setPriority"],null]]]],false],[0,"\\n                          "],[8],[0,"\\n                        "],[8],[0,"\\n                      "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"or",[[25,"eq",[[19,2,["fieldName"]],"responderId"],null],[25,"eq",[[19,2,["fieldName"]],"internalAgentId"],null]],null]],null,{"statements":[],"parameters":[]},{"statements":[[0,"                      "],[6,"div"],[9,"class","input-checkbox-wrapper clearfix"],[9,"data-test-checkbox","form-fields"],[10,"data-test-checkbox-field",[26,["form-fields-",[19,2,["fieldName"]]]]],[7],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                          "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass","onchange","field"],[[25,"get",[[20,["customCheckFields"]],[19,2,["fieldName"]]],null],[19,2,["label"]],[25,"concat",[[25,"if",[[19,2,["default"]],[19,2,["type"]],[19,2,["name"]]],null],"_checkbox"],null],"bulkaction-cb form-cb",[25,"action",[[19,0,[]],"changeCheckbox",[19,2,[]]],null],[19,2,[]]]]],false],[0,"\\n                        "],[8],[0,"\\n                        "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                          "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,2,[]]],[["form","model","isRequired","onchange"],[[19,1,[]],[20,["model"]],false,[25,"action",[[19,0,[]],"changeSelectBox",[19,2,["fieldName"]]],null]]]],false],[0,"\\n                        "],[8],[0,"\\n                      "],[8],[0,"\\n                    "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[4,"if",[[19,2,["hasSections"]]],null,{"statements":[[4,"module-tickets/ticket-form/section-form",null,[["sectionField","ticket"],[[19,2,[]],[20,["model"]]]],{"statements":[[4,"each",[[25,"filter-by",["showInBulkEdit",true,[19,3,["fields"]]],null]],null,{"statements":[[0,"                          "],[6,"div"],[9,"class","input-checkbox-wrapper"],[7],[0,"\\n                            "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                              "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass","onchange","field"],[[25,"get",[[20,["customCheckFields"]],[19,4,["fieldName"]]],null],[19,2,["label"]],[25,"concat",[[19,4,["name"]],"_checkbox"],null],"bulkaction-cb form-cb",[25,"action",[[19,0,[]],"changeCheckbox",[19,4,[]]],null],[19,4,[]]]]],false],[0,"\\n                            "],[8],[0,"\\n                            "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                              "],[1,[25,"module-tickets/ticket-form/ticket-field",[[19,4,[]]],[["form","model","isRequired","onchange"],[[19,1,[]],[20,["model"]],false,[25,"action",[[19,0,[]],"changeSelectBox",[19,4,["fieldName"]]],null]]]],false],[0,"\\n                            "],[8],[0,"\\n                          "],[8],[0,"\\n"]],"parameters":[4]},null]],"parameters":[3]},null]],"parameters":[]},null],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null],[0,"\\n                "],[6,"div"],[9,"class","input-checkbox-wrapper"],[9,"data-test-checkbox","form-fields"],[9,"data-test-checkbox-field","form-fields-tags"],[7],[0,"\\n                  "],[6,"div"],[9,"class","bulk-update-checkbox"],[7],[0,"\\n                    "],[1,[25,"ui-form/custom-checkbox",null,[["value","valuePath","labelId","customClass"],[[20,["hasTags"]],"tags","tag_cb","bulkaction-cb"]]],false],[0,"\\n                  "],[8],[0,"\\n                  "],[6,"div"],[9,"class","bulk-update-field"],[7],[0,"\\n                    "],[6,"div"],[9,"class","input"],[7],[0,"\\n                      "],[6,"div"],[9,"class","field__label"],[7],[1,[25,"t",["contactfields.tags"],null],false],[0," "],[8],[0,"\\n                      "],[1,[25,"app-components/app-tags/create-tag",null,[["tags","saveTags","onAddFocus"],[[20,["selectedtags"]],[25,"action",[[19,0,[]],"saveTags"],null],false]]],false],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n"],[4,"if",[[20,["showCloseWarning"]]],null,{"statements":[[0,"                  "],[6,"div"],[9,"class","parent_child_warning text-left"],[7],[0,"\\n                    "],[1,[25,"t",["tickets.ticket_associations.ticket_list.ticket_actions.bulk_close"],[["count"],[[20,["parentTicketsSelectedCount"]]]]],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[]},null],[0,"                "],[6,"button"],[9,"type","button"],[9,"name","button"],[9,"class","btn btn--secondary"],[9,"data-test-button","bulk-update-cancel"],[3,"action",[[19,0,[]],"cancel"]],[7],[0,"\\n                  "],[1,[25,"t",["common.cancel"],null],false],[0,"\\n                "],[8],[0,"\\n                "],[6,"div"],[9,"class","pull-right bulk-action-submit-container"],[7],[0,"\\n                  "],[1,[25,"component",[[19,1,["submit"]]],[["data-test-id"],["submit"]]],false],[0,"\\n                "],[8],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[1]},null]],"parameters":[]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n      "],[6,"div"],[10,"class",[26,["modal-carousel__item ",[25,"if",[[20,["displayInlineCannedResponse"]],"show-canned","hide-canned-response"],null]," modal-carousel__item custom-cannedResponse"]]],[7],[0,"\\n        "],[1,[25,"app-components/canned-response",null,[["insertCannedResponse","inlineRender","toggleAction","initiatedFrom"],[[25,"action",[[19,0,[]],"insertCannedResponse"],null],true,[25,"action",[[19,0,[]],"enableCannedResponse"],null],"bulkActions"]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"],[4,"if",[[20,["showCloseValidationDialog"]]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/tickets-list/shared/close-validation",null,[["tickets","totalTickets","assignedStatus","isAssocticketsAction","onclose"],[[20,["selectedRecords"]],[20,["totalRecords"]],[20,["assignedStatus"]],[20,["ticketBulkAction","associatedTicketsAction"]],[20,["onclose"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-bulkactions/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-export/component",["exports","freshdesk/constants/export-fields","freshdesk/utils/camelcase-to-underscore"],function(e,t,s){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.default=Ember.Component.extend({moment:Ember.inject.service(),store:Ember.inject.service(),i18n:Ember.inject.service(),ajax:Ember.inject.service(),currentUser:Ember.inject.service(),classNames:["__module-tickets__tickets-list__tickets-export"],ticketFieldsList:t.ticketFieldsList,timePeriodOptions:t.timePeriodOptions,ticketStatusOptions:t.ticketStatusOptions,defaultTimeSpan:"30days",defaultExportStatus:"created_at",defaultContactFields:t.defaultContactFields,otherContactFields:t.otherContactFields,otherCompanyFields:t.otherCompanyFields,defaultCompanyFields:t.defaultCompanyFields,uniqueExternalIdField:t.uniqueExternalIdField,format:"csv",selectedDateRange:null,radioOptions:t.radioOptions,hasFieldsLoaded:!1,isExportCustomer:Ember.computed(function(){return Ember.get(this,"currentUser").hasAbility("export_customers")}),accordionItems:Ember.computed(function(){var e=this,t=[this._setAccordionProperties("ticketFields")];if(Ember.get(this,"isExportCustomer")){["contactFields","companyFields"].forEach(function(s){t.push(e._setAccordionProperties(s))})}return t}),isInvalidExport:Ember.computed("accordionItems.@each.count",function(){return 0===Ember.get(this,"accordionItems.firstObject").count}),dateFilter:Ember.computed("defaultTimeSpan",function(){var e=Ember.get(this,"timePeriodOptions"),t=Ember.get(this,"defaultTimeSpan");return e.findBy("id",t).dateFilter}),labelForStatus:Ember.computed("defaultExportStatus",function(){return"tickets.filter.status."+Ember.get(this,"defaultExportStatus")}),exportCache:Ember.computed(function(){var e=this.localcache.getFromCache("ticket_export_selection");return Ember.isEmpty(e)?{}:e}),allowedTicketFields:Ember.computed("ticketFieldsList",function(){var e=this;return Ember.get(this,"ticketFieldsList").filter(function(t){if("object"===i(Ember.get(t,"feature"))){var s=!1,r=!0;return Ember.get(t,"feature").forEach(function(i){"OR"===t.operator?s|=Ember.get(e,"currentAccount").hasFeature(i):r&=Ember.get(e,"currentAccount").hasFeature(i)}),"OR"===t.operator?s:r}return(!Ember.get(e,"isArchiveExport")||"shared_ownership"!==Ember.get(t,"feature"))&&(!Ember.get(t,"feature")||Ember.get(e,"currentAccount").hasFeature(Ember.get(t,"feature")))})}),allowedCompanyFields:Ember.computed("otherCompanyFields",function(){var e=this;return Ember.get(this,"otherCompanyFields").filter(function(t){return!Ember.get(t,"feature")||Ember.get(e,"currentAccount").hasFeature(Ember.get(t,"feature"))})}),ticketFields:Ember.computed(function(){var e=Ember.get(this,"store"),t=[],s=e.peekAll("ticketField").filterBy("default",!1);t.pushObjects(Ember.get(this,"allowedTicketFields")),t.pushObjects(s);var r=Ember.get(this,"exportCache");if(Object.keys(r).length)this.selectCachedItems(t,"ticketFields");else{var i=["display_id","subject","status_name"];this.selectItems(t,i)}return t}),_contactFields:Ember.computed(function(){return Ember.get(this,"store").peekAll("contact-field")}),contactFields:Ember.computed("_contactFields",function(){var e=Ember.get(this,"_contactFields"),t=[],s=e.filterBy("default",!1);t.pushObjects(Ember.get(this,"defaultContactFields")),this.currentUser.hasAbility("export_customers")&&(t.pushObjects(Ember.get(this,"otherContactFields")),t.pushObjects(s)),Ember.get(this,"currentAccount").hasFeature("unique_contact_identifier")&&t.pushObjects(Ember.get(this,"uniqueExternalIdField"));var r=Ember.get(this,"exportCache");if(Object.keys(r).length)this.selectCachedItems(t,"contactFields");else{var i=["contact_id","name"];this.selectItems(t,i)}return t}),_companyFields:Ember.computed(function(){return Ember.get(this,"store").peekAll("company-field")}),companyFields:Ember.computed(function(){var e=Ember.get(this,"_companyFields"),t=[],s=e.filterBy("default",!1);return t.pushObjects(Ember.get(this,"defaultCompanyFields")),this.currentUser.hasAbility("export_customers")&&(t.pushObjects(Ember.get(this,"allowedCompanyFields")),t.pushObjects(s)),this.selectCachedItems(t,"companyFields"),t}),init:function(){this._super.apply(this,arguments),this.sendAction("modalLoaded"),Ember.RSVP.all([Ember.get(this,"store").findAll("contact-field"),Ember.get(this,"store").findAll("company-field")]).then(this._preLoadCallback.bind(this))},actions:{onChangeStatus:function(e,t){Ember.set(this,"defaultExportStatus",t.id),e.actions.close()},onDateChange:function(e){Ember.set(this,"selectedDateRange",e)},exportFormat:function(e){Ember.set(this,"format",e)},archiveExport:function(){var e=this,t=Ember.get(this,"data.query")||[],r=Ember.get(this,"data.exportName"),i=Ember.get(this,"format"),c=this.getFieldsInFormat("ticketFields"),o=this.getFieldsInFormat("contactFields"),a=this.getFieldsInFormat("companyFields");if(Ember.isEmpty(Object.keys(c)))Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.export.validation.ticketField"));else{this.cacheSelectedFields(c,o,a),o=Ember.get(this,"isExportCustomer")?o:{},a=Ember.get(this,"isExportCustomer")?a:{};var n=(0,s.default)({query:t,exportName:r,format:i,ticketFields:c,contactFields:o,companyFields:a});Ember.get(this,"ajax").raw("api/_/tickets/archived/export",{method:"post",data:n}).then(function(t){e._archiveExportCB(t)}).catch(function(t){var s=t.response,r=t.jqXHR,i=t.payload,c=r.statusCode().status;e._archiveExportRejectCB(c,s,i)})}this.sendAction("close")},export:function(){var e=Ember.get(this,"format"),t=this.getSelectedDateRange(),r=Ember.get(this,"dateFilter"),i=Ember.get(this,"defaultExportStatus"),c=Ember.get(this,"data.ticketFilters")||[],o=Ember.get(this,"data.viewName"),a=t.startDate.locale("en").utc().format(),n=t.endDate.locale("en").utc().format(),m=this.getFieldsInFormat("ticketFields"),l=this.getFieldsInFormat("contactFields"),d=this.getFieldsInFormat("companyFields");if(Ember.isEmpty(Object.keys(m)))Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("tickets.export.validation.ticketField"));else{this.cacheSelectedFields(m,l,d),l=Ember.get(this,"isExportCustomer")?l:{},d=Ember.get(this,"isExportCustomer")?d:{};var u={format:e,dateFilter:r,ticketStateFilter:i,queryHash:c,startDate:a,endDate:n,ticketFields:m,contactFields:l,companyFields:d};"monitored_by"==o&&(u.filterName="monitored_by");var h=(0,s.default)(u);Ember.get(this,"store").peekAll("ticket").objectAt(0).exportCsv(h).then(this._exportCB.bind(this),this._exportRejectCB.bind(this))}this.sendAction("close")}},_preLoadCallback:function(){this.isDestroyed||this.isDestroying||Ember.set(this,"hasFieldsLoaded",!0)},_exportCB:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("tickets.export.success")),this.sendAction("close")},_exportRejectCB:function(e){e.errors.length>0&&Ember.get(this,"flashMessages").danger(e.errors[0].message)},_archiveExportCB:function(){Ember.get(this,"flashMessages").success(Ember.get(this,"i18n").t("tickets.export.success"))},_archiveExportRejectCB:function(e,t,s){switch(e){case 429:Ember.get(this,"flashMessages").danger(Ember.get(this,"i18n").t("fd.rate-limit.export_ticket_limit_reached"));break;default:s.errors.length>0&&Ember.get(this,"flashMessages").danger(s.errors[0].message)}},calculateCheckedCount:function(e){var t=Ember.get(this,e),s=0,r=!0;return t.forEach(function(e){Ember.get(e,"isChecked")?s++:r=!1,Ember.get(e,"nestedTicketFields")&&Ember.get(e,"nestedTicketFields").forEach(function(e){Ember.get(e,"isChecked")?s++:r=!1})}),r?Ember.get(this,"i18n").t("tickets.export.count.selected.all"):s},selectItems:function(e,t){e.forEach(function(e){t.includes(Ember.get(e,"name"))&&Ember.set(e,"isChecked",!0)})},selectCachedItems:function(e,t){var s=Ember.get(this,"exportCache"),r=t in s?this.getCachedField(s,t):[];e.forEach(function(e){"custom_paragraph"!==Ember.get(e,"type")&&Ember.set(e,"isChecked",r.includes(Ember.get(e,"name")));var t=Ember.get(e,"nestedTicketFields");t&&t.forEach(function(e){Ember.set(e,"isChecked",r.includes(Ember.get(e,"name")))})})},getCachedField:function(e,t){return e[t]},getFieldsInFormat:function(e){var t=this,s=Ember.get(this,e),r={};return r.custom_fields={},s.forEach(function(e){var s=Ember.get(e,"default");Ember.get(e,"isChecked")&&(s?r[Ember.get(e,"name")]=Ember.get(t,"i18n").t(Ember.get(e,"label")):r.custom_fields[Ember.get(e,"name")]=Ember.get(e,"label"));var i=Ember.get(e,"nestedTicketFields");i&&i.forEach(function(e){Ember.get(e,"isChecked")&&(s?r[Ember.get(e,"name")]=Ember.get(e,"label"):r.custom_fields[Ember.get(e,"name")]=Ember.get(e,"label"))})}),r},cacheSelectedFields:function(e,t,s){var i={};i.ticketFields=[].concat(r(Object.keys(e)),r(Object.keys(e.custom_fields))),i.contactFields=[].concat(r(Object.keys(t)),r(Object.keys(t.custom_fields))),i.companyFields=[].concat(r(Object.keys(s)),r(Object.keys(s.custom_fields))),this.localcache.addToCache("ticket_export_selection",i)},getSelectedDateRange:function(){return Ember.get(this,"selectedDateRange")||{startDate:Ember.get(this,"moment").moment().startOf("day").subtract(30,"days"),endDate:Ember.get(this,"moment").moment().endOf("day")}},_setAccordionProperties:function(e){var t=Ember.get(this,e);return{title:"tickets.export."+e.toLowerCase(),content:t,additionalFields:t.filterBy("type","custom_paragraph"),encryptedFields:t.filterBy("type","encrypted_text"),count:this.calculateCheckedCount(e)}}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-export/export-fields/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({i18n:Ember.inject.service(),currentAccount:Ember.inject.service(),classNames:["__module-tickets__tickets-list__tickets-export__export-fields"],isExportSelectAll:!1,showAdditionalFields:!1,showEncryptedFields:Ember.computed.and("currentAccount.isEncryptionEnabled","encryptedFields"),otherFields:Ember.computed.union("additionalFields","encryptedFields"),primaryFields:Ember.computed.setDiff("exportFields","otherFields"),isTicketFields:Ember.computed(function(){return-1!==Ember.get(this,"title").indexOf("ticketfields")}),init:function(){this._super.apply(this,arguments),this.updateSelectAllCheckbox(Ember.get(this,"primaryFields"))},actions:{checkboxEvent:function(e){var t=Ember.get(e,"isChecked");this.updateCount(t);var i=this.getProperFields();this.updateSelectAllCheckbox(i)},exportSelectAllEvent:function(){var e=this.getProperFields(),t=Ember.get(this,"isExportSelectAll");this.updateCheckedStateForAll(e,t),this.updateCountForSelectAll(e,t)},additionalFieldsAction:function(){this.toggleProperty("showAdditionalFields");var e=this.getProperFields();this.removeCheckedState(Ember.get(this,"additionalFields")),this.updateCountForPrimaryFields(),this.updateSelectAllCheckbox(e)}},countPrimaryCheckedItems:function(){var e=0;return Ember.get(this,"primaryFields").forEach(function(t){Ember.get(t,"isChecked")&&e++,Ember.get(t,"nestedTicketFields")&&Ember.get(t,"nestedTicketFields").forEach(function(t){Ember.get(t,"isChecked")&&e++})}),e},nestedFieldsCount:function(){var e=0;return Ember.get(this,"primaryFields").forEach(function(t){Ember.get(t,"nestedTicketFields")&&(e+=Ember.get(t,"nestedTicketFields").length)}),e},fullCount:function(){return Ember.get(this,"exportFields").length+this.nestedFieldsCount()},countAdditionalCheckedItems:function(){var e=0;return Ember.get(this,"additionalFields").forEach(function(t){t.isChecked&&e++}),e},getProperFields:function(){var e=Ember.get(this,"primaryFields").concat(Ember.get(this,"encryptedFields"));return Ember.get(this,"showAdditionalFields")?Ember.get(this,"exportFields"):e},updateCount:function(e){var t=Ember.get(this,"selectedFieldsCount"),i=t==Ember.get(this,"i18n").t("tickets.export.count.selected.all")?this.fullCount():t;e?parseInt(i)+1==this.fullCount()?Ember.set(this,"selectedFieldsCount",Ember.get(this,"i18n").t("tickets.export.count.selected.all")):Ember.set(this,"selectedFieldsCount",parseInt(i)+1):Ember.set(this,"selectedFieldsCount",parseInt(i)-1)},updateSelectAllCheckbox:function(e){var t=this;Ember.set(this,"isExportSelectAll",!0),e.forEach(function(e){Ember.get(e,"isChecked")||Ember.set(t,"isExportSelectAll",!1),Ember.get(e,"nestedTicketFields")&&Ember.get(e,"nestedTicketFields").forEach(function(e){Ember.get(e,"isChecked")||Ember.set(t,"isExportSelectAll",!1)})})},updateCountForSelectAll:function(e,t){if(t){var i=e.length+this.nestedFieldsCount();Ember.get(this,"exportFields")===e?Ember.set(this,"selectedFieldsCount",Ember.get(this,"i18n").t("tickets.export.count.selected.all")):Ember.set(this,"selectedFieldsCount",i)}else Ember.set(this,"selectedFieldsCount",0)},updateCheckedStateForAll:function(e,t){e.forEach(function(e){Ember.set(e,"isChecked",t),Ember.get(e,"nestedTicketFields")&&Ember.get(e,"nestedTicketFields").forEach(function(e){Ember.set(e,"isChecked",t)})})},removeCheckedState:function(e){e.forEach(function(e){Ember.set(e,"isChecked",!1)})},updateCountForPrimaryFields:function(){var e=this.countPrimaryCheckedItems();Ember.set(this,"selectedFieldsCount",e)}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-export/export-fields/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"1QHQnUwo",block:'{"symbols":["item","item","nestedItem","index","item"],"statements":[[6,"div"],[9,"data-test-export-feilds-container",""],[10,"id",[18,"title"],null],[9,"class","export-fields"],[7],[0,"\\n  "],[6,"div"],[9,"class","options-header text--xsmall"],[7],[0,"\\n    "],[6,"label"],[7],[0,"\\n      "],[1,[25,"ui-form/custom-checkbox",null,[["data-test-id","value","valuePath","label","customClass","labelId","onchange"],["all-fields-checkbox",[20,["isExportSelectAll"]],"select-all",[25,"t",["tickets.export.select_all"],null],"export-select-all",[25,"concat",["select-all","-",[20,["title"]]],null],[25,"action",[[19,0,[]],"exportSelectAllEvent"],null]]]],false],[0,"\\n    "],[8],[0,"\\n"],[4,"if",[[20,["isTicketFields"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"class","select-description-fields"],[9,"data-test-id","include-description-fields"],[10,"onclick",[25,"action",[[19,0,[]],"additionalFieldsAction"],null],null],[7],[0,"\\n"],[4,"if",[[20,["showAdditionalFields"]]],null,{"statements":[[0,"          "],[1,[25,"t",["tickets.export.description.exclude"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[25,"t",["tickets.export.description.include"],null],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n\\n  "],[6,"div"],[9,"class","export-body"],[7],[0,"\\n"],[4,"if",[[20,["showAdditionalFields"]]],null,{"statements":[[4,"each",[[20,["additionalFields"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","export-body__item"],[7],[0,"\\n          "],[1,[25,"ui-form/custom-checkbox",null,[["data-test-id","value","valuePath","label","customClass","labelId","onchange"],[[19,5,["name"]],[19,5,["isChecked"]],[19,5,["name"]],[25,"if",[[19,5,["default"]],[25,"t",[[19,5,["label"]]],null],[19,5,["label"]]],null],"export-checkbox",[25,"concat",[[19,5,["name"]],"-",[20,["title"]]],null],[25,"action",[[19,0,[]],"checkboxEvent",[19,5,[]]],null]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[5]},null],[0,"      "],[6,"br"],[7],[8],[0,"\\n      "],[6,"hr"],[9,"class","horizontal-divider"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[20,["primaryFields"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","export-body__item"],[9,"data-test-export-field-div",""],[7],[0,"\\n\\n        "],[1,[25,"ui-form/custom-checkbox",null,[["data-test-id","value","valuePath","label","customClass","labelId","onchange"],[[19,2,["name"]],[19,2,["isChecked"]],[19,2,["name"]],[25,"if",[[19,2,["default"]],[25,"t",[[19,2,["label"]]],null],[19,2,["label"]]],null],"export-checkbox",[25,"concat",[[19,2,["name"]],"-",[20,["title"]]],null],[25,"action",[[19,0,[]],"checkboxEvent",[19,2,[]]],null]]]],false],[0,"\\n\\n"],[4,"if",[[19,2,["nestedTicketFields"]]],null,{"statements":[[4,"each",[[19,2,["nestedTicketFields"]]],null,{"statements":[[0,"            "],[6,"br"],[7],[8],[0,"\\n"],[4,"if",[[25,"eq",[[19,4,[]],0],null]],null,{"statements":[[0,"              "],[6,"p"],[9,"class","dotted-tree-first"],[7],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"p"],[9,"class","dotted-tree-others"],[7],[8],[0,"\\n"]],"parameters":[]}],[0,"            "],[1,[25,"ui-form/custom-checkbox",null,[["data-test-id","value","valuePath","label","customClass","labelId","onchange"],[[19,3,["name"]],[19,3,["isChecked"]],[19,3,["name"]],[25,"if",[[19,3,["default"]],[25,"t",[[19,3,["label"]]],null],[19,3,["label"]]],null],"export-checkbox nested-checkbox",[25,"concat",[[19,3,["name"]],"-nf-",[20,["title"]]],null],[25,"action",[[19,0,[]],"checkboxEvent",[19,3,[]]],null]]]],false],[0,"\\n"]],"parameters":[3,4]},null]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[2]},null],[4,"if",[[20,["showEncryptedFields"]]],null,{"statements":[[0,"      "],[6,"hr"],[9,"class","horizontal-divider"],[7],[8],[0,"\\n      "],[6,"div"],[9,"class","encrypted-title"],[7],[0,"\\n        "],[1,[25,"svg-jar",["encrypted"],[["aria-label","class"],[[25,"t",["fd.encrypted"],null],"app-icon vertical-align"]]],false],[0,"\\n        "],[6,"span"],[9,"class","vertical-align text--semibold"],[7],[0,"\\n          "],[1,[25,"t",["tickets.export.encryptedfields"],null],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"],[4,"each",[[20,["encryptedFields"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"class","export-body__item"],[7],[0,"\\n          "],[1,[25,"ui-form/custom-checkbox",null,[["data-test-id","value","valuePath","label","customClass","labelId","onchange"],[[19,1,["name"]],[19,1,["isChecked"]],[19,1,["name"]],[25,"if",[[19,1,["default"]],[25,"t",[[19,1,["label"]]],null],[19,1,["label"]]],null],"export-checkbox",[25,"concat",[[19,1,["name"]],"-",[20,["title"]]],null],[25,"action",[[19,0,[]],"checkboxEvent",[19,1,[]]],null]]]],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[6,"div"],[9,"class","encrypted-info text--xsmall"],[7],[0,"\\n        "],[1,[25,"t",["tickets.export.sensitiveinfo"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-export/export-fields/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-export/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"8sZwVr+t",block:'{"symbols":["item","accordion","isExpanded","dropdown","option"],"statements":[[6,"div"],[9,"class","modal-header"],[7],[0,"\\n  "],[6,"h4"],[9,"class","modal-title text--xlarge text--semibold"],[7],[0,"\\n    "],[1,[25,"svg-jar",["export"],[["class"],["modal-icons app-icon--xlarge"]]],false],[0,"\\n"],[4,"if",[[20,["archivedExportTitle"]]],null,{"statements":[[0,"      "],[1,[25,"t",["tickets.archiveExport"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[25,"t",["tickets.export"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[8],[0,"\\n"],[8],[0,"\\n"],[4,"if",[[20,["hasFieldsLoaded"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","export-content"],[7],[0,"\\n    "],[6,"div"],[9,"class","filter-group"],[7],[0,"\\n      "],[6,"span"],[9,"class","muted text--small filter-group__as"],[7],[1,[25,"t",["tickets.export.as"],null],false],[0,":"],[8],[0,"\\n      "],[6,"div"],[9,"class","export-as-radioBtn"],[7],[0,"\\n        "],[1,[25,"ui-form/custom-radio-group",null,[["options","valuePath","customClass","onChange"],[[20,["radioOptions"]],"exportformat","radio-group",[25,"action",[[19,0,[]],"exportFormat"],null]]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n"],[4,"unless",[[20,["hideTicketFilterBy"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","filter-group"],[7],[0,"\\n        "],[6,"span"],[9,"class","muted text--small filter-group__by"],[7],[1,[25,"t",["tickets.export.filterby"],null],false],[0,": "],[8],[0,"\\n\\n        "],[6,"div"],[9,"class","dropdown-inline"],[9,"data-test-id","dropdown-status"],[7],[0,"\\n"],[4,"basic-dropdown",null,[["renderInPlace"],[true]],{"statements":[[4,"component",[[19,4,["trigger"]]],[["class"],["dd-trigger-status"]],{"statements":[[0,"              "],[1,[25,"truncate",[[25,"t",[[20,["labelForStatus"]]],null],15,true],null],false],[0,"\\n              "],[6,"span"],[10,"class",[25,"if",[[19,4,["isOpen"]],"open-state"],null],null],[7],[0,"\\n                "],[1,[25,"svg-jar",["downarrow"],[["class"],["app-icon app-icon--verysmall down-arrow"]]],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,4,["content"]]],[["class"],["dd-content-status"]],{"statements":[[0,"              "],[6,"div"],[9,"class","app-custom-dropdown"],[7],[0,"\\n"],[4,"each",[[20,["ticketStatusOptions"]]],null,{"statements":[[0,"                  "],[6,"div"],[10,"class",[26,["app-custom-dropdown__option ",[25,"if",[[25,"eq",[[20,["labelForStatus"]],[19,5,["label"]]],null],"selected"],null]]]],[10,"onclick",[25,"action",[[19,0,[]],"onChangeStatus",[19,4,[]],[19,5,[]]],null],null],[7],[0,"\\n                    "],[1,[25,"t",[[19,5,["label"]]],null],false],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[5]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[4]},null],[0,"        "],[8],[0,"\\n        "],[6,"div"],[9,"class","seperator muted"],[7],[0," | "],[8],[0,"\\n        "],[6,"div"],[9,"class","dropdown-inline"],[9,"data-test-id","dropdown-time-range"],[7],[0,"\\n          "],[1,[25,"ui-components/date-dropdown",null,[["selectedId","optionsList","onDateChange"],[[20,["defaultTimeSpan"]],[20,["timePeriodOptions"]],"onDateChange"]]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"ui-components/basic-accordion",null,[["items","openMultiple"],[[20,["accordionItems"]],true]],{"statements":[[4,"component",[[19,2,["trigger"]]],null,{"statements":[[0,"        "],[6,"div"],[9,"data-test-export-feilds-title",""],[9,"class","accordion-heading"],[7],[0,"\\n          "],[6,"div"],[9,"class","accordion-title"],[7],[0,"\\n            "],[6,"div"],[9,"class","title-block"],[7],[0,"\\n              "],[6,"span"],[9,"class","text--semibold"],[7],[0,"\\n                "],[1,[25,"t",[[19,1,["title"]]],null],false],[0,"\\n              "],[8],[0,"\\n"],[4,"if",[[25,"and",[[25,"eq",[[19,1,["count"]],0],null],[25,"eq",[[19,1,["title"]],"tickets.export.ticketfields"],null]],null]],null,{"statements":[[0,"                "],[6,"span"],[9,"class","required-field"],[7],[0,"*"],[8],[0,"\\n                "],[6,"div"],[9,"class","text__infotext"],[7],[0,"\\n                  "],[1,[25,"t",["tickets.export.validation.ticketField"],null],false],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n            "],[6,"div"],[10,"class",[26,["fields-selected text__infotext ",[25,"if",[[25,"and",[[25,"eq",[[19,1,["count"]],0],null],[25,"eq",[[19,1,["title"]],"tickets.export.ticketfields"],null]],null],"required-fields-count"],null]]]],[7],[0,"\\n              "],[6,"span"],[9,"data-test-id","field-count"],[9,"class","text--xsmall muted"],[7],[0,"\\n                "],[1,[25,"t",["tickets.export.count.selected"],[["count"],[[19,1,["count"]]]]],false],[0,"\\n              "],[8],[0,"\\n              "],[6,"span"],[10,"class",[26,["arrow-icon ",[25,"if",[[19,3,[]],"expand-item"],null]]]],[7],[0,"\\n                "],[1,[25,"svg-jar",["rightbullet"],[["class"],["app-icon app-icon--verysmall accordion-right-bullet"]]],false],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[3]},null],[4,"component",[[19,2,["content"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/tickets-list/tickets-export/export-fields",null,[["title","exportFields","additionalFields","encryptedFields","selectedFieldsCount"],[[19,1,["title"]],[19,1,["content"]],[19,1,["additionalFields"]],[19,1,["encryptedFields"]],[19,1,["count"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[1,2]},null],[0,"    \\n    "],[6,"div"],[9,"class","modal-footer form_submission"],[7],[0,"\\n      "],[6,"button"],[9,"data-test-id","export-cancel"],[9,"type","button"],[9,"name","button"],[10,"onclick",[25,"action",[[19,0,[]],[20,["close"]]],null],null],[9,"class","btn btn--secondary"],[7],[0,"\\n        "],[1,[25,"t",["filter.cancel"],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[20,["archiveExportAction"]]],null,{"statements":[[0,"        "],[6,"button"],[9,"data-test-id","export"],[9,"type","button"],[10,"onclick",[25,"action",[[19,0,[]],"archiveExport"],null],null],[9,"class","btn btn--primary"],[10,"disabled",[18,"isInvalidExport"],null],[7],[0,"\\n          "],[1,[25,"t",["fd.export"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"button"],[9,"data-test-id","export"],[9,"type","button"],[10,"onclick",[25,"action",[[19,0,[]],"export"],null],null],[9,"class","btn btn--primary"],[10,"disabled",[18,"isInvalidExport"],null],[7],[0,"\\n          "],[1,[25,"t",["fd.export"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]}],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[1,[18,"ui-components/module-loading"],false],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-export/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/autorefresh/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:""})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/autorefresh/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"U+9Rrjg+",block:'{"symbols":[],"statements":[[4,"if",[[20,["row","needsRefresh"]]],null,{"statements":[[0,"  "],[1,[25,"svg-jar",["autorefresh"],[["class"],["app-icon--small app-icon--grey list-auto-refresh-icon"]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/autorefresh/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/cell-renderer/component",["exports","freshdesk/mixins/tickets/ticket-update"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend(t.default,{ticketFields:Ember.inject.service(),classNames:["hcell-template","__module-tickets__tickets-list__tickets-table__cell-renderer"],attributeBindings:["data-test-id"],isRequester:Ember.computed.equal("column.valuePath","customer"),isSubject:Ember.computed.equal("column.valuePath","subject"),isAssignTo:Ember.computed.equal("column.fieldtype","assignto"),isStatus:Ember.computed.equal("column.valuePath","statusTranslatedLabel"),isPriority:Ember.computed.equal("column.valuePath","priority"),isRequesterRespondedAt:Ember.computed.equal("column.valuePath","stats.requesterRespondedAt"),isFrDueBy:Ember.computed.equal("column.valuePath","frDueBy"),showFrDueBy:Ember.computed.and("isFrDueBy","ticket.frDueBy"),isDueBy:Ember.computed.equal("column.valuePath","dueBy"),showDueBy:Ember.computed.and("isDueBy","ticket.dueBy"),isTag:Ember.computed.equal("column.valuePath","tags"),ticket:Ember.computed.reads("row.content"),format:Ember.computed.reads("currentAccount.timeFormat.date"),now:moment().valueOf(),firstResponseOverdue:Ember.computed.reads("ticket.frEscalated"),dueByOverdue:Ember.computed.reads("ticket.isEscalated"),"data-test-id":Ember.computed("column.valuePath",function(){return Ember.get(this,"column.valuePath")+"_test_label"}),ticketTypeLabel:Ember.computed("column.valuePath",function(){var e=Ember.get(this,"column.name"),t=Ember.get(this,"ticketFields.translatedChoiceMap")[e],u=t||{},s=u.choices,a=Ember.get(this,"value"),r=void 0;return Ember.isPresent(s)&&Ember.isPresent(s[a])&&(r=s[a].label),r||a})})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/cell-renderer/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"FFv3u2VW",block:'{"symbols":["status"],"statements":[[4,"if",[[20,["isRequester"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","avatar-info-cell"],[7],[0,"\\n    "],[6,"div"],[9,"class","avatar-image"],[7],[0,"\\n      "],[1,[25,"app-components/avatar-user",null,[["user"],[[20,["row","requester"]]]]],false],[0,"\\n    "],[8],[0,"\\n    "],[1,[25,"app-components/contact-popover",null,[["user","class","data-test-id"],[[20,["row","requester"]],"avatar-text text__content","table-view-contact"]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isSubject"]]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/tickets-list/tickets-table/ticket-subject-popover",null,[["ticket","class"],[[20,["row","content"]],"pr-12"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isAssignTo"]]],null,{"statements":[[4,"ui-components/hover-lazy-loader",null,[["class","data-test-id","enableComponentRender"],["group-agent","assign-to-hover",[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]]],{"statements":[[0,"    "],[1,[25,"app-components/assign-to",null,[["agentRequired","groupRequired","groupValue","agentValue","agentList","groupList","onSave"],[[20,["agentRequired"]],[20,["groupRequired"]],[20,["groupValue"]],[20,["agentValue"]],[20,["allAgents"]],[20,["allGroups"]],[25,"action",[[19,0,[]],"onSaveAgentAndGroup"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"data-test-assignto-trigger",""],[9,"class","assign-to-label"],[7],[0,"\\n      "],[6,"div"],[9,"class","assign-to-label-text"],[7],[0,"\\n        "],[1,[25,"ellipsis-text",[[25,"fill-default",[[20,["ticket","group","name"]],"--"],null]],null],false],[0," /\\n        "],[1,[25,"ellipsis-text",[[25,"fill-default",[[20,["ticket","responder","contact","name"]],"--"],null]],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","ember-power-select-status-icon"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isStatus"]]],null,{"statements":[[4,"ui-components/hover-lazy-loader",null,[["class","data-test-id","enableComponentRender"],["status-select","status-hover",[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]]],{"statements":[[0,"    "],[6,"div"],[10,"aria-label",[25,"t",["tickets.status"],null],null],[9,"class","ticket-list-dropselect dropdown-status hint hint--left"],[9,"data-test-id","dropdown-status"],[10,"data-test-div",[26,["dropdown-status-",[20,["ticket","id"]]]]],[7],[0,"\\n"],[4,"power-select",null,[["selected","options","searchField","searchEnabled","onchange"],[[20,["ticket","statusChoice"]],[20,["ticketFields","statusChoices"]],"translatedLabel",[20,["showSearchInStatus"]],[25,"action",[[19,0,[]],"chooseStatus"],null]]],{"statements":[[0,"        "],[1,[19,1,["translatedLabel"]],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"div"],[9,"class","pull-left list-filter__label"],[10,"aria-label",[25,"t",["tickets.status"],null],null],[7],[0,"\\n      "],[1,[20,["ticket","statusTranslatedLabel"]],false],[0,"\\n"],[4,"if",[[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","ember-power-select-status-icon"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isPriority"]]],null,{"statements":[[4,"ui-components/hover-lazy-loader",null,[["class","data-test-id","enableComponentRender"],["priority","priority-hover",[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]]],{"statements":[[0,"    "],[1,[25,"module-tickets/shared/priority-dropdown",null,[["priority","saveAction","updatePromise","additionalClasses","isPropEditDisabled"],[[20,["ticket","priority"]],[25,"action",[[19,0,[]],"choosePriority"],null],[20,["priorityPromise"]],"ticket-list-dropselect",false]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"module-tickets/shared/priority-dropdown",null,[["priority","isPropEditDisabled"],[[20,["ticket","priority"]],true]]],false],[0,"\\n"],[4,"if",[[25,"and",[[25,"not",[[20,["extra","isPropEditDisabled"]]],null],[25,"hasabilities",["edit_ticket_properties"],null],[20,["ticket","isActionable"]]],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","ember-power-select-status-icon priority-icon"],[7],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["showFrDueBy"]]],null,{"statements":[[4,"if",[[25,"not",[[20,["ticket","stats","firstRespondedAt"]]],null]],null,{"statements":[[0,"    "],[6,"span"],[10,"class",[25,"if",[[20,["firstResponseOverdue"]],"text--red","text--muted"],null],null],[7],[0,"\\n      "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["ticket","frDueBy"]]]]],false],[0,"\\n    "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[20,["showDueBy"]]],null,{"statements":[[0,"  "],[6,"span"],[10,"class",[25,"if",[[20,["dueByOverdue"]],"text--red","text--muted"],null],null],[7],[0,"\\n    "],[1,[25,"ui-components/time-ago",null,[["dateTime"],[[20,["ticket","dueBy"]]]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["isRequesterRespondedAt"]]],null,{"statements":[[4,"if",[[20,["ticket","stats","requesterRespondedAt"]]],null,{"statements":[[0,"    "],[1,[25,"moment-from-now",[[20,["ticket","stats","requesterRespondedAt"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"span"],[9,"class","inactive"],[7],[0,"- -"],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isTag"]]],null,{"statements":[[4,"if",[[20,["ticket","tags"]]],null,{"statements":[[0,"    "],[1,[25,"ui-components/list-with-show-more",null,[["data"],[[20,["ticket","tags"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[6,"span"],[9,"class","inactive"],[7],[0,"- -"],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[25,"eq",[[20,["column","fieldtype"]],"custom_date"],null]],null,{"statements":[[0,"  "],[1,[25,"moment-format",[[20,["value"]],[20,["format"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[25,"eq",[[20,["column","valuePath"]],"type"],null],[20,["ticketTypeLabel"]]],null]],null,{"statements":[[0,"  "],[1,[18,"ticketTypeLabel"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["value"]]],null,{"statements":[[0,"  "],[1,[18,"value"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"span"],[9,"class","inactive"],[7],[0,"- -"],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[4,"if",[[20,["showValidationDialog"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","size","closeOnEscapse"],[[25,"toggle-action",["showValidationDialog",[19,0,[]]],null],true,"medium",true]],{"statements":[[0,"    "],[1,[25,"module-tickets/tickets-list/shared/close-validation",null,[["tickets","assignedStatus","onclose"],[[20,["selectedRecord"]],[20,["assignedStatus"]],[25,"toggle-action",["showValidationDialog",[19,0,[]]],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/cell-renderer/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-add/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["__module-tickets__tickets-list__tickets-table__columns-chooser__column-add"]})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-add/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"2WuCa+Tr",block:'{"symbols":["col"],"statements":[[4,"each",[[20,["columnsSearchList"]]],null,{"statements":[[0,"  "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser/column-item",null,[["col","addColumns","isAdd"],[[19,1,[]],[20,["addColumns"]],true]]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-add/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-item/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["column-item","__module-tickets__tickets-list__tickets-table__columns-chooser__column-item"],isAdd:!1,actions:{removeColumn:function(e){var t=Ember.get(this,"removeColumn");t&&t(e)},addColumns:function(e){var t=Ember.get(this,"addColumns");t&&t(e)}}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-item/template",["exports"],function(l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=Ember.HTMLBars.template({id:"UCcFp5Mw",block:'{"symbols":[],"statements":[[4,"if",[[20,["isAdd"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","col col-add"],[10,"onclick",[25,"action",[[19,0,[]],"addColumns",[20,["col"]]],null],null],[7],[0,"\\n    "],[6,"span"],[9,"class","col-add"],[10,"data-test-id",[20,["col","label"]],null],[7],[1,[25,"svg-jar",["add"],[["class"],["app-icon app-icon--dark back app-icon--small"]]],false],[8],[0,"\\n    "],[6,"span"],[9,"class","col-label"],[7],[1,[20,["col","label"]],false],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[9,"class","col"],[7],[0,"\\n    "],[6,"span"],[9,"class","col-remove"],[10,"data-test-id",[20,["col","label"]],null],[10,"onclick",[25,"action",[[19,0,[]],"removeColumn",[20,["col"]]],null],null],[7],[0,"\\n      "],[1,[25,"svg-jar",["remove"],[["class"],["app-icon app-icon--dark back app-icon--small"]]],false],[0,"\\n    "],[8],[0,"\\n    "],[6,"span"],[9,"class","col-label"],[7],[1,[20,["col","label"]],false],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"span"],[9,"class","drag-thumb"],[7],[1,[25,"svg-jar",["rearrange"],[["class"],["app-icon app-icon--lightgray app-icon--small"]]],false],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-item/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-rearrange/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["columns-dynamic"],actions:{reorderItems:function(e){var t=Ember.get(this,"sortEndAction");t&&t(e)}}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-rearrange/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"2u0bIRNY",block:'{"symbols":["group","col"],"statements":[[6,"div"],[9,"class","sidebar__title dynamic-title text--semibold"],[7],[1,[25,"t",["fd.columns.included"],null],false],[8],[0,"\\n"],[4,"sortable-group",null,[["tagName","onChange"],["div","reorderItems"]],{"statements":[[4,"each",[[20,["dynamicCol"]]],null,{"statements":[[4,"sortable-item",null,[["tagName","model","group","handle","spacing"],["div",[19,2,[]],[19,1,[]],".column-item",1]],{"statements":[[0,"      "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser/column-item",null,[["col","removeColumn"],[[19,2,[]],[20,["removeColumn"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/column-rearrange/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({currentAccount:Ember.inject.service(),classNames:["__module-tickets__tickets-list__tickets-table__columns-chooser"],disableApply:!0,staticCol:Ember.computed.filter("staticColumns",function(e){return!Ember.isEmpty(e.label)}),columnsSearchList:Ember.computed("allColumns","dynamicCol.[]",function(){var e=Ember.get(this,"allColumns"),t=Ember.get(this,"dynamicCol"),n=Ember.get(this,"staticCol"),i=[].concat(t,n);return e.filter(function(e){return!(!e.nestedList&&!e.valuePath)&&!i.find(function(t){return e.nestedList?!!t.nestedList&&e.nestedList.join("/")===t.nestedList.join("/"):!Ember.isEmpty(e.valuePath)&&e.valuePath===t.valuePath})})}),hasCustomizeTableView:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("customizeTableView")}),actions:{cancel:function(e){e.actions.close()},sortEndAction:function(e){Ember.set(this,"dynamicCol",e),this.makeDirty()},apply:function(e){var t=Ember.get(this,"apply");e.actions.close(),t&&t(Ember.get(this,"dynamicCol"))},removeColumn:function(e){Ember.get(this,"dynamicCol").removeObject(e),this.makeDirty()},onOpen:function(e){Ember.setProperties(this,{dynamicCol:[].concat(Ember.get(this,"dynamicColumns")),disableApply:!0,dropdown:e})},onColumnsAdd:function(e){Ember.get(this,"dynamicCol").addObject(e),this.makeDirty()}},makeDirty:function(){Ember.set(this,"disableApply",!1)}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/search/component",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=Ember.Component.extend({classNames:["search-new"],didInsertElement:function(){this._super.apply(this,arguments),this.focusInput()},actions:{chooseOption:function(t){var n=Ember.get(this,"addColumns"),r=e(t,1),o=r[0];n&&n(o),this.focusInput()}},focusInput:function(){var t=this.$(".ember-power-select-trigger-multiple-input");e(t,1)[0].focus()}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/search/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"3ZEqr/vA",block:'{"symbols":["column"],"statements":[[4,"power-select-multiple",null,[["options","renderInPlace","verticalPosition","placeholder","searchEnabled","triggerClass","noMatchesMessage","searchField","onchange"],[[20,["columnsSearchList"]],true,"below",[25,"t",["fd.addcolumns"],null],true,"search-trigger",[25,"t",["fd.nocolumns"],null],"label",[25,"action",[[19,0,[]],"chooseOption"],null]]],{"statements":[[0,"  "],[1,[19,1,["label"]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/search/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"JkFw+4M+",block:'{"symbols":["dropdown","col"],"statements":[[4,"if",[[20,["hasCustomizeTableView"]]],null,{"statements":[[4,"basic-dropdown",null,[["class","onOpen","horizontalPosition","renderInPlace"],["columns_chooser app-dropdown-group pull-left",[25,"action",[[19,0,[]],"onOpen",[20,["dropdown"]]],null],"auto",true]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"      "],[6,"span"],[9,"data-test-id","trigger"],[10,"aria-label",[25,"t",["fd.editcolumns"],null],null],[9,"class","hint--top"],[7],[0,"\\n        "],[6,"div"],[9,"class","trigger"],[7],[0,"\\n          "],[6,"div"],[9,"class","add-icon"],[7],[0,"\\n            "],[1,[25,"svg-jar",["edit-new"],[["class"],["app-icon app-icon--dark back app-icon--small"]]],false],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"      "],[6,"div"],[9,"class","content"],[7],[0,"\\n        "],[6,"div"],[9,"class","columns"],[7],[0,"\\n          "],[6,"div"],[9,"class","sidebar__title columns-title text--semibold"],[7],[1,[25,"t",["fd.columns.default"],null],false],[8],[0,"\\n          "],[6,"div"],[9,"class","columns-static"],[9,"data-test-id","columns-static"],[7],[0,"\\n"],[4,"each",[[20,["staticCol"]]],null,{"statements":[[0,"              "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser/column-item",null,[["col"],[[19,2,[]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"          "],[8],[0,"\\n          "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser/column-rearrange",null,[["sortEndAction","dynamicCol","removeColumn"],[[25,"action",[[19,0,[]],"sortEndAction"],null],[20,["dynamicCol"]],[25,"action",[[19,0,[]],"removeColumn"],null]]]],false],[0,"\\n"],[4,"if",[[25,"gt",[[20,["columnsSearchList","length"]],0],null]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","columns-add"],[9,"data-test-id","columns-add"],[7],[0,"\\n              "],[6,"div"],[9,"class","sidebar__title columns-title text--semibold"],[7],[1,[25,"t",["fd.columns.excluded"],null],false],[8],[0,"\\n              "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser/column-add",null,[["columnsSearchList","addColumns"],[[20,["columnsSearchList"]],[25,"action",[[19,0,[]],"onColumnsAdd"],null]]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n        "],[6,"div"],[9,"class","footer"],[7],[0,"\\n          "],[6,"div"],[9,"class","buttons pull-right"],[7],[0,"\\n            "],[6,"button"],[9,"type","button"],[9,"name","button"],[10,"onclick",[25,"action",[[19,0,[]],"cancel",[19,1,[]]],null],null],[9,"class","btn btn--secondary"],[7],[0,"\\n              "],[1,[25,"t",["form.cancel"],null],false],[0,"\\n            "],[8],[0,"\\n            "],[6,"button"],[9,"type","button"],[9,"name","button"],[10,"onclick",[25,"action",[[19,0,[]],"apply",[19,1,[]]],null],null],[10,"disabled",[18,"disableApply"],null],[9,"class","btn btn--primary"],[7],[0,"\\n              "],[1,[25,"t",["fd.apply"],null],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/columns-chooser/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/component",["exports","freshdesk/mixins/shortcuts/ticket-list/ticket-table"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=Ember.Component.extend(t.default,{classNames:["fresh-table","__module-tickets__tickets-list__tickets-table"],classNameBindings:["isLoading:list-loading","isTableView:ticket-list-table-view"],listRows:Ember.computed.reads("ticketTable.rows"),upperBound:Ember.computed.reads("listRows.length"),extra:Ember.computed("isBulkOperationPending","currentIndex","currentFilterId",function(){var e="ongoing_collab"===Ember.get(this,"currentFilterId");return{isRowLoading:Ember.get(this,"isBulkOperationPending"),currentRow:Ember.get(this,"currentRow"),removeCheckBox:e,isPropEditDisabled:e}}),showPagination:Ember.computed("count","perPage",function(){var e=Ember.getProperties(this,"count","perPage");return e.count>e.perPage}),currentIndex:Ember.computed("listRows",{get:function(){return 0},set:function(e,t){var r=Ember.get(this,"upperBound")-1;return Math.min(r,Math.max(0,t))}}),currentRow:Ember.computed("currentIndex",function(){var e=Ember.get(this,"currentIndex");return Ember.get(this,"listRows").objectAt(e)}),selectRow:function(e){e.toggleProperty("selected")},executeRow:function(){}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/custom-field/component",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({currentAccount:Ember.inject.service(),ticketFields:Ember.inject.service(),classNames:["hcell-template"],attributeBindings:["data-test-id"],"data-test-id":Ember.computed("column.fieldtype",function(){return Ember.get(this,"column.fieldtype")+"_test_label"}),isDateField:Ember.computed(function(){var e=Ember.get(this,"column.fieldtype");return"custom_date"===e||"custom_date_time"===e}),format:Ember.computed("currentAccount.timeFormat",function(){return"custom_date_time"===Ember.get(this,"column.fieldtype")?Ember.get(this,"currentAccount.timeFormat.calendarDateTime"):Ember.get(this,"currentAccount.timeFormat.date")}),isBool:Ember.computed("value",function(){return"boolean"==typeof Ember.get(this,"value")}),customDropdownLabels:Ember.computed("column.valuePath",function(){var e=Ember.get(this,"column.valuePath"),t=Ember.get(this,"ticketFields.translatedChoiceMap")[e],r=t||{},i=r.choices,n=Ember.get(this,"row."+e),c=void 0;return Ember.isPresent(i)&&Ember.isPresent(i[n])&&(c=i[n].label),c||n}),nestedListLabels:Ember.computed("column.nestedList",function(){var e=this,t=Ember.get(this,"column.nestedList"),r=Ember.get(this,"ticketFields.translatedChoiceMap")[t[0]],i=r||{},n=i.choices;return t.map(function(t){var r=Ember.get(e,"row."+t);if(Ember.isPresent(n)&&Ember.isPresent(n[r])){var i=n[r];return n=i.choices,i.label}return r})})})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/custom-field/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"F7LxCzHd",block:'{"symbols":["column","index"],"statements":[[4,"if",[[20,["isBool"]]],null,{"statements":[[4,"if",[[20,["value"]]],null,{"statements":[[0,"    "],[1,[25,"t",["fd.yes"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[25,"t",["fd.no"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[20,["isDateField"]]],null,{"statements":[[0,"  "],[1,[25,"moment-format",[[20,["value"]],[20,["format"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["column","nestedList"]]],null,{"statements":[[4,"each",[[20,["nestedListLabels"]]],null,{"statements":[[4,"if",[[19,1,[]]],null,{"statements":[[0,"      "],[1,[19,1,[]],false],[0,"\\n"],[4,"if",[[25,"lt",[[19,2,[]],[25,"sub",[[20,["nestedListLabels","length"]],1],null]],null]],null,{"statements":[[0,"        /\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"lt",[[19,2,[]],[25,"sub",[[20,["nestedListLabels","length"]],1],null]],null]],null,{"statements":[[0,"        "],[6,"span"],[9,"class","inactive"],[7],[0,"- -/"],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"span"],[9,"class","inactive"],[7],[0,"- -"],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[1,2]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[25,"eq",[[20,["column","fieldtype"]],"custom_dropdown"],null],[20,["customDropdownLabels"]]],null]],null,{"statements":[[0,"  "],[1,[18,"customDropdownLabels"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["value"]]],null,{"statements":[[0,"  "],[1,[18,"value"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"span"],[9,"class","inactive"],[7],[0,"- -"],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/custom-field/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/no-record/component",["exports","freshdesk/utils/blank-array"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["empty-results"],queryHash:(0,t.default)()})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/no-record/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"h3XEwQPA",block:'{"symbols":[],"statements":[[1,[25,"svg-jar",["empty-tickets-list"],[["class"],["app-icon"]]],false],[0,"\\n"],[6,"div"],[9,"class","text--semibold text--xlarge mt-6"],[7],[0,"\\n  "],[1,[25,"t",["tickets.list.empty.title"],null],false],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","text__infotext mt-3"],[7],[0,"\\n  "],[1,[25,"t",["tickets.list.empty.info"],null],false],[0,"\\n"],[8],[0,"\\n"],[6,"div"],[9,"class","text--semibold mt-6"],[7],[0,"\\n"],[4,"link-to",["helpdesk.tickets.filters.show","all_tickets",[25,"query-params",null,[["page","queryHash"],[1,[20,["queryHash"]]]]]],null,{"statements":[[0,"    "],[1,[25,"t",["tickets.viewalltickets"],null],false],[0,"\\n"]],"parameters":[]},null],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/no-record/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"OxwKzEEL",block:'{"symbols":["table","columns","table","columns"],"statements":[[4,"if",[[20,["isTableView"]]],null,{"statements":[[4,"if",[[25,"not",[[20,["ticketTable","isEmpty"]]],null]],null,{"statements":[[4,"light-table",[[20,["ticketTable"]]],null,{"statements":[[0,"      "],[1,[25,"component",[[19,3,["head"]]],[["class"],["table-header"]]],false],[0,"\\n      "],[1,[25,"component",[[19,3,["body"]]],[["class","extra","rowComponent","canSelect","selectOnClick","multiSelect"],["list",[20,["extra"]],[25,"component",["module-tickets/tickets-list/tickets-table/ticket-row"],null],false,false,true]]],false],[0,"\\n"],[4,"if",[[20,["showPagination"]]],null,{"statements":[[4,"component",[[19,3,["foot"]]],null,{"statements":[[0,"          "],[6,"tr"],[9,"class","tickets__pagination"],[7],[0,"\\n            "],[6,"td"],[10,"colspan",[19,4,["length"]],null],[7],[0,"\\n              "],[1,[25,"ui-components/fresh-pagination",null,[["pageBasedType","count","perPage","page","isLoading"],[true,[20,["count"]],[20,["perPage"]],[20,["page"]],[20,["isPageLoading"]]]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[4]},null]],"parameters":[]},null],[4,"if",[[20,["showColumnChooser"]]],null,{"statements":[[0,"        "],[1,[25,"module-tickets/tickets-list/tickets-table/columns-chooser",null,[["staticColumns","dynamicColumns","apply","allColumns"],[[20,["staticColumns"]],[20,["dynamicColumns"]],[20,["onApplyColumnChange"]],[20,["allColumns"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[3]},null]],"parameters":[]},{"statements":[[0,"    "],[1,[18,"module-tickets/tickets-list/tickets-table/no-record"],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"light-table",[[20,["ticketTable"]]],null,{"statements":[[4,"if",[[25,"not",[[20,["ticketTable","isEmpty"]]],null]],null,{"statements":[[0,"      "],[1,[25,"component",[[19,1,["body"]]],[["class","extra","rowComponent","selectOnClick","multiSelect"],["card-view",[20,["extra"]],[25,"component",["ui-components/light-table/marked-row"],null],false,true]]],false],[0,"\\n\\n"],[4,"if",[[20,["showPagination"]]],null,{"statements":[[4,"component",[[19,1,["foot"]]],null,{"statements":[[0,"          "],[6,"tr"],[7],[0,"\\n            "],[6,"td"],[10,"colspan",[19,2,["length"]],null],[7],[0,"\\n              "],[1,[25,"ui-components/fresh-pagination",null,[["pageBasedType","count","perPage","page","isLoading"],[true,[20,["count"]],[20,["perPage"]],[20,["page"]],[20,["isPageLoading"]]]]],false],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[2]},null]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"      "],[1,[18,"module-tickets/tickets-list/tickets-table/no-record"],false],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null]],"parameters":[]}],[1,[25,"interactivity-beacon",null,[["routeInteractive","model"],[true,[20,["ticketTable"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-item/component",["exports","freshdesk/mixins/tickets/ticket-prop-mapping","freshdesk/mixins/tickets/ticket-colors","freshdesk/constants/ticket","freshdesk/mixins/tickets/ticket-update","ember-in-viewport","freshdesk/mixins/tickets/ticket-association-feature"],function(e,t,i,s,r,c,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={fromIndex:6,batchOffset:300,initialOffset:200,batchCount:18},n={fromIndex:6,batchOffset:300,initialOffset:2500,batchCount:3};e.default=Ember.Component.extend(i.default,t.default,r.default,c.default,o.default,{browserChecker:Ember.inject.service(),currentAccount:Ember.inject.service(),currentUser:Ember.inject.service(),classNames:["tickets__list","row-fluid","__module-tickets__tickets-list__tickets-table__ticket-item"],classNameBindings:["isSelected:tickets__list--selected"],priorityPromise:null,statusPromise:null,assigntoPromise:null,isSelected:Ember.computed.reads("row.selected"),ticket:Ember.computed.reads("row.content"),showSearchInStatus:Ember.computed.gt("ticketFields.statusChoices.length",10),companyName:Ember.computed.reads("ticket.company.name"),recentSurvey:Ember.computed.reads("ticket.surveyResult.recentSurvey"),isNotActive:Ember.computed.not("ticket.ticketActive"),source:Ember.computed.reads("ticket.source"),isParentTicket:Ember.computed.equal("ticket.associationType",s.default.associationType.parent),isTrackerTicket:Ember.computed.equal("ticket.associationType",s.default.associationType.tracker),isPrimeTicket:Ember.computed.or("isParentTicket","isTrackerTicket"),isServiceTask:Ember.computed.equal("ticket.type",s.default.serviceTaskType),hasAssociatedTickets:Ember.computed.gt("ticket.associatedTicketsCount",0),displayAssociatesCount:Ember.computed.and("isPrimeTicket","hasAssociatedTickets"),propEditAllowed:Ember.computed("extra.isPropEditDisabled","currentUser.abilities",function(){return!Ember.get(this,"extra.isPropEditDisabled")&&Ember.get(this,"currentUser").hasAbility("edit_ticket_properties")}),deferOptions:Ember.computed(function(){return Ember.get(this,"browserChecker.isExplorer")||Ember.get(this,"browserChecker.isEdge")?n:a}),deferRendering:Ember.computed(function(){var e=Ember.get(this,"row.index");e++;var t=Ember.get(this,"deferOptions"),i=t.batchOffset,s=t.fromIndex,r=t.initialOffset,c=t.batchCount;if(e>s){var o=Math.floor(e/c),a=r+i*o;return Ember.set(this,"deferTime",Math.floor(a)),!0}return!1}),associationType:Ember.computed("ticket.associationType",function(){var e=Ember.get(this,"ticket.associationType");return e?s.default.ticketAssociations[e]:""}),associationData:Ember.computed("isParentTicket","isTrackerTicket","currentAccount.fsmWithNoParentChild",function(){return Ember.get(this,"isParentTicket")?Ember.get(this,"currentAccount.fsmWithNoParentChild")?{label:"tickets.ticket_associations.child_list.service_task.label",action:"associatedServiceTasks"}:{label:"tickets.ticket_associations.child_list.label",action:"associatedTickets"}:Ember.get(this,"isTrackerTicket")?{label:"tickets.ticket_associations.related_list.label",action:"associatedTickets"}:void 0}),viewportOptionsOverride:Ember.on("didInsertElement",function(){Ember.setProperties(this,{viewportSpy:!1,viewportScrollSensitivity:1,viewportTolerance:{top:-110,left:0,bottom:0,right:0}})}),didRender:function(){var e=this;this._super.apply(this,arguments);var t=Ember.get(this,"deferTime");t&&t>0&&(Ember.set(this,"deferTime",0),Ember.run.later(function(){e.isDestroyed||e.isDestroying||Ember.set(e,"deferRendering",!1)},t))},didEnterViewport:function(){Ember.set(this,"deferRendering",!1)},getKeys:function(e){var t=Ember.get(this,"itemData").findBy("name",e);return Ember.get(t,"choices")}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-item/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"yHd78KKV",block:'{"symbols":["property","status","property","property"],"statements":[[4,"if",[[20,["deferRendering"]]],null,{"statements":[[0,"  "],[6,"div"],[9,"class","col-md-9 list-content list-content--main"],[7],[0,"\\n    "],[1,[25,"svg-jar",["ticket-list-item"],[["class"],["placeholder-content-ticketitem"]]],false],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"div"],[10,"class",[26,["col-md-9 list-content list-content--main ",[25,"if",[[20,["isNotActive"]],"list-content--inactive-data"],null],"  ",[25,"if",[[20,["extra","removeCheckBox"]],"no-check-box"],null]]]],[10,"data-test-ticket-content",[20,["ticket","id"]],null],[7],[0,"\\n    "],[6,"div"],[9,"class","list-check-wrap"],[7],[0,"\\n"],[4,"if",[[25,"not",[[20,["extra","removeCheckBox"]]],null]],null,{"statements":[[4,"ui-components/gravity-loader",null,[["class","isLoading"],["list-checkbox",[25,"and",[[20,["row","selected"]],[20,["extra","isRowLoading"]]],null]]],{"statements":[[0,"          "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","disabled","value","checkboxClass"],[[20,["ticket","id"]],[25,"or",[[20,["extra","isRowLoading"]],[20,["extra","removeCheckBox"]]],null],[20,["row","selected"]],"trigger-shortcuts"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"      "],[6,"div"],[9,"class","app-user-photo pull-left"],[7],[0,"\\n        "],[6,"div"],[9,"class","avatar-overlay"],[7],[8],[0,"\\n        "],[1,[25,"app-components/avatar-user",null,[["user","size","class"],[[20,["ticket","requester"]],"large","app-user-photo--normal"]]],false],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[10,"class",[26,["list-content-wrap ",[25,"if",[[20,["newTicketCheck"]],"new-ticket"],null]]]],[7],[0,"\\n      "],[6,"div"],[9,"class","ticket-tag-wrap clearfix"],[10,"data-test-ticket-label",[20,["ticket","id"]],null],[7],[0,"\\n"],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[0,"          "],[1,[25,"app-components/ticket-status",null,[["ticket","associationType"],[[20,["ticket"]],[20,["ticket","associationType"]]]]],false],[0,"\\n          "],[1,[25,"ui-components/list-with-show-more",null,[["data","associationType"],[[20,["ticket","tags"]],[20,["ticket","associationType"]]]]],false],[0,"\\n\\n"],[4,"if",[[20,["associationType"]]],null,{"statements":[[0,"            "],[6,"div"],[9,"class","text__content pull-left association-wrap"],[7],[0,"\\n              "],[6,"span"],[9,"class","text--bold associated-label text--uppercase"],[10,"data-test-id",[18,"associationType"],null],[7],[0,"\\n"],[4,"if",[[20,["isServiceTask"]]],null,{"statements":[[0,"                  "],[1,[25,"svg-jar",["service-task"],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n                  "],[1,[25,"t",["tickets.ticket_associations.service_task.label"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[1,[25,"svg-jar",[[25,"concat",[[20,["associationType"]],"-list-page"],null]],[["class"],["app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n                  "],[1,[25,"t",[[25,"concat",["tickets.ticket_associations.",[20,["associationType"]],".label"],null]],null],false],[0,"\\n"]],"parameters":[]}],[0,"              "],[8],[0,"\\n"],[4,"if",[[20,["displayAssociatesCount"]]],null,{"statements":[[0,"                "],[6,"a"],[9,"role","button"],[10,"onClick",[25,"action",[[19,0,[]],"associateTickets",[20,["associationData","action"]],"ticketsList"],null],null],[9,"data-test-id","associated-tkt-count"],[9,"class","text--verysmall"],[7],[0,"\\n                  ("],[1,[25,"titleize",[[25,"t",[[20,["associationData","label"]]],[["count"],[[20,["ticket","associatedTicketsCount"]]]]]],null],false],[0,")\\n                "],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"      "],[8],[0,"\\n      "],[6,"div"],[7],[0,"\\n        "],[1,[25,"module-tickets/tickets-list/tickets-table/ticket-subject-popover",null,[["ticket","class"],[[20,["ticket"]],"text--default"]]],false],[0,"\\n      "],[8],[0,"\\n\\n      "],[6,"p"],[9,"class","text__content text__infotext text--antialias ticket-info"],[10,"data-test-ticket-timestamp",[20,["ticket","id"]],null],[7],[0,"\\n        "],[1,[25,"svg-jar",[[20,["ticket","sourceIcon"]]],[["data-test-icon","class"],[[20,["ticket","sourceIcon"]],"app-icon app-icon--small app-icon--topalign"]]],false],[0,"\\n"],[4,"if",[[20,["recentSurvey"]]],null,{"statements":[[0,"          "],[1,[25,"svg-jar",["dot"],[["class"],["app-icon app-icon--micro"]]],false],[0,"\\n          "],[6,"div"],[10,"aria-label",[20,["recentSurvey","value"]],null],[9,"class","ticketlist-survey-icon hint--rounded hint--right"],[7],[0,"\\n            "],[1,[25,"svg-jar",[[20,["recentSurvey","spec","ticketListSvg"]]],[["class","width","height"],["app-icon","36px","36px"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ticket","requester"]]],null,{"statements":[[0,"          "],[1,[25,"app-components/contact-popover",null,[["user","class","data-test-link"],[[20,["ticket","requester"]],"user-link","contact"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[6,"span"],[7],[0," "],[1,[25,"t",["fd.missing-contact"],null],false],[0," "],[8],[0,"\\n"]],"parameters":[]}],[4,"if",[[20,["companyName"]]],null,{"statements":[[0,"          ("],[1,[18,"companyName"],false],[0,")\\n"]],"parameters":[]},null],[0,"        "],[6,"span"],[7],[0,"\\n          "],[1,[25,"svg-jar",["dot"],[["class"],["app-icon app-icon--micro"]]],false],[0,"\\n          "],[1,[25,"app-components/ticket-currentstate-info",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"div"],[10,"class",[26,["col-md-3 list-content list-content--info ",[25,"if",[[20,["isNotActive"]],"list-content--inactive-data"],null]]]],[10,"data-test-dropdown",[26,["ticket-dropdown-content-",[20,["ticket","id"]]]]],[7],[0,"\\n"],[4,"if",[[20,["ticket","needsRefresh"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","pull-right refresh-ticket-list"],[7],[0,"\\n        "],[1,[25,"svg-jar",["autorefresh"],[["class"],["app-icon--small app-icon--grey"]]],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["ticket","isActionable"]]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","list-filter-wrap"],[7],[0,"\\n        "],[6,"div"],[9,"class","col-md-12 list-filter"],[7],[0,"\\n"],[4,"module-tickets/tickets-list/shared/ticket-property",null,[["promise","class"],[[20,["priorityPromise"]],"list-filter__priority"]],{"statements":[[0,"            "],[6,"div"],[9,"class","list-filter__item--icon-overlay"],[7],[0,"\\n"],[4,"component",[[19,4,["iconComponent"]]],null,{"statements":[[0,"                "],[6,"span"],[10,"class",[26,["tickets__list--",[18,"priorityKey"]," tickets__list--dropdown"]]],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"            "],[8],[0,"\\n            "],[6,"div"],[9,"class","text__content list-filter__label list-filter__priority__label drop-small"],[7],[0,"\\n"],[4,"ui-components/hover-lazy-loader",null,[["data-test-id"],["priority-hover"]],{"statements":[[0,"                "],[1,[25,"module-tickets/shared/priority-dropdown",null,[["priority","saveAction","updatePromise","additionalClasses","isPropEditDisabled"],[[20,["ticket","priority"]],[25,"action",[[19,0,[]],"choosePriority"],null],[20,["priorityPromise"]],"ticket-list-dropselect",[20,["extra","isPropEditDisabled"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[6,"div"],[9,"class","list-priority--before-hover"],[7],[0,"\\n                  "],[1,[25,"module-tickets/shared/priority-dropdown",null,[["priority","isPropEditDisabled","showPriorityPointer"],[[20,["ticket","priority"]],true,[20,["propEditAllowed"]]]]],false],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[]}],[0,"            "],[8],[0,"\\n"]],"parameters":[4]},null],[0,"\\n"],[4,"module-tickets/tickets-list/shared/ticket-property",null,[["icon","promise"],["assignto",[20,["assigntoPromise"]]]],{"statements":[[0,"            "],[6,"div"],[9,"class","pull-left list-filter__label"],[7],[0,"\\n              "],[6,"div"],[9,"class","ticket-list-assign-to"],[7],[0,"\\n"],[4,"ui-components/hover-lazy-loader",null,[["enableComponentRender","data-test-id"],[[20,["propEditAllowed"]],"assign-to-hover"]],{"statements":[[0,"                  "],[1,[25,"app-components/assign-to",null,[["agentRequired","groupRequired","groupValue","agentValue","agentList","groupList","onSave"],[[20,["agentRequired"]],[20,["groupRequired"]],[20,["groupValue"]],[20,["agentValue"]],[20,["allAgents"]],[20,["allGroups"]],[25,"action",[[19,0,[]],"onSaveAgentAndGroup"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[6,"div"],[9,"class","assignto-filter-wrap"],[7],[0,"\\n                    "],[1,[25,"ellipsis-text",[[25,"fill-default",[[20,["ticket","group","name"]],"--"],null]],null],false],[0," /\\n                    "],[1,[25,"ellipsis-text",[[25,"fill-default",[[20,["ticket","responder","contact","name"]],"--"],null]],null],false],[0,"\\n"],[4,"if",[[20,["propEditAllowed"]]],null,{"statements":[[0,"                      "],[6,"span"],[9,"class","ember-power-select-status-icon list-filter__label__pointer"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[8],[0,"\\n"]],"parameters":[]}],[0,"              "],[8],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[3]},null],[0,"\\n"],[4,"module-tickets/tickets-list/shared/ticket-property",null,[["icon","class","promise"],["status","list-filter__status",[20,["statusPromise"]]]],{"statements":[[4,"ui-components/hover-lazy-loader",null,[["enableComponentRender","data-test-id"],[[20,["propEditAllowed"]],"status-hover"]],{"statements":[[0,"              "],[6,"div"],[10,"aria-label",[25,"t",["tickets.status"],null],null],[9,"class","ticket-list-dropselect hint hint--left"],[9,"data-test-id","dropdown-status"],[10,"data-test-div",[26,["dropdown-status-",[20,["ticket","id"]]]]],[7],[0,"\\n"],[4,"power-select",null,[["selected","options","searchField","searchEnabled","onchange"],[[20,["ticket","statusChoice"]],[20,["ticketFields","statusChoices"]],"translatedLabel",[20,["showSearchInStatus"]],[25,"action",[[19,0,[]],"chooseStatus"],null]]],{"statements":[[0,"                  "],[1,[19,2,["translatedLabel"]],false],[0,"\\n"]],"parameters":[2]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[6,"div"],[9,"class","pull-left list-filter__label"],[7],[0,"\\n                "],[1,[20,["ticket","statusTranslatedLabel"]],false],[0,"\\n"],[4,"if",[[20,["propEditAllowed"]]],null,{"statements":[[0,"                  "],[6,"span"],[9,"class","ember-power-select-status-icon list-filter__label__pointer"],[7],[8],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[1]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"  "],[8],[0,"\\n"]],"parameters":[]}],[4,"if",[[20,["showValidationDialog"]]],null,{"statements":[[4,"app-components/modal-dialog",null,[["close","showModalClose","size","closeOnEscapse"],[[25,"toggle-action",["showValidationDialog",[19,0,[]]],null],true,"medium",true]],{"statements":[[0,"    "],[1,[25,"module-tickets/tickets-list/shared/close-validation",null,[["tickets","assignedStatus","onclose"],[[20,["selectedRecord"]],[20,["assignedStatus"]],[25,"toggle-action",["showValidationDialog",[19,0,[]]],null]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-item/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-light-table/component",["exports","ember-light-table/components/light-table"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({totalWidth:Ember.computed("visibleColumns.@each.width","visibleColumns.[]","windowWidth",function(){var e=Ember.get(this,"visibleColumns"),t=Ember.get(this,"windowWidth")||Ember.$(window).width(),i=e.getEach("width"),n=(i[i.length-1]||"").match(/\D+$/),s=0;if(Ember.isEmpty(n))return 0;n=n[0];for(var r=1;r<i.length;r++){var h=i[r];if(Ember.isNone(h)||-1===h.indexOf(n))return 0;s+=parseInt(h,10)}return this._windowWidth?t<this._windowWidth&&(s=Math.ceil(s+(100-t/this._windowWidth*100))):(this._totalWidth=s,this._windowWidth=t),""+(s=s<100?100:s)+n}),initResizeObserver:Ember.on("init",function(){Ember.$(window).on("resize",this.handleResize.bind(this))}),willDestroyElement:function(){this._super.apply(this,arguments),Ember.$(window).off("resize")},didRender:function(){this._super.apply(this,arguments),Ember.get(this,"visibleColumns").filter(function(e){return Ember.isNone(e.notResize)}).forEach(function(e){var t=Ember.get(e,"minwidth")?parseInt(Ember.get(e,"minwidth")):null,i=parseInt(Ember.get(e,"width")),n=Ember.get(e,"finalWidth"),s=Ember.get(e,"headerwidth");t&&(s&&(t=s>t?s:t),n=t<n?n:t,1===Math.abs(i-n)&&(n=i)),Ember.set(e,"width",n+"%")})},handleResize:function(){Ember.set(this,"windowWidth",Ember.$(window).width())}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-row/component",["exports","freshdesk/components/ui-components/light-table/marked-row/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({classNameBindings:["isNotActive:ticket-notactive"],isNotActive:Ember.computed.not("row.content.ticketActive")})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-subject-popover/component",["exports","freshdesk/constants/component-map/conversation-source","ember-concurrency","freshdesk/mixins/tickets/can-send-reply","freshdesk/mixins/tickets/ticket-status"],function(e,t,s,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[2,3];e.default=Ember.Component.extend(i.default,r.default,{store:Ember.inject.service(),showPopOver:!1,isDataLoaded:!1,quickReplySent:!1,showQuickReply:!0,classNames:["ticket-listview-hover","__module-tickets__tickets-list__tickets-table__ticket-subject-popover"],classNameBindings:["isAssociated"],renderLazyElement:!1,isAssociated:Ember.computed.notEmpty("ticket.associationType"),actions:{onOpen:function(){Ember.get(this,"fetchLatestNote").perform(Ember.get(this,"ticket"))},prevent:function(e){var t=Array.prototype.slice.call(arguments),s=t[2];return s.metaKey||s.ctrlKey||o.includes(s.which)||(this.sendAction("sendSearchDataToHeap"),Ember.get(this,"router").transitionTo("helpdesk.tickets.show",e)),!1},addQuickNote:function(e){var t=this,s=Ember.get(this,"ticket"),i={options:{template:"module-tickets.tickets-list.quick-reply",showModalClose:!0,quickReply:!0,className:"quick-reply-overlay"},data:{ticket:s,actionType:e,updateLastConversation:function(){Ember.set(t,"quickReplySent",!0)}}};this.overlay.open(i)},forceLazyRender:function(){var e=this;Ember.set(this,"renderLazyElement",!0),Ember.run.next(function(){e.element.querySelector(".ember-basic-dropdown-trigger").focus()})}},fetchLatestNote:(0,s.task)(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ember.get(this,"quickReplySent")){e.next=4;break}this.setViewData(!0),e.next=9;break;case 4:if(Ember.get(this,"isDataLoaded")){e.next=9;break}return e.next=7,t.latestNote();case 7:s=e.sent,this._handleLatestNote(s);case 9:case"end":return e.stop()}},e,this)})),setViewData:function(e){var s="";if(e){var i=Ember.get(this,"ticket.lastConversationId"),r=Ember.get(this,"store").peekRecord("conversation",i),o=t.noteSource[Ember.get(r,"source")],a=Ember.get(r,"private");s="forward_email"===o?"tickets.overlay_forward":"note"===o?a?"tickets.overlay_private_note":"tickets.overlay_public_note":"tickets.overlay_reply",Ember.setProperties(this,{bodyText:Ember.get(r,"bodyText"),timeInfo:Ember.get(r,"createdAt"),user:Ember.get(r,"user"),msgKey:s})}else s="tickets.overlay_submitted_ticket",Ember.setProperties(this,{bodyText:Ember.get(this,"ticket.descriptionText"),timeInfo:Ember.get(this,"ticket.createdAt"),user:Ember.get(this,"ticket.requester"),msgKey:s});Ember.set(this,"isDataLoaded",!0)},_handleLatestNote:function(e){Ember.get(this,"isDestroyed")||Ember.get(this,"isDestroying")||(e&&(e.conversation||e.ticket)?(Ember.get(this,"store").pushPayload(e),this.setViewData(e.hasOwnProperty("conversation"))):this.setViewData(!1))}})});
define("freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-subject-popover/template",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"eRK5TIIY",block:'{"symbols":["dropdown"],"statements":[[4,"ui-components/hover-lazy-loader",null,[["enableComponentRender","renderLazyElement"],[[25,"not",[[20,["ticket","archived"]]],null],[20,["renderLazyElement"]]]],{"statements":[[0,"\\n"],[4,"basic-dropdown-hover",null,[["horizontalPosition","onOpen","openDelay","closeDelay"],["left",[25,"action",[[19,0,[]],"onOpen"],null],800,200]],{"statements":[[4,"component",[[19,1,["trigger"]]],[["class","data-test-id","onMouseDown","onFocus","onBlur","tabindex"],["trigger-shortcuts",[25,"concat",["ticket-subject-hover-",[20,["ticket","id"]]],null],[25,"action",[[19,0,[]],"prevent",[20,["ticket","id"]]],null],[25,"action",[[19,0,[]],[19,1,["actions","open"]]],null],[25,"action",[[19,0,[]],[19,1,["actions","close"]]],null],"-1"]],{"statements":[[0,"      "],[1,[25,"app-components/ticket-subject-link",null,[["ticket"],[[20,["ticket"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["ticket-list-item-hover dropdown-pointer-left"]],{"statements":[[4,"if",[[20,["isDataLoaded"]]],null,{"statements":[[0,"        "],[1,[25,"app-components/ticket-subject-card",null,[["showQuickReply","showTicketReply","addQuickNote","ticket","user","timeInfo","msgKey","bodyText"],[[20,["showQuickReply"]],[20,["showTicketReply"]],[25,"pipe-action",[[25,"action",[[19,0,[]],"addQuickNote"],null],[25,"action",[[19,0,[]],[19,1,["actions","close"]]],null]],null],[20,["ticket"]],[20,["user"]],[20,["timeInfo"]],[20,["msgKey"]],[20,["bodyText"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"div"],[9,"class","ticket-list-user-hover clearfix"],[7],[0,"\\n          "],[6,"span"],[7],[1,[25,"t",["fd.loading"],null],false],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[1]},null]],"parameters":[]},{"statements":[[0,"  "],[1,[25,"app-components/ticket-subject-link",null,[["ticket","onclick","focusIn"],[[20,["ticket"]],[25,"action",[[19,0,[]],"prevent",[20,["ticket","id"]]],null],[25,"action",[[19,0,[]],"forceLazyRender"],null]]]],false],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/tickets-table/ticket-subject-popover/template.hbs"}})});
define("freshdesk/components/module-tickets/tickets-list/top-navigation/component",["exports","freshdesk/mixins/tickets/ticket-special-filters","freshdesk/constants/ticket","freshdesk/constants/occulsion-rendering-standard-options"],function(t,e,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["asc","desc"],r=s.default.sortOptions;t.default=Ember.Component.extend(e.default,{store:Ember.inject.service(),shortcutsTooltip:Ember.inject.service(),classNames:["__module-tickets__tickets-list__top-navigation"],classNameBindings:["isLoading:list-loading"],orderByValues:n,defaultOcculsionOptions:i.defaultOcculsionOptions,isExportVisible:Ember.computed("count","isSpamOrTrash","isOngoingCollab",function(){var t=!Ember.get(this,"isSpamOrTrash"),e=!Ember.get(this,"isOngoingCollab"),s=Ember.get(this,"count"),i=this.currentUser.hasAbility("export_tickets");return t&&e&&s&&i}),sortByOptions:Ember.computed("currentAccount.accountData.features.[]",function(){var t=this,e=[];return r.forEach(function(s){s.feature?Ember.get(t,"currentAccount").hasFeature(s.feature)&&e.push(s.name):e.push(s.name)}),e}),hasBulkScenarios:Ember.computed(function(){return Ember.get(this,"currentAccount").hasFeature("scenarioAutomation")}),viewTypes:Ember.computed(function(){return[{type:this.i18n.t("fd.cardview"),value:!1,link:"list-view"},{type:this.i18n.t("fd.tableview"),value:!0,link:"table-view"}]}),agentslist:Ember.computed("ticketfields",function(){var t=Ember.get(this,"store").peekAll("agent"),e=Object.create({id:-1,contact:{name:this.i18n.t("ticket.assigntome")}}),s=t.toArray();return s.unshift(e),s}),actions:{assignAgents:function(t,e){Ember.get(this,"assignAgents")(t),e.actions.close()},resolveTickets:function(t){Ember.get(this,"resolveTickets")(t)}}})});
define("freshdesk/components/module-tickets/tickets-list/top-navigation/template",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ember.HTMLBars.template({id:"Ydf/92Xi",block:'{"symbols":["dropdown","viewType","dropdown","orderType","sortItem","dropdown","agent","index"],"statements":[[6,"div"],[9,"class","page-actions__left"],[7],[0,"\\n"],[4,"if",[[25,"and",[[20,["hasListContent"]],[25,"not",[[20,["isOngoingCollab"]]],null]],null]],null,{"statements":[[4,"ui-components/gravity-loader",null,[["class","isLoading"],["top-navigation--checkbox-wrapper",[25,"and",[[20,["isSelectAll"]],[20,["isBulkOperationPending"]]],null]]],{"statements":[[0,"      "],[1,[25,"ui-form/custom-checkbox",null,[["labelId","class","checkboxClass","disabled","value","onchange"],["top-navigation","top-navigation-checkbox","trigger-shortcuts",[20,["isBulkOperationPending"]],[20,["isSelectAll"]],[20,["toggleSelectAll"]]]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"and",[[20,["hasListContent"]],[20,["isChecked"]]],null]],null,{"statements":[[4,"if",[[20,["isTrash"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text"],[10,"onclick",[18,"restoreTickets"],null],[10,"aria-label",[25,"t",["tickets.restore"],null],null],[7],[0,"\\n        "],[1,[25,"svg-jar",["refresh"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.restore"],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[25,"hasabilities",["delete_ticket"],null]],null,{"statements":[[0,"        "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"onclick",[18,"deleteForever"],null],[10,"aria-label",[20,["shortcutsTooltip","tickets","delete"]],null],[7],[0,"\\n          "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.deleteforever"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[20,["isSpam"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text"],[10,"onclick",[18,"ticketNotSpam"],null],[10,"aria-label",[25,"t",["tickets.unspam"],null],null],[7],[0,"\\n        "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.unspam"],null],false],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[25,"hasabilities",["delete_ticket"],null]],null,{"statements":[[0,"        "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"onclick",[18,"deleteForever"],null],[10,"aria-label",[20,["shortcutsTooltip","tickets","delete"]],null],[7],[0,"\\n          "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.deleteforever"],null],false],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[25,"not",[[25,"or",[[20,["isSpamOrTrash"]],[20,["isOngoingCollab"]]],null]],null]],null,{"statements":[[0,"      "],[6,"div"],[9,"class","action-btn-slide"],[7],[0,"\\n"],[4,"if",[[25,"hasabilities",["edit_ticket_properties"],null]],null,{"statements":[[4,"basic-dropdown",null,[["class","renderInPlace"],["app-dropdown-group",true]],{"statements":[[4,"component",[[19,6,["trigger"]]],null,{"statements":[[0,"              "],[6,"button"],[10,"aria-label",[25,"t",["tickets.assign"],null],null],[9,"data-toggle","dropdown"],[10,"data-test-link",[25,"t",["tickets.assign"],null],null],[9,"data-test-id","ticket-assign"],[9,"class","dropdown-toggle app-icon-btn app-icon-btn--text"],[7],[0,"\\n                "],[1,[25,"svg-jar",["assignto"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.assign"],null],false],[0,"\\n              "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,6,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"              "],[6,"ul"],[9,"class","dropdown-menu dropdown-normal assign-to-list vertical-select-options"],[7],[0,"\\n"],[4,"app-components/vertical-collection-options",null,[["occulsionRenderOptions","options"],[[20,["defaultOcculsionOptions"]],[20,["agentslist"]]]],{"statements":[[0,"                  "],[6,"li"],[7],[0,"\\n                    "],[6,"a"],[9,"href","javascript:void(0)"],[9,"class","app-dropdown__item"],[9,"data-test-id","ticket-assign-agent"],[10,"onclick",[25,"action",[[19,0,[]],"assignAgents",[19,7,[]],[19,6,[]]],null],null],[7],[0,"\\n                      "],[1,[19,7,["contact","name"]],false],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n"]],"parameters":[7,8]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[6]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"hasabilities",["edit_ticket_properties"],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"onclick",[25,"action",[[19,0,[]],"resolveTickets"],[["allowedKeys"],["shift"]]],null],[10,"aria-label",[25,"t",["tickets.shift_close"],null],null],[9,"data-test-link","Close Ticket"],[7],[0,"\\n            "],[1,[25,"svg-jar",["close-ticket"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.closeTicket"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"or",[[25,"hasabilities",["edit_ticket_properties"],null],[25,"hasabilities",["reply_ticket"],null]],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text"],[10,"data-test-link",[25,"t",["tickets.bulkactions"],null],null],[10,"onclick",[18,"toggleBulkAction"],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["convert"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.bulkactions"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"hasabilities",["merge_or_split_ticket"],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text"],[10,"onclick",[18,"mergeTickets"],null],[10,"data-test-link",[25,"t",["tickets.merge"],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["merge"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.merge"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[25,"hasfeature",["link_tickets"],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn dropdown-toggle app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"aria-label",[25,"t",["tickets.link"],null],null],[10,"onclick",[18,"linkTickets"],null],[10,"data-test-link",[25,"t",["tickets.link"],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["insert-link"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["tickets.link"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["isMonitoredBy"]]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text"],[10,"onclick",[18,"bulkUnwatch"],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["star"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.unwatch"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[20,["hasBulkScenarios"]]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"aria-label",[20,["shortcutsTooltip","tickets","scenario"]],null],[10,"data-test-link",[25,"t",["tickets.scenarios"],null],null],[10,"onclick",[18,"toggleOverlay"],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["scenarios"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.scenarios"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"\\n        "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"aria-label",[20,["shortcutsTooltip","tickets","spam"]],null],[10,"data-test-link",[25,"t",["tickets.markasspam"],null],null],[10,"onclick",[18,"markasspam"],null],[7],[0,"\\n          "],[1,[25,"svg-jar",["spam"],[["class"],["app-icon"]]],false],[0,"\\n          "],[1,[25,"t",["tickets.markasspam"],null],false],[0,"\\n        "],[8],[0,"\\n\\n"],[4,"if",[[25,"hasabilities",["delete_ticket"],null]],null,{"statements":[[0,"          "],[6,"button"],[9,"class","app-icon-btn app-icon-btn--text hint--rounded hint--bottom"],[10,"aria-label",[20,["shortcutsTooltip","tickets","delete"]],null],[10,"onclick",[25,"action",[[19,0,[]],[20,["deleteTickets"]]],null],null],[9,"data-toggle","dropdown"],[10,"data-test-link",[25,"t",["tickets.delete"],null],null],[7],[0,"\\n            "],[1,[25,"svg-jar",["delete"],[["class"],["app-icon"]]],false],[0,"\\n            "],[1,[25,"t",["tickets.delete"],null],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,"and",[[20,["hasListContent"]],[20,["currentFilter"]]],null]],null,{"statements":[[4,"basic-dropdown",null,[["class","renderInPlace"],["pull-left sortby-dropdown",true]],{"statements":[[4,"component",[[19,3,["trigger"]]],[["class"],["trigger-shortcuts"]],{"statements":[[0,"          "],[6,"span"],[9,"class","muted"],[7],[0,"\\n            "],[1,[25,"t",["tickets.sortby"],null],false],[0,":\\n          "],[8],[0,"\\n          "],[6,"button"],[9,"class","btn btn--transparent btn--date-select scale-none"],[9,"data-test-id","view-sort"],[7],[0,"\\n            "],[1,[25,"t",[[25,"concat",["ticket.sortby.",[20,["currentFilter","orderBy"]]],null]],null],false],[0,"\\n            "],[1,[25,"svg-jar",["downarrow"],[["class","data-test-dropdown"],["app-icon app-icon--verysmall","menu-sort"]]],false],[0,"\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,3,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"          "],[6,"ul"],[9,"class","dropdown-menu dropdown-normal app-dropdown"],[3,"action",[[19,0,[]],[19,3,["actions","close"]]]],[7],[0,"\\n"],[4,"each",[[20,["sortByOptions"]]],null,{"statements":[[0,"              "],[6,"li"],[10,"class",[26,["dropdown-normal__item ",[25,"if",[[25,"eq",[[19,5,[]],[20,["currentFilter","orderBy"]]],null],"selected"],null]]]],[9,"data-test-dropdown","sort-menulist"],[7],[0,"\\n"],[4,"link-to",["helpdesk.tickets.filters.show",[25,"query-params",null,[["orderBy"],[[19,5,[]]]]]],[["click","class","data-test-id"],[[25,"action",[[19,0,[]],[19,3,["actions","close"]]],null],"item-link","view-sort-options"]],{"statements":[[4,"if",[[25,"eq",[[19,5,[]],[20,["currentFilter","orderBy"]]],null]],null,{"statements":[[0,"                    "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon app-icon--small selectedtick"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[25,"t",[[25,"concat",["ticket.sortby.",[19,5,[]]],null]],null],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[5]},null],[0,"            "],[6,"li"],[9,"role","separator"],[9,"class","divider"],[7],[8],[0,"\\n"],[4,"each",[[20,["orderByValues"]]],null,{"statements":[[0,"              "],[6,"li"],[10,"class",[26,["dropdown-normal__item ",[25,"if",[[25,"eq",[[19,4,[]],[20,["currentFilter","orderType"]]],null],"selected"],null]]]],[7],[0,"\\n"],[4,"link-to",["helpdesk.tickets.filters.show",[25,"query-params",null,[["orderType"],[[19,4,[]]]]]],[["click","class"],[[25,"action",[[19,0,[]],[19,3,["actions","close"]]],null],"item-link"]],{"statements":[[0,"\\n"],[4,"if",[[25,"eq",[[19,4,[]],[20,["currentFilter","orderType"]]],null]],null,{"statements":[[0,"                    "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon app-icon--small selectedtick"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[1,[25,"t",[[25,"concat",["ticket.sortby.",[19,4,[]]],null]],null],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[8],[0,"\\n"]],"parameters":[4]},null],[0,"          "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[3]},null]],"parameters":[]},null]],"parameters":[]}],[8],[0,"\\n"],[6,"div"],[9,"class","page-actions__right"],[7],[0,"\\n  "],[6,"div"],[9,"class","pull-right"],[7],[0,"\\n"],[4,"if",[[25,"and",[[25,"not",[[20,["isChecked"]]],null],[20,["hasListContent"]]],null]],null,{"statements":[[0,"      "],[6,"span"],[9,"class","view-action"],[7],[0,"\\n"],[4,"basic-dropdown",null,[["class","renderInPlace"],["app-dropdown-group dropdown-layout",true]],{"statements":[[4,"component",[[19,1,["trigger"]]],null,{"statements":[[0,"            "],[6,"span"],[9,"class","muted"],[7],[0,"\\n              "],[1,[25,"t",["ticket.detail.layout"],null],false],[0,":\\n            "],[8],[0,"\\n            "],[6,"button"],[9,"data-toggle","dropdown"],[9,"data-test-id","view-dropdown"],[9,"class","btn btn--transparent btn--date-select scale-none p0"],[7],[0,"\\n"],[4,"if",[[20,["isTableView"]]],null,{"statements":[[0,"                "],[1,[25,"t",["fd.tableview"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[1,[25,"t",["fd.cardview"],null],false],[0,"\\n"]],"parameters":[]}],[0,"              "],[1,[25,"svg-jar",["downarrow"],[["class","data-test-dropdown"],["app-icon app-icon--verysmall","menu-sort"]]],false],[0,"\\n            "],[8],[0,"\\n"]],"parameters":[]},null],[4,"component",[[19,1,["content"]]],[["class"],["bs-dropdown"]],{"statements":[[0,"            "],[6,"ul"],[9,"class","dropdown-menu dropdown-normal app-dropdown"],[3,"action",[[19,0,[]],[19,1,["actions","close"]]]],[7],[0,"\\n"],[4,"each",[[20,["viewTypes"]]],null,{"statements":[[0,"                "],[6,"li"],[10,"class",[26,["dropdown-normal__item ",[25,"if",[[25,"eq",[[19,2,["value"]],[20,["isTableView"]]],null],"selected"],null]]]],[9,"data-test-id","view-list"],[7],[0,"\\n                  "],[6,"a"],[9,"href","javascript:void(0)"],[9,"class","item-link"],[9,"data-test-id","change-view"],[10,"data-test-link",[19,2,["link"]],null],[10,"onclick",[25,"action",[[19,0,[]],[20,["switchView"]],[19,2,["value"]]],null],null],[7],[0,"\\n                    "],[1,[19,2,["type"]],false],[0,"\\n                    "],[6,"span"],[9,"class","resolved-icon"],[7],[0,"\\n                      "],[1,[25,"svg-jar",["resolved"],[["class"],["app-icon app-icon--small selectedtick"]]],false],[0,"\\n                    "],[8],[0,"\\n                  "],[8],[0,"\\n                "],[8],[0,"\\n"]],"parameters":[2]},null],[0,"            "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[0,"      "],[8],[0,"\\n"]],"parameters":[]},null],[4,"if",[[20,["isExportVisible"]]],null,{"statements":[[0,"      "],[6,"button"],[9,"class","app-icon-btn app-icon-btn app-icon-btn--text"],[10,"onclick",[18,"exportTickets"],null],[7],[0,"\\n        "],[1,[25,"svg-jar",["newexport"],[["class"],["app-icon"]]],false],[0," "],[1,[25,"t",["fd.export"],null],false],[0,"\\n      "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[1,[25,"ui-components/fresh-pagination",null,[["count","perPage","page","isLoading"],[[20,["count"]],[20,["perPage"]],[20,["page"]],[20,["isPageLoading"]]]]],false],[0,"\\n    "],[1,[25,"app-components/filter-list/filter-list-collapse",null,[["isFilterExpanded","shouldHideFilterOptions"],[[20,["isFilterExpanded"]],[20,["shouldHideFilterOptions"]]]]],false],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/components/module-tickets/tickets-list/top-navigation/template.hbs"}})});
define("freshdesk/templates/components/col-pick-input",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"e8WSYIKy",block:'{"symbols":["&default"],"statements":[[11,1],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/templates/components/col-pick-input.hbs"}})});
define("freshdesk/templates/components/rl-dropdown-container",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"9c6m/Hpm",block:'{"symbols":["&default"],"statements":[[11,1,[[20,["dropdownExpanded"]]]],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"freshdesk/templates/components/rl-dropdown-container.hbs"}})});
define("freshdesk/templates/components/scroll-to",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"zgqhquAc",block:'{"symbols":["&default"],"statements":[[4,"if",[[22,1]],null,{"statements":[[0,"  "],[11,1],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[1,[18,"label"],false],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"freshdesk/templates/components/scroll-to.hbs"}})});


define('freshdesk/config/environment', [], function() {
  var prefix = 'freshdesk';
try {
  var metaName = prefix + '/config/environment';
  var rawConfig = document.querySelector('meta[name="' + metaName + '"]').getAttribute('content');
  var config = JSON.parse(unescape(rawConfig));

  var exports = { 'default': config };

  Object.defineProperty(exports, '__esModule', { value: true });

  return exports;
}
catch(err) {
  throw new Error('Could not read config from meta tag with name "' + metaName + '".');
}

});


